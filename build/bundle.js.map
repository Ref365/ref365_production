{"version":3,"file":"bundle.js","sources":["../../node_modules/svelte/internal/index.mjs","../../node_modules/svelte/store/index.mjs","../../node_modules/svelte-routing/src/contexts.js","../../node_modules/svelte-routing/src/history.js","../../node_modules/svelte-routing/src/utils.js","../../node_modules/svelte-routing/src/Router.svelte","../../node_modules/svelte-routing/src/Route.svelte","../../node_modules/svelte-routing/src/actions.js","../../node_modules/tslib/tslib.es6.js","../../node_modules/graphql/jsutils/nodejsCustomInspectSymbol.mjs","../../node_modules/graphql/jsutils/inspect.mjs","../../node_modules/graphql/jsutils/defineToJSON.mjs","../../node_modules/graphql/language/ast.mjs","../../node_modules/graphql/language/visitor.mjs","../../node_modules/ts-invariant/lib/invariant.esm.js","../../node_modules/fast-json-stable-stringify/index.js","../../node_modules/@wry/equality/lib/equality.esm.js","../../node_modules/apollo-utilities/lib/bundle.esm.js","../../node_modules/zen-observable/lib/Observable.js","../../node_modules/zen-observable-ts/lib/bundle.esm.js","../../node_modules/zen-observable/index.js","../../node_modules/apollo-link/lib/bundle.esm.js","../../node_modules/symbol-observable/es/index.js","../../node_modules/apollo-client/bundle.esm.js","../../node_modules/symbol-observable/es/ponyfill.js","../../node_modules/apollo-cache/lib/bundle.esm.js","../../node_modules/@wry/context/lib/context.esm.js","../../node_modules/optimism/lib/bundle.esm.js","../../node_modules/apollo-cache-inmemory/lib/bundle.esm.js","../../node_modules/graphql/language/blockString.mjs","../../node_modules/graphql/language/printer.mjs","../../node_modules/apollo-link-http-common/lib/bundle.esm.js","../../node_modules/apollo-link-http/lib/bundle.esm.js","../../node_modules/apollo-link-error/lib/bundle.esm.js","../../node_modules/graphql/jsutils/devAssert.mjs","../../node_modules/graphql/jsutils/isObjectLike.mjs","../../node_modules/graphql/polyfills/symbols.mjs","../../node_modules/graphql/language/location.mjs","../../node_modules/graphql/language/printLocation.mjs","../../node_modules/graphql/error/GraphQLError.mjs","../../node_modules/graphql/error/syntaxError.mjs","../../node_modules/graphql/language/kinds.mjs","../../node_modules/graphql/language/source.mjs","../../node_modules/graphql/language/directiveLocation.mjs","../../node_modules/graphql/language/tokenKind.mjs","../../node_modules/graphql/language/lexer.mjs","../../node_modules/graphql/language/parser.mjs","../../node_modules/graphql-tag/src/index.js","../../node_modules/svelte-observable/dist/svelte-observable.es.js","../../node_modules/apollo-boost/lib/bundle.esm.js","../../node_modules/svelte-apollo/dist/svelte-apollo.es.js","../../src/components/UpcomingEvents.svelte","../../src/components/NewEventForm.svelte","../../src/components/TotalIncomeChart.svelte","../../src/components/TotalMileageChart.svelte","../../src/components/Dashboard.svelte","../../src/components/AllEvents.svelte","../../src/App.svelte","../../src/main.js"],"sourcesContent":["function noop() { }\nconst identity = x => x;\nfunction assign(tar, src) {\n    // @ts-ignore\n    for (const k in src)\n        tar[k] = src[k];\n    return tar;\n}\nfunction is_promise(value) {\n    return value && typeof value === 'object' && typeof value.then === 'function';\n}\nfunction add_location(element, file, line, column, char) {\n    element.__svelte_meta = {\n        loc: { file, line, column, char }\n    };\n}\nfunction run(fn) {\n    return fn();\n}\nfunction blank_object() {\n    return Object.create(null);\n}\nfunction run_all(fns) {\n    fns.forEach(run);\n}\nfunction is_function(thing) {\n    return typeof thing === 'function';\n}\nfunction safe_not_equal(a, b) {\n    return a != a ? b == b : a !== b || ((a && typeof a === 'object') || typeof a === 'function');\n}\nfunction not_equal(a, b) {\n    return a != a ? b == b : a !== b;\n}\nfunction validate_store(store, name) {\n    if (store != null && typeof store.subscribe !== 'function') {\n        throw new Error(`'${name}' is not a store with a 'subscribe' method`);\n    }\n}\nfunction subscribe(store, ...callbacks) {\n    if (store == null) {\n        return noop;\n    }\n    const unsub = store.subscribe(...callbacks);\n    return unsub.unsubscribe ? () => unsub.unsubscribe() : unsub;\n}\nfunction get_store_value(store) {\n    let value;\n    subscribe(store, _ => value = _)();\n    return value;\n}\nfunction component_subscribe(component, store, callback) {\n    component.$$.on_destroy.push(subscribe(store, callback));\n}\nfunction create_slot(definition, ctx, $$scope, fn) {\n    if (definition) {\n        const slot_ctx = get_slot_context(definition, ctx, $$scope, fn);\n        return definition[0](slot_ctx);\n    }\n}\nfunction get_slot_context(definition, ctx, $$scope, fn) {\n    return definition[1] && fn\n        ? assign($$scope.ctx.slice(), definition[1](fn(ctx)))\n        : $$scope.ctx;\n}\nfunction get_slot_changes(definition, $$scope, dirty, fn) {\n    if (definition[2] && fn) {\n        const lets = definition[2](fn(dirty));\n        if ($$scope.dirty === undefined) {\n            return lets;\n        }\n        if (typeof lets === 'object') {\n            const merged = [];\n            const len = Math.max($$scope.dirty.length, lets.length);\n            for (let i = 0; i < len; i += 1) {\n                merged[i] = $$scope.dirty[i] | lets[i];\n            }\n            return merged;\n        }\n        return $$scope.dirty | lets;\n    }\n    return $$scope.dirty;\n}\nfunction exclude_internal_props(props) {\n    const result = {};\n    for (const k in props)\n        if (k[0] !== '$')\n            result[k] = props[k];\n    return result;\n}\nfunction compute_rest_props(props, keys) {\n    const rest = {};\n    keys = new Set(keys);\n    for (const k in props)\n        if (!keys.has(k) && k[0] !== '$')\n            rest[k] = props[k];\n    return rest;\n}\nfunction once(fn) {\n    let ran = false;\n    return function (...args) {\n        if (ran)\n            return;\n        ran = true;\n        fn.call(this, ...args);\n    };\n}\nfunction null_to_empty(value) {\n    return value == null ? '' : value;\n}\nfunction set_store_value(store, ret, value = ret) {\n    store.set(value);\n    return ret;\n}\nconst has_prop = (obj, prop) => Object.prototype.hasOwnProperty.call(obj, prop);\nfunction action_destroyer(action_result) {\n    return action_result && is_function(action_result.destroy) ? action_result.destroy : noop;\n}\n\nconst is_client = typeof window !== 'undefined';\nlet now = is_client\n    ? () => window.performance.now()\n    : () => Date.now();\nlet raf = is_client ? cb => requestAnimationFrame(cb) : noop;\n// used internally for testing\nfunction set_now(fn) {\n    now = fn;\n}\nfunction set_raf(fn) {\n    raf = fn;\n}\n\nconst tasks = new Set();\nfunction run_tasks(now) {\n    tasks.forEach(task => {\n        if (!task.c(now)) {\n            tasks.delete(task);\n            task.f();\n        }\n    });\n    if (tasks.size !== 0)\n        raf(run_tasks);\n}\n/**\n * For testing purposes only!\n */\nfunction clear_loops() {\n    tasks.clear();\n}\n/**\n * Creates a new task that runs on each raf frame\n * until it returns a falsy value or is aborted\n */\nfunction loop(callback) {\n    let task;\n    if (tasks.size === 0)\n        raf(run_tasks);\n    return {\n        promise: new Promise(fulfill => {\n            tasks.add(task = { c: callback, f: fulfill });\n        }),\n        abort() {\n            tasks.delete(task);\n        }\n    };\n}\n\nfunction append(target, node) {\n    target.appendChild(node);\n}\nfunction insert(target, node, anchor) {\n    target.insertBefore(node, anchor || null);\n}\nfunction detach(node) {\n    node.parentNode.removeChild(node);\n}\nfunction destroy_each(iterations, detaching) {\n    for (let i = 0; i < iterations.length; i += 1) {\n        if (iterations[i])\n            iterations[i].d(detaching);\n    }\n}\nfunction element(name) {\n    return document.createElement(name);\n}\nfunction element_is(name, is) {\n    return document.createElement(name, { is });\n}\nfunction object_without_properties(obj, exclude) {\n    const target = {};\n    for (const k in obj) {\n        if (has_prop(obj, k)\n            // @ts-ignore\n            && exclude.indexOf(k) === -1) {\n            // @ts-ignore\n            target[k] = obj[k];\n        }\n    }\n    return target;\n}\nfunction svg_element(name) {\n    return document.createElementNS('http://www.w3.org/2000/svg', name);\n}\nfunction text(data) {\n    return document.createTextNode(data);\n}\nfunction space() {\n    return text(' ');\n}\nfunction empty() {\n    return text('');\n}\nfunction listen(node, event, handler, options) {\n    node.addEventListener(event, handler, options);\n    return () => node.removeEventListener(event, handler, options);\n}\nfunction prevent_default(fn) {\n    return function (event) {\n        event.preventDefault();\n        // @ts-ignore\n        return fn.call(this, event);\n    };\n}\nfunction stop_propagation(fn) {\n    return function (event) {\n        event.stopPropagation();\n        // @ts-ignore\n        return fn.call(this, event);\n    };\n}\nfunction self(fn) {\n    return function (event) {\n        // @ts-ignore\n        if (event.target === this)\n            fn.call(this, event);\n    };\n}\nfunction attr(node, attribute, value) {\n    if (value == null)\n        node.removeAttribute(attribute);\n    else if (node.getAttribute(attribute) !== value)\n        node.setAttribute(attribute, value);\n}\nfunction set_attributes(node, attributes) {\n    // @ts-ignore\n    const descriptors = Object.getOwnPropertyDescriptors(node.__proto__);\n    for (const key in attributes) {\n        if (attributes[key] == null) {\n            node.removeAttribute(key);\n        }\n        else if (key === 'style') {\n            node.style.cssText = attributes[key];\n        }\n        else if (key === '__value' || descriptors[key] && descriptors[key].set) {\n            node[key] = attributes[key];\n        }\n        else {\n            attr(node, key, attributes[key]);\n        }\n    }\n}\nfunction set_svg_attributes(node, attributes) {\n    for (const key in attributes) {\n        attr(node, key, attributes[key]);\n    }\n}\nfunction set_custom_element_data(node, prop, value) {\n    if (prop in node) {\n        node[prop] = value;\n    }\n    else {\n        attr(node, prop, value);\n    }\n}\nfunction xlink_attr(node, attribute, value) {\n    node.setAttributeNS('http://www.w3.org/1999/xlink', attribute, value);\n}\nfunction get_binding_group_value(group) {\n    const value = [];\n    for (let i = 0; i < group.length; i += 1) {\n        if (group[i].checked)\n            value.push(group[i].__value);\n    }\n    return value;\n}\nfunction to_number(value) {\n    return value === '' ? undefined : +value;\n}\nfunction time_ranges_to_array(ranges) {\n    const array = [];\n    for (let i = 0; i < ranges.length; i += 1) {\n        array.push({ start: ranges.start(i), end: ranges.end(i) });\n    }\n    return array;\n}\nfunction children(element) {\n    return Array.from(element.childNodes);\n}\nfunction claim_element(nodes, name, attributes, svg) {\n    for (let i = 0; i < nodes.length; i += 1) {\n        const node = nodes[i];\n        if (node.nodeName === name) {\n            let j = 0;\n            while (j < node.attributes.length) {\n                const attribute = node.attributes[j];\n                if (attributes[attribute.name]) {\n                    j++;\n                }\n                else {\n                    node.removeAttribute(attribute.name);\n                }\n            }\n            return nodes.splice(i, 1)[0];\n        }\n    }\n    return svg ? svg_element(name) : element(name);\n}\nfunction claim_text(nodes, data) {\n    for (let i = 0; i < nodes.length; i += 1) {\n        const node = nodes[i];\n        if (node.nodeType === 3) {\n            node.data = '' + data;\n            return nodes.splice(i, 1)[0];\n        }\n    }\n    return text(data);\n}\nfunction claim_space(nodes) {\n    return claim_text(nodes, ' ');\n}\nfunction set_data(text, data) {\n    data = '' + data;\n    if (text.data !== data)\n        text.data = data;\n}\nfunction set_input_value(input, value) {\n    if (value != null || input.value) {\n        input.value = value;\n    }\n}\nfunction set_input_type(input, type) {\n    try {\n        input.type = type;\n    }\n    catch (e) {\n        // do nothing\n    }\n}\nfunction set_style(node, key, value, important) {\n    node.style.setProperty(key, value, important ? 'important' : '');\n}\nfunction select_option(select, value) {\n    for (let i = 0; i < select.options.length; i += 1) {\n        const option = select.options[i];\n        if (option.__value === value) {\n            option.selected = true;\n            return;\n        }\n    }\n}\nfunction select_options(select, value) {\n    for (let i = 0; i < select.options.length; i += 1) {\n        const option = select.options[i];\n        option.selected = ~value.indexOf(option.__value);\n    }\n}\nfunction select_value(select) {\n    const selected_option = select.querySelector(':checked') || select.options[0];\n    return selected_option && selected_option.__value;\n}\nfunction select_multiple_value(select) {\n    return [].map.call(select.querySelectorAll(':checked'), option => option.__value);\n}\nfunction add_resize_listener(element, fn) {\n    if (getComputedStyle(element).position === 'static') {\n        element.style.position = 'relative';\n    }\n    const object = document.createElement('object');\n    object.setAttribute('style', 'display: block; position: absolute; top: 0; left: 0; height: 100%; width: 100%; overflow: hidden; pointer-events: none; z-index: -1;');\n    object.setAttribute('aria-hidden', 'true');\n    object.type = 'text/html';\n    object.tabIndex = -1;\n    let win;\n    object.onload = () => {\n        win = object.contentDocument.defaultView;\n        win.addEventListener('resize', fn);\n    };\n    if (/Trident/.test(navigator.userAgent)) {\n        element.appendChild(object);\n        object.data = 'about:blank';\n    }\n    else {\n        object.data = 'about:blank';\n        element.appendChild(object);\n    }\n    return {\n        cancel: () => {\n            win && win.removeEventListener && win.removeEventListener('resize', fn);\n            element.removeChild(object);\n        }\n    };\n}\nfunction toggle_class(element, name, toggle) {\n    element.classList[toggle ? 'add' : 'remove'](name);\n}\nfunction custom_event(type, detail) {\n    const e = document.createEvent('CustomEvent');\n    e.initCustomEvent(type, false, false, detail);\n    return e;\n}\nfunction query_selector_all(selector, parent = document.body) {\n    return Array.from(parent.querySelectorAll(selector));\n}\nclass HtmlTag {\n    constructor(html, anchor = null) {\n        this.e = element('div');\n        this.a = anchor;\n        this.u(html);\n    }\n    m(target, anchor = null) {\n        for (let i = 0; i < this.n.length; i += 1) {\n            insert(target, this.n[i], anchor);\n        }\n        this.t = target;\n    }\n    u(html) {\n        this.e.innerHTML = html;\n        this.n = Array.from(this.e.childNodes);\n    }\n    p(html) {\n        this.d();\n        this.u(html);\n        this.m(this.t, this.a);\n    }\n    d() {\n        this.n.forEach(detach);\n    }\n}\n\nconst active_docs = new Set();\nlet active = 0;\n// https://github.com/darkskyapp/string-hash/blob/master/index.js\nfunction hash(str) {\n    let hash = 5381;\n    let i = str.length;\n    while (i--)\n        hash = ((hash << 5) - hash) ^ str.charCodeAt(i);\n    return hash >>> 0;\n}\nfunction create_rule(node, a, b, duration, delay, ease, fn, uid = 0) {\n    const step = 16.666 / duration;\n    let keyframes = '{\\n';\n    for (let p = 0; p <= 1; p += step) {\n        const t = a + (b - a) * ease(p);\n        keyframes += p * 100 + `%{${fn(t, 1 - t)}}\\n`;\n    }\n    const rule = keyframes + `100% {${fn(b, 1 - b)}}\\n}`;\n    const name = `__svelte_${hash(rule)}_${uid}`;\n    const doc = node.ownerDocument;\n    active_docs.add(doc);\n    const stylesheet = doc.__svelte_stylesheet || (doc.__svelte_stylesheet = doc.head.appendChild(element('style')).sheet);\n    const current_rules = doc.__svelte_rules || (doc.__svelte_rules = {});\n    if (!current_rules[name]) {\n        current_rules[name] = true;\n        stylesheet.insertRule(`@keyframes ${name} ${rule}`, stylesheet.cssRules.length);\n    }\n    const animation = node.style.animation || '';\n    node.style.animation = `${animation ? `${animation}, ` : ``}${name} ${duration}ms linear ${delay}ms 1 both`;\n    active += 1;\n    return name;\n}\nfunction delete_rule(node, name) {\n    const previous = (node.style.animation || '').split(', ');\n    const next = previous.filter(name\n        ? anim => anim.indexOf(name) < 0 // remove specific animation\n        : anim => anim.indexOf('__svelte') === -1 // remove all Svelte animations\n    );\n    const deleted = previous.length - next.length;\n    if (deleted) {\n        node.style.animation = next.join(', ');\n        active -= deleted;\n        if (!active)\n            clear_rules();\n    }\n}\nfunction clear_rules() {\n    raf(() => {\n        if (active)\n            return;\n        active_docs.forEach(doc => {\n            const stylesheet = doc.__svelte_stylesheet;\n            let i = stylesheet.cssRules.length;\n            while (i--)\n                stylesheet.deleteRule(i);\n            doc.__svelte_rules = {};\n        });\n        active_docs.clear();\n    });\n}\n\nfunction create_animation(node, from, fn, params) {\n    if (!from)\n        return noop;\n    const to = node.getBoundingClientRect();\n    if (from.left === to.left && from.right === to.right && from.top === to.top && from.bottom === to.bottom)\n        return noop;\n    const { delay = 0, duration = 300, easing = identity, \n    // @ts-ignore todo: should this be separated from destructuring? Or start/end added to public api and documentation?\n    start: start_time = now() + delay, \n    // @ts-ignore todo:\n    end = start_time + duration, tick = noop, css } = fn(node, { from, to }, params);\n    let running = true;\n    let started = false;\n    let name;\n    function start() {\n        if (css) {\n            name = create_rule(node, 0, 1, duration, delay, easing, css);\n        }\n        if (!delay) {\n            started = true;\n        }\n    }\n    function stop() {\n        if (css)\n            delete_rule(node, name);\n        running = false;\n    }\n    loop(now => {\n        if (!started && now >= start_time) {\n            started = true;\n        }\n        if (started && now >= end) {\n            tick(1, 0);\n            stop();\n        }\n        if (!running) {\n            return false;\n        }\n        if (started) {\n            const p = now - start_time;\n            const t = 0 + 1 * easing(p / duration);\n            tick(t, 1 - t);\n        }\n        return true;\n    });\n    start();\n    tick(0, 1);\n    return stop;\n}\nfunction fix_position(node) {\n    const style = getComputedStyle(node);\n    if (style.position !== 'absolute' && style.position !== 'fixed') {\n        const { width, height } = style;\n        const a = node.getBoundingClientRect();\n        node.style.position = 'absolute';\n        node.style.width = width;\n        node.style.height = height;\n        add_transform(node, a);\n    }\n}\nfunction add_transform(node, a) {\n    const b = node.getBoundingClientRect();\n    if (a.left !== b.left || a.top !== b.top) {\n        const style = getComputedStyle(node);\n        const transform = style.transform === 'none' ? '' : style.transform;\n        node.style.transform = `${transform} translate(${a.left - b.left}px, ${a.top - b.top}px)`;\n    }\n}\n\nlet current_component;\nfunction set_current_component(component) {\n    current_component = component;\n}\nfunction get_current_component() {\n    if (!current_component)\n        throw new Error(`Function called outside component initialization`);\n    return current_component;\n}\nfunction beforeUpdate(fn) {\n    get_current_component().$$.before_update.push(fn);\n}\nfunction onMount(fn) {\n    get_current_component().$$.on_mount.push(fn);\n}\nfunction afterUpdate(fn) {\n    get_current_component().$$.after_update.push(fn);\n}\nfunction onDestroy(fn) {\n    get_current_component().$$.on_destroy.push(fn);\n}\nfunction createEventDispatcher() {\n    const component = get_current_component();\n    return (type, detail) => {\n        const callbacks = component.$$.callbacks[type];\n        if (callbacks) {\n            // TODO are there situations where events could be dispatched\n            // in a server (non-DOM) environment?\n            const event = custom_event(type, detail);\n            callbacks.slice().forEach(fn => {\n                fn.call(component, event);\n            });\n        }\n    };\n}\nfunction setContext(key, context) {\n    get_current_component().$$.context.set(key, context);\n}\nfunction getContext(key) {\n    return get_current_component().$$.context.get(key);\n}\n// TODO figure out if we still want to support\n// shorthand events, or if we want to implement\n// a real bubbling mechanism\nfunction bubble(component, event) {\n    const callbacks = component.$$.callbacks[event.type];\n    if (callbacks) {\n        callbacks.slice().forEach(fn => fn(event));\n    }\n}\n\nconst dirty_components = [];\nconst intros = { enabled: false };\nconst binding_callbacks = [];\nconst render_callbacks = [];\nconst flush_callbacks = [];\nconst resolved_promise = Promise.resolve();\nlet update_scheduled = false;\nfunction schedule_update() {\n    if (!update_scheduled) {\n        update_scheduled = true;\n        resolved_promise.then(flush);\n    }\n}\nfunction tick() {\n    schedule_update();\n    return resolved_promise;\n}\nfunction add_render_callback(fn) {\n    render_callbacks.push(fn);\n}\nfunction add_flush_callback(fn) {\n    flush_callbacks.push(fn);\n}\nlet flushing = false;\nconst seen_callbacks = new Set();\nfunction flush() {\n    if (flushing)\n        return;\n    flushing = true;\n    do {\n        // first, call beforeUpdate functions\n        // and update components\n        for (let i = 0; i < dirty_components.length; i += 1) {\n            const component = dirty_components[i];\n            set_current_component(component);\n            update(component.$$);\n        }\n        dirty_components.length = 0;\n        while (binding_callbacks.length)\n            binding_callbacks.pop()();\n        // then, once components are updated, call\n        // afterUpdate functions. This may cause\n        // subsequent updates...\n        for (let i = 0; i < render_callbacks.length; i += 1) {\n            const callback = render_callbacks[i];\n            if (!seen_callbacks.has(callback)) {\n                // ...so guard against infinite loops\n                seen_callbacks.add(callback);\n                callback();\n            }\n        }\n        render_callbacks.length = 0;\n    } while (dirty_components.length);\n    while (flush_callbacks.length) {\n        flush_callbacks.pop()();\n    }\n    update_scheduled = false;\n    flushing = false;\n    seen_callbacks.clear();\n}\nfunction update($$) {\n    if ($$.fragment !== null) {\n        $$.update();\n        run_all($$.before_update);\n        const dirty = $$.dirty;\n        $$.dirty = [-1];\n        $$.fragment && $$.fragment.p($$.ctx, dirty);\n        $$.after_update.forEach(add_render_callback);\n    }\n}\n\nlet promise;\nfunction wait() {\n    if (!promise) {\n        promise = Promise.resolve();\n        promise.then(() => {\n            promise = null;\n        });\n    }\n    return promise;\n}\nfunction dispatch(node, direction, kind) {\n    node.dispatchEvent(custom_event(`${direction ? 'intro' : 'outro'}${kind}`));\n}\nconst outroing = new Set();\nlet outros;\nfunction group_outros() {\n    outros = {\n        r: 0,\n        c: [],\n        p: outros // parent group\n    };\n}\nfunction check_outros() {\n    if (!outros.r) {\n        run_all(outros.c);\n    }\n    outros = outros.p;\n}\nfunction transition_in(block, local) {\n    if (block && block.i) {\n        outroing.delete(block);\n        block.i(local);\n    }\n}\nfunction transition_out(block, local, detach, callback) {\n    if (block && block.o) {\n        if (outroing.has(block))\n            return;\n        outroing.add(block);\n        outros.c.push(() => {\n            outroing.delete(block);\n            if (callback) {\n                if (detach)\n                    block.d(1);\n                callback();\n            }\n        });\n        block.o(local);\n    }\n}\nconst null_transition = { duration: 0 };\nfunction create_in_transition(node, fn, params) {\n    let config = fn(node, params);\n    let running = false;\n    let animation_name;\n    let task;\n    let uid = 0;\n    function cleanup() {\n        if (animation_name)\n            delete_rule(node, animation_name);\n    }\n    function go() {\n        const { delay = 0, duration = 300, easing = identity, tick = noop, css } = config || null_transition;\n        if (css)\n            animation_name = create_rule(node, 0, 1, duration, delay, easing, css, uid++);\n        tick(0, 1);\n        const start_time = now() + delay;\n        const end_time = start_time + duration;\n        if (task)\n            task.abort();\n        running = true;\n        add_render_callback(() => dispatch(node, true, 'start'));\n        task = loop(now => {\n            if (running) {\n                if (now >= end_time) {\n                    tick(1, 0);\n                    dispatch(node, true, 'end');\n                    cleanup();\n                    return running = false;\n                }\n                if (now >= start_time) {\n                    const t = easing((now - start_time) / duration);\n                    tick(t, 1 - t);\n                }\n            }\n            return running;\n        });\n    }\n    let started = false;\n    return {\n        start() {\n            if (started)\n                return;\n            delete_rule(node);\n            if (is_function(config)) {\n                config = config();\n                wait().then(go);\n            }\n            else {\n                go();\n            }\n        },\n        invalidate() {\n            started = false;\n        },\n        end() {\n            if (running) {\n                cleanup();\n                running = false;\n            }\n        }\n    };\n}\nfunction create_out_transition(node, fn, params) {\n    let config = fn(node, params);\n    let running = true;\n    let animation_name;\n    const group = outros;\n    group.r += 1;\n    function go() {\n        const { delay = 0, duration = 300, easing = identity, tick = noop, css } = config || null_transition;\n        if (css)\n            animation_name = create_rule(node, 1, 0, duration, delay, easing, css);\n        const start_time = now() + delay;\n        const end_time = start_time + duration;\n        add_render_callback(() => dispatch(node, false, 'start'));\n        loop(now => {\n            if (running) {\n                if (now >= end_time) {\n                    tick(0, 1);\n                    dispatch(node, false, 'end');\n                    if (!--group.r) {\n                        // this will result in `end()` being called,\n                        // so we don't need to clean up here\n                        run_all(group.c);\n                    }\n                    return false;\n                }\n                if (now >= start_time) {\n                    const t = easing((now - start_time) / duration);\n                    tick(1 - t, t);\n                }\n            }\n            return running;\n        });\n    }\n    if (is_function(config)) {\n        wait().then(() => {\n            // @ts-ignore\n            config = config();\n            go();\n        });\n    }\n    else {\n        go();\n    }\n    return {\n        end(reset) {\n            if (reset && config.tick) {\n                config.tick(1, 0);\n            }\n            if (running) {\n                if (animation_name)\n                    delete_rule(node, animation_name);\n                running = false;\n            }\n        }\n    };\n}\nfunction create_bidirectional_transition(node, fn, params, intro) {\n    let config = fn(node, params);\n    let t = intro ? 0 : 1;\n    let running_program = null;\n    let pending_program = null;\n    let animation_name = null;\n    function clear_animation() {\n        if (animation_name)\n            delete_rule(node, animation_name);\n    }\n    function init(program, duration) {\n        const d = program.b - t;\n        duration *= Math.abs(d);\n        return {\n            a: t,\n            b: program.b,\n            d,\n            duration,\n            start: program.start,\n            end: program.start + duration,\n            group: program.group\n        };\n    }\n    function go(b) {\n        const { delay = 0, duration = 300, easing = identity, tick = noop, css } = config || null_transition;\n        const program = {\n            start: now() + delay,\n            b\n        };\n        if (!b) {\n            // @ts-ignore todo: improve typings\n            program.group = outros;\n            outros.r += 1;\n        }\n        if (running_program) {\n            pending_program = program;\n        }\n        else {\n            // if this is an intro, and there's a delay, we need to do\n            // an initial tick and/or apply CSS animation immediately\n            if (css) {\n                clear_animation();\n                animation_name = create_rule(node, t, b, duration, delay, easing, css);\n            }\n            if (b)\n                tick(0, 1);\n            running_program = init(program, duration);\n            add_render_callback(() => dispatch(node, b, 'start'));\n            loop(now => {\n                if (pending_program && now > pending_program.start) {\n                    running_program = init(pending_program, duration);\n                    pending_program = null;\n                    dispatch(node, running_program.b, 'start');\n                    if (css) {\n                        clear_animation();\n                        animation_name = create_rule(node, t, running_program.b, running_program.duration, 0, easing, config.css);\n                    }\n                }\n                if (running_program) {\n                    if (now >= running_program.end) {\n                        tick(t = running_program.b, 1 - t);\n                        dispatch(node, running_program.b, 'end');\n                        if (!pending_program) {\n                            // we're done\n                            if (running_program.b) {\n                                // intro — we can tidy up immediately\n                                clear_animation();\n                            }\n                            else {\n                                // outro — needs to be coordinated\n                                if (!--running_program.group.r)\n                                    run_all(running_program.group.c);\n                            }\n                        }\n                        running_program = null;\n                    }\n                    else if (now >= running_program.start) {\n                        const p = now - running_program.start;\n                        t = running_program.a + running_program.d * easing(p / running_program.duration);\n                        tick(t, 1 - t);\n                    }\n                }\n                return !!(running_program || pending_program);\n            });\n        }\n    }\n    return {\n        run(b) {\n            if (is_function(config)) {\n                wait().then(() => {\n                    // @ts-ignore\n                    config = config();\n                    go(b);\n                });\n            }\n            else {\n                go(b);\n            }\n        },\n        end() {\n            clear_animation();\n            running_program = pending_program = null;\n        }\n    };\n}\n\nfunction handle_promise(promise, info) {\n    const token = info.token = {};\n    function update(type, index, key, value) {\n        if (info.token !== token)\n            return;\n        info.resolved = value;\n        let child_ctx = info.ctx;\n        if (key !== undefined) {\n            child_ctx = child_ctx.slice();\n            child_ctx[key] = value;\n        }\n        const block = type && (info.current = type)(child_ctx);\n        let needs_flush = false;\n        if (info.block) {\n            if (info.blocks) {\n                info.blocks.forEach((block, i) => {\n                    if (i !== index && block) {\n                        group_outros();\n                        transition_out(block, 1, 1, () => {\n                            info.blocks[i] = null;\n                        });\n                        check_outros();\n                    }\n                });\n            }\n            else {\n                info.block.d(1);\n            }\n            block.c();\n            transition_in(block, 1);\n            block.m(info.mount(), info.anchor);\n            needs_flush = true;\n        }\n        info.block = block;\n        if (info.blocks)\n            info.blocks[index] = block;\n        if (needs_flush) {\n            flush();\n        }\n    }\n    if (is_promise(promise)) {\n        const current_component = get_current_component();\n        promise.then(value => {\n            set_current_component(current_component);\n            update(info.then, 1, info.value, value);\n            set_current_component(null);\n        }, error => {\n            set_current_component(current_component);\n            update(info.catch, 2, info.error, error);\n            set_current_component(null);\n        });\n        // if we previously had a then/catch block, destroy it\n        if (info.current !== info.pending) {\n            update(info.pending, 0);\n            return true;\n        }\n    }\n    else {\n        if (info.current !== info.then) {\n            update(info.then, 1, info.value, promise);\n            return true;\n        }\n        info.resolved = promise;\n    }\n}\n\nconst globals = (typeof window !== 'undefined' ? window : global);\n\nfunction destroy_block(block, lookup) {\n    block.d(1);\n    lookup.delete(block.key);\n}\nfunction outro_and_destroy_block(block, lookup) {\n    transition_out(block, 1, 1, () => {\n        lookup.delete(block.key);\n    });\n}\nfunction fix_and_destroy_block(block, lookup) {\n    block.f();\n    destroy_block(block, lookup);\n}\nfunction fix_and_outro_and_destroy_block(block, lookup) {\n    block.f();\n    outro_and_destroy_block(block, lookup);\n}\nfunction update_keyed_each(old_blocks, dirty, get_key, dynamic, ctx, list, lookup, node, destroy, create_each_block, next, get_context) {\n    let o = old_blocks.length;\n    let n = list.length;\n    let i = o;\n    const old_indexes = {};\n    while (i--)\n        old_indexes[old_blocks[i].key] = i;\n    const new_blocks = [];\n    const new_lookup = new Map();\n    const deltas = new Map();\n    i = n;\n    while (i--) {\n        const child_ctx = get_context(ctx, list, i);\n        const key = get_key(child_ctx);\n        let block = lookup.get(key);\n        if (!block) {\n            block = create_each_block(key, child_ctx);\n            block.c();\n        }\n        else if (dynamic) {\n            block.p(child_ctx, dirty);\n        }\n        new_lookup.set(key, new_blocks[i] = block);\n        if (key in old_indexes)\n            deltas.set(key, Math.abs(i - old_indexes[key]));\n    }\n    const will_move = new Set();\n    const did_move = new Set();\n    function insert(block) {\n        transition_in(block, 1);\n        block.m(node, next, lookup.has(block.key));\n        lookup.set(block.key, block);\n        next = block.first;\n        n--;\n    }\n    while (o && n) {\n        const new_block = new_blocks[n - 1];\n        const old_block = old_blocks[o - 1];\n        const new_key = new_block.key;\n        const old_key = old_block.key;\n        if (new_block === old_block) {\n            // do nothing\n            next = new_block.first;\n            o--;\n            n--;\n        }\n        else if (!new_lookup.has(old_key)) {\n            // remove old block\n            destroy(old_block, lookup);\n            o--;\n        }\n        else if (!lookup.has(new_key) || will_move.has(new_key)) {\n            insert(new_block);\n        }\n        else if (did_move.has(old_key)) {\n            o--;\n        }\n        else if (deltas.get(new_key) > deltas.get(old_key)) {\n            did_move.add(new_key);\n            insert(new_block);\n        }\n        else {\n            will_move.add(old_key);\n            o--;\n        }\n    }\n    while (o--) {\n        const old_block = old_blocks[o];\n        if (!new_lookup.has(old_block.key))\n            destroy(old_block, lookup);\n    }\n    while (n)\n        insert(new_blocks[n - 1]);\n    return new_blocks;\n}\nfunction validate_each_keys(ctx, list, get_context, get_key) {\n    const keys = new Set();\n    for (let i = 0; i < list.length; i++) {\n        const key = get_key(get_context(ctx, list, i));\n        if (keys.has(key)) {\n            throw new Error(`Cannot have duplicate keys in a keyed each`);\n        }\n        keys.add(key);\n    }\n}\n\nfunction get_spread_update(levels, updates) {\n    const update = {};\n    const to_null_out = {};\n    const accounted_for = { $$scope: 1 };\n    let i = levels.length;\n    while (i--) {\n        const o = levels[i];\n        const n = updates[i];\n        if (n) {\n            for (const key in o) {\n                if (!(key in n))\n                    to_null_out[key] = 1;\n            }\n            for (const key in n) {\n                if (!accounted_for[key]) {\n                    update[key] = n[key];\n                    accounted_for[key] = 1;\n                }\n            }\n            levels[i] = n;\n        }\n        else {\n            for (const key in o) {\n                accounted_for[key] = 1;\n            }\n        }\n    }\n    for (const key in to_null_out) {\n        if (!(key in update))\n            update[key] = undefined;\n    }\n    return update;\n}\nfunction get_spread_object(spread_props) {\n    return typeof spread_props === 'object' && spread_props !== null ? spread_props : {};\n}\n\n// source: https://html.spec.whatwg.org/multipage/indices.html\nconst boolean_attributes = new Set([\n    'allowfullscreen',\n    'allowpaymentrequest',\n    'async',\n    'autofocus',\n    'autoplay',\n    'checked',\n    'controls',\n    'default',\n    'defer',\n    'disabled',\n    'formnovalidate',\n    'hidden',\n    'ismap',\n    'loop',\n    'multiple',\n    'muted',\n    'nomodule',\n    'novalidate',\n    'open',\n    'playsinline',\n    'readonly',\n    'required',\n    'reversed',\n    'selected'\n]);\n\nconst invalid_attribute_name_character = /[\\s'\">/=\\u{FDD0}-\\u{FDEF}\\u{FFFE}\\u{FFFF}\\u{1FFFE}\\u{1FFFF}\\u{2FFFE}\\u{2FFFF}\\u{3FFFE}\\u{3FFFF}\\u{4FFFE}\\u{4FFFF}\\u{5FFFE}\\u{5FFFF}\\u{6FFFE}\\u{6FFFF}\\u{7FFFE}\\u{7FFFF}\\u{8FFFE}\\u{8FFFF}\\u{9FFFE}\\u{9FFFF}\\u{AFFFE}\\u{AFFFF}\\u{BFFFE}\\u{BFFFF}\\u{CFFFE}\\u{CFFFF}\\u{DFFFE}\\u{DFFFF}\\u{EFFFE}\\u{EFFFF}\\u{FFFFE}\\u{FFFFF}\\u{10FFFE}\\u{10FFFF}]/u;\n// https://html.spec.whatwg.org/multipage/syntax.html#attributes-2\n// https://infra.spec.whatwg.org/#noncharacter\nfunction spread(args, classes_to_add) {\n    const attributes = Object.assign({}, ...args);\n    if (classes_to_add) {\n        if (attributes.class == null) {\n            attributes.class = classes_to_add;\n        }\n        else {\n            attributes.class += ' ' + classes_to_add;\n        }\n    }\n    let str = '';\n    Object.keys(attributes).forEach(name => {\n        if (invalid_attribute_name_character.test(name))\n            return;\n        const value = attributes[name];\n        if (value === true)\n            str += \" \" + name;\n        else if (boolean_attributes.has(name.toLowerCase())) {\n            if (value)\n                str += \" \" + name;\n        }\n        else if (value != null) {\n            str += ` ${name}=\"${String(value).replace(/\"/g, '&#34;').replace(/'/g, '&#39;')}\"`;\n        }\n    });\n    return str;\n}\nconst escaped = {\n    '\"': '&quot;',\n    \"'\": '&#39;',\n    '&': '&amp;',\n    '<': '&lt;',\n    '>': '&gt;'\n};\nfunction escape(html) {\n    return String(html).replace(/[\"'&<>]/g, match => escaped[match]);\n}\nfunction each(items, fn) {\n    let str = '';\n    for (let i = 0; i < items.length; i += 1) {\n        str += fn(items[i], i);\n    }\n    return str;\n}\nconst missing_component = {\n    $$render: () => ''\n};\nfunction validate_component(component, name) {\n    if (!component || !component.$$render) {\n        if (name === 'svelte:component')\n            name += ' this={...}';\n        throw new Error(`<${name}> is not a valid SSR component. You may need to review your build config to ensure that dependencies are compiled, rather than imported as pre-compiled modules`);\n    }\n    return component;\n}\nfunction debug(file, line, column, values) {\n    console.log(`{@debug} ${file ? file + ' ' : ''}(${line}:${column})`); // eslint-disable-line no-console\n    console.log(values); // eslint-disable-line no-console\n    return '';\n}\nlet on_destroy;\nfunction create_ssr_component(fn) {\n    function $$render(result, props, bindings, slots) {\n        const parent_component = current_component;\n        const $$ = {\n            on_destroy,\n            context: new Map(parent_component ? parent_component.$$.context : []),\n            // these will be immediately discarded\n            on_mount: [],\n            before_update: [],\n            after_update: [],\n            callbacks: blank_object()\n        };\n        set_current_component({ $$ });\n        const html = fn(result, props, bindings, slots);\n        set_current_component(parent_component);\n        return html;\n    }\n    return {\n        render: (props = {}, options = {}) => {\n            on_destroy = [];\n            const result = { title: '', head: '', css: new Set() };\n            const html = $$render(result, props, {}, options);\n            run_all(on_destroy);\n            return {\n                html,\n                css: {\n                    code: Array.from(result.css).map(css => css.code).join('\\n'),\n                    map: null // TODO\n                },\n                head: result.title + result.head\n            };\n        },\n        $$render\n    };\n}\nfunction add_attribute(name, value, boolean) {\n    if (value == null || (boolean && !value))\n        return '';\n    return ` ${name}${value === true ? '' : `=${typeof value === 'string' ? JSON.stringify(escape(value)) : `\"${value}\"`}`}`;\n}\nfunction add_classes(classes) {\n    return classes ? ` class=\"${classes}\"` : ``;\n}\n\nfunction bind(component, name, callback) {\n    const index = component.$$.props[name];\n    if (index !== undefined) {\n        component.$$.bound[index] = callback;\n        callback(component.$$.ctx[index]);\n    }\n}\nfunction create_component(block) {\n    block && block.c();\n}\nfunction claim_component(block, parent_nodes) {\n    block && block.l(parent_nodes);\n}\nfunction mount_component(component, target, anchor) {\n    const { fragment, on_mount, on_destroy, after_update } = component.$$;\n    fragment && fragment.m(target, anchor);\n    // onMount happens before the initial afterUpdate\n    add_render_callback(() => {\n        const new_on_destroy = on_mount.map(run).filter(is_function);\n        if (on_destroy) {\n            on_destroy.push(...new_on_destroy);\n        }\n        else {\n            // Edge case - component was destroyed immediately,\n            // most likely as a result of a binding initialising\n            run_all(new_on_destroy);\n        }\n        component.$$.on_mount = [];\n    });\n    after_update.forEach(add_render_callback);\n}\nfunction destroy_component(component, detaching) {\n    const $$ = component.$$;\n    if ($$.fragment !== null) {\n        run_all($$.on_destroy);\n        $$.fragment && $$.fragment.d(detaching);\n        // TODO null out other refs, including component.$$ (but need to\n        // preserve final state?)\n        $$.on_destroy = $$.fragment = null;\n        $$.ctx = [];\n    }\n}\nfunction make_dirty(component, i) {\n    if (component.$$.dirty[0] === -1) {\n        dirty_components.push(component);\n        schedule_update();\n        component.$$.dirty.fill(0);\n    }\n    component.$$.dirty[(i / 31) | 0] |= (1 << (i % 31));\n}\nfunction init(component, options, instance, create_fragment, not_equal, props, dirty = [-1]) {\n    const parent_component = current_component;\n    set_current_component(component);\n    const prop_values = options.props || {};\n    const $$ = component.$$ = {\n        fragment: null,\n        ctx: null,\n        // state\n        props,\n        update: noop,\n        not_equal,\n        bound: blank_object(),\n        // lifecycle\n        on_mount: [],\n        on_destroy: [],\n        before_update: [],\n        after_update: [],\n        context: new Map(parent_component ? parent_component.$$.context : []),\n        // everything else\n        callbacks: blank_object(),\n        dirty\n    };\n    let ready = false;\n    $$.ctx = instance\n        ? instance(component, prop_values, (i, ret, ...rest) => {\n            const value = rest.length ? rest[0] : ret;\n            if ($$.ctx && not_equal($$.ctx[i], $$.ctx[i] = value)) {\n                if ($$.bound[i])\n                    $$.bound[i](value);\n                if (ready)\n                    make_dirty(component, i);\n            }\n            return ret;\n        })\n        : [];\n    $$.update();\n    ready = true;\n    run_all($$.before_update);\n    // `false` as a special case of no DOM component\n    $$.fragment = create_fragment ? create_fragment($$.ctx) : false;\n    if (options.target) {\n        if (options.hydrate) {\n            const nodes = children(options.target);\n            // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n            $$.fragment && $$.fragment.l(nodes);\n            nodes.forEach(detach);\n        }\n        else {\n            // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n            $$.fragment && $$.fragment.c();\n        }\n        if (options.intro)\n            transition_in(component.$$.fragment);\n        mount_component(component, options.target, options.anchor);\n        flush();\n    }\n    set_current_component(parent_component);\n}\nlet SvelteElement;\nif (typeof HTMLElement === 'function') {\n    SvelteElement = class extends HTMLElement {\n        constructor() {\n            super();\n            this.attachShadow({ mode: 'open' });\n        }\n        connectedCallback() {\n            // @ts-ignore todo: improve typings\n            for (const key in this.$$.slotted) {\n                // @ts-ignore todo: improve typings\n                this.appendChild(this.$$.slotted[key]);\n            }\n        }\n        attributeChangedCallback(attr, _oldValue, newValue) {\n            this[attr] = newValue;\n        }\n        $destroy() {\n            destroy_component(this, 1);\n            this.$destroy = noop;\n        }\n        $on(type, callback) {\n            // TODO should this delegate to addEventListener?\n            const callbacks = (this.$$.callbacks[type] || (this.$$.callbacks[type] = []));\n            callbacks.push(callback);\n            return () => {\n                const index = callbacks.indexOf(callback);\n                if (index !== -1)\n                    callbacks.splice(index, 1);\n            };\n        }\n        $set() {\n            // overridden by instance, if it has props\n        }\n    };\n}\nclass SvelteComponent {\n    $destroy() {\n        destroy_component(this, 1);\n        this.$destroy = noop;\n    }\n    $on(type, callback) {\n        const callbacks = (this.$$.callbacks[type] || (this.$$.callbacks[type] = []));\n        callbacks.push(callback);\n        return () => {\n            const index = callbacks.indexOf(callback);\n            if (index !== -1)\n                callbacks.splice(index, 1);\n        };\n    }\n    $set() {\n        // overridden by instance, if it has props\n    }\n}\n\nfunction dispatch_dev(type, detail) {\n    document.dispatchEvent(custom_event(type, Object.assign({ version: '3.20.1' }, detail)));\n}\nfunction append_dev(target, node) {\n    dispatch_dev(\"SvelteDOMInsert\", { target, node });\n    append(target, node);\n}\nfunction insert_dev(target, node, anchor) {\n    dispatch_dev(\"SvelteDOMInsert\", { target, node, anchor });\n    insert(target, node, anchor);\n}\nfunction detach_dev(node) {\n    dispatch_dev(\"SvelteDOMRemove\", { node });\n    detach(node);\n}\nfunction detach_between_dev(before, after) {\n    while (before.nextSibling && before.nextSibling !== after) {\n        detach_dev(before.nextSibling);\n    }\n}\nfunction detach_before_dev(after) {\n    while (after.previousSibling) {\n        detach_dev(after.previousSibling);\n    }\n}\nfunction detach_after_dev(before) {\n    while (before.nextSibling) {\n        detach_dev(before.nextSibling);\n    }\n}\nfunction listen_dev(node, event, handler, options, has_prevent_default, has_stop_propagation) {\n    const modifiers = options === true ? [\"capture\"] : options ? Array.from(Object.keys(options)) : [];\n    if (has_prevent_default)\n        modifiers.push('preventDefault');\n    if (has_stop_propagation)\n        modifiers.push('stopPropagation');\n    dispatch_dev(\"SvelteDOMAddEventListener\", { node, event, handler, modifiers });\n    const dispose = listen(node, event, handler, options);\n    return () => {\n        dispatch_dev(\"SvelteDOMRemoveEventListener\", { node, event, handler, modifiers });\n        dispose();\n    };\n}\nfunction attr_dev(node, attribute, value) {\n    attr(node, attribute, value);\n    if (value == null)\n        dispatch_dev(\"SvelteDOMRemoveAttribute\", { node, attribute });\n    else\n        dispatch_dev(\"SvelteDOMSetAttribute\", { node, attribute, value });\n}\nfunction prop_dev(node, property, value) {\n    node[property] = value;\n    dispatch_dev(\"SvelteDOMSetProperty\", { node, property, value });\n}\nfunction dataset_dev(node, property, value) {\n    node.dataset[property] = value;\n    dispatch_dev(\"SvelteDOMSetDataset\", { node, property, value });\n}\nfunction set_data_dev(text, data) {\n    data = '' + data;\n    if (text.data === data)\n        return;\n    dispatch_dev(\"SvelteDOMSetData\", { node: text, data });\n    text.data = data;\n}\nfunction validate_each_argument(arg) {\n    if (typeof arg !== 'string' && !(arg && typeof arg === 'object' && 'length' in arg)) {\n        let msg = '{#each} only iterates over array-like objects.';\n        if (typeof Symbol === 'function' && arg && Symbol.iterator in arg) {\n            msg += ' You can use a spread to convert this iterable into an array.';\n        }\n        throw new Error(msg);\n    }\n}\nfunction validate_slots(name, slot, keys) {\n    for (const slot_key of Object.keys(slot)) {\n        if (!~keys.indexOf(slot_key)) {\n            console.warn(`<${name}> received an unexpected slot \"${slot_key}\".`);\n        }\n    }\n}\nclass SvelteComponentDev extends SvelteComponent {\n    constructor(options) {\n        if (!options || (!options.target && !options.$$inline)) {\n            throw new Error(`'target' is a required option`);\n        }\n        super();\n    }\n    $destroy() {\n        super.$destroy();\n        this.$destroy = () => {\n            console.warn(`Component was already destroyed`); // eslint-disable-line no-console\n        };\n    }\n    $capture_state() { }\n    $inject_state() { }\n}\nfunction loop_guard(timeout) {\n    const start = Date.now();\n    return () => {\n        if (Date.now() - start > timeout) {\n            throw new Error(`Infinite loop detected`);\n        }\n    };\n}\n\nexport { HtmlTag, SvelteComponent, SvelteComponentDev, SvelteElement, action_destroyer, add_attribute, add_classes, add_flush_callback, add_location, add_render_callback, add_resize_listener, add_transform, afterUpdate, append, append_dev, assign, attr, attr_dev, beforeUpdate, bind, binding_callbacks, blank_object, bubble, check_outros, children, claim_component, claim_element, claim_space, claim_text, clear_loops, component_subscribe, compute_rest_props, createEventDispatcher, create_animation, create_bidirectional_transition, create_component, create_in_transition, create_out_transition, create_slot, create_ssr_component, current_component, custom_event, dataset_dev, debug, destroy_block, destroy_component, destroy_each, detach, detach_after_dev, detach_before_dev, detach_between_dev, detach_dev, dirty_components, dispatch_dev, each, element, element_is, empty, escape, escaped, exclude_internal_props, fix_and_destroy_block, fix_and_outro_and_destroy_block, fix_position, flush, getContext, get_binding_group_value, get_current_component, get_slot_changes, get_slot_context, get_spread_object, get_spread_update, get_store_value, globals, group_outros, handle_promise, has_prop, identity, init, insert, insert_dev, intros, invalid_attribute_name_character, is_client, is_function, is_promise, listen, listen_dev, loop, loop_guard, missing_component, mount_component, noop, not_equal, now, null_to_empty, object_without_properties, onDestroy, onMount, once, outro_and_destroy_block, prevent_default, prop_dev, query_selector_all, raf, run, run_all, safe_not_equal, schedule_update, select_multiple_value, select_option, select_options, select_value, self, setContext, set_attributes, set_current_component, set_custom_element_data, set_data, set_data_dev, set_input_type, set_input_value, set_now, set_raf, set_store_value, set_style, set_svg_attributes, space, spread, stop_propagation, subscribe, svg_element, text, tick, time_ranges_to_array, to_number, toggle_class, transition_in, transition_out, update_keyed_each, validate_component, validate_each_argument, validate_each_keys, validate_slots, validate_store, xlink_attr };\n","import { noop, safe_not_equal, subscribe, run_all, is_function } from '../internal';\nexport { get_store_value as get } from '../internal';\n\nconst subscriber_queue = [];\n/**\n * Creates a `Readable` store that allows reading by subscription.\n * @param value initial value\n * @param {StartStopNotifier}start start and stop notifications for subscriptions\n */\nfunction readable(value, start) {\n    return {\n        subscribe: writable(value, start).subscribe,\n    };\n}\n/**\n * Create a `Writable` store that allows both updating and reading by subscription.\n * @param {*=}value initial value\n * @param {StartStopNotifier=}start start and stop notifications for subscriptions\n */\nfunction writable(value, start = noop) {\n    let stop;\n    const subscribers = [];\n    function set(new_value) {\n        if (safe_not_equal(value, new_value)) {\n            value = new_value;\n            if (stop) { // store is ready\n                const run_queue = !subscriber_queue.length;\n                for (let i = 0; i < subscribers.length; i += 1) {\n                    const s = subscribers[i];\n                    s[1]();\n                    subscriber_queue.push(s, value);\n                }\n                if (run_queue) {\n                    for (let i = 0; i < subscriber_queue.length; i += 2) {\n                        subscriber_queue[i][0](subscriber_queue[i + 1]);\n                    }\n                    subscriber_queue.length = 0;\n                }\n            }\n        }\n    }\n    function update(fn) {\n        set(fn(value));\n    }\n    function subscribe(run, invalidate = noop) {\n        const subscriber = [run, invalidate];\n        subscribers.push(subscriber);\n        if (subscribers.length === 1) {\n            stop = start(set) || noop;\n        }\n        run(value);\n        return () => {\n            const index = subscribers.indexOf(subscriber);\n            if (index !== -1) {\n                subscribers.splice(index, 1);\n            }\n            if (subscribers.length === 0) {\n                stop();\n                stop = null;\n            }\n        };\n    }\n    return { set, update, subscribe };\n}\nfunction derived(stores, fn, initial_value) {\n    const single = !Array.isArray(stores);\n    const stores_array = single\n        ? [stores]\n        : stores;\n    const auto = fn.length < 2;\n    return readable(initial_value, (set) => {\n        let inited = false;\n        const values = [];\n        let pending = 0;\n        let cleanup = noop;\n        const sync = () => {\n            if (pending) {\n                return;\n            }\n            cleanup();\n            const result = fn(single ? values[0] : values, set);\n            if (auto) {\n                set(result);\n            }\n            else {\n                cleanup = is_function(result) ? result : noop;\n            }\n        };\n        const unsubscribers = stores_array.map((store, i) => subscribe(store, (value) => {\n            values[i] = value;\n            pending &= ~(1 << i);\n            if (inited) {\n                sync();\n            }\n        }, () => {\n            pending |= (1 << i);\n        }));\n        inited = true;\n        sync();\n        return function stop() {\n            run_all(unsubscribers);\n            cleanup();\n        };\n    });\n}\n\nexport { derived, readable, writable };\n","export const LOCATION = {};\nexport const ROUTER = {};\n","/**\n * Adapted from https://github.com/reach/router/blob/b60e6dd781d5d3a4bdaaf4de665649c0f6a7e78d/src/lib/history.js\n *\n * https://github.com/reach/router/blob/master/LICENSE\n * */\n\nfunction getLocation(source) {\n  return {\n    ...source.location,\n    state: source.history.state,\n    key: (source.history.state && source.history.state.key) || \"initial\"\n  };\n}\n\nfunction createHistory(source, options) {\n  const listeners = [];\n  let location = getLocation(source);\n\n  return {\n    get location() {\n      return location;\n    },\n\n    listen(listener) {\n      listeners.push(listener);\n\n      const popstateListener = () => {\n        location = getLocation(source);\n        listener({ location, action: \"POP\" });\n      };\n\n      source.addEventListener(\"popstate\", popstateListener);\n\n      return () => {\n        source.removeEventListener(\"popstate\", popstateListener);\n\n        const index = listeners.indexOf(listener);\n        listeners.splice(index, 1);\n      };\n    },\n\n    navigate(to, { state, replace = false } = {}) {\n      state = { ...state, key: Date.now() + \"\" };\n      // try...catch iOS Safari limits to 100 pushState calls\n      try {\n        if (replace) {\n          source.history.replaceState(state, null, to);\n        } else {\n          source.history.pushState(state, null, to);\n        }\n      } catch (e) {\n        source.location[replace ? \"replace\" : \"assign\"](to);\n      }\n\n      location = getLocation(source);\n      listeners.forEach(listener => listener({ location, action: \"PUSH\" }));\n    }\n  };\n}\n\n// Stores history entries in memory for testing or other platforms like Native\nfunction createMemorySource(initialPathname = \"/\") {\n  let index = 0;\n  const stack = [{ pathname: initialPathname, search: \"\" }];\n  const states = [];\n\n  return {\n    get location() {\n      return stack[index];\n    },\n    addEventListener(name, fn) {},\n    removeEventListener(name, fn) {},\n    history: {\n      get entries() {\n        return stack;\n      },\n      get index() {\n        return index;\n      },\n      get state() {\n        return states[index];\n      },\n      pushState(state, _, uri) {\n        const [pathname, search = \"\"] = uri.split(\"?\");\n        index++;\n        stack.push({ pathname, search });\n        states.push(state);\n      },\n      replaceState(state, _, uri) {\n        const [pathname, search = \"\"] = uri.split(\"?\");\n        stack[index] = { pathname, search };\n        states[index] = state;\n      }\n    }\n  };\n}\n\n// Global history uses window.history as the source if available,\n// otherwise a memory history\nconst canUseDOM = Boolean(\n  typeof window !== \"undefined\" &&\n    window.document &&\n    window.document.createElement\n);\nconst globalHistory = createHistory(canUseDOM ? window : createMemorySource());\nconst { navigate } = globalHistory;\n\nexport { globalHistory, navigate, createHistory, createMemorySource };\n","/**\n * Adapted from https://github.com/reach/router/blob/b60e6dd781d5d3a4bdaaf4de665649c0f6a7e78d/src/lib/utils.js\n *\n * https://github.com/reach/router/blob/master/LICENSE\n * */\n\nconst paramRe = /^:(.+)/;\n\nconst SEGMENT_POINTS = 4;\nconst STATIC_POINTS = 3;\nconst DYNAMIC_POINTS = 2;\nconst SPLAT_PENALTY = 1;\nconst ROOT_POINTS = 1;\n\n/**\n * Check if `string` starts with `search`\n * @param {string} string\n * @param {string} search\n * @return {boolean}\n */\nexport function startsWith(string, search) {\n  return string.substr(0, search.length) === search;\n}\n\n/**\n * Check if `segment` is a root segment\n * @param {string} segment\n * @return {boolean}\n */\nfunction isRootSegment(segment) {\n  return segment === \"\";\n}\n\n/**\n * Check if `segment` is a dynamic segment\n * @param {string} segment\n * @return {boolean}\n */\nfunction isDynamic(segment) {\n  return paramRe.test(segment);\n}\n\n/**\n * Check if `segment` is a splat\n * @param {string} segment\n * @return {boolean}\n */\nfunction isSplat(segment) {\n  return segment[0] === \"*\";\n}\n\n/**\n * Split up the URI into segments delimited by `/`\n * @param {string} uri\n * @return {string[]}\n */\nfunction segmentize(uri) {\n  return (\n    uri\n      // Strip starting/ending `/`\n      .replace(/(^\\/+|\\/+$)/g, \"\")\n      .split(\"/\")\n  );\n}\n\n/**\n * Strip `str` of potential start and end `/`\n * @param {string} str\n * @return {string}\n */\nfunction stripSlashes(str) {\n  return str.replace(/(^\\/+|\\/+$)/g, \"\");\n}\n\n/**\n * Score a route depending on how its individual segments look\n * @param {object} route\n * @param {number} index\n * @return {object}\n */\nfunction rankRoute(route, index) {\n  const score = route.default\n    ? 0\n    : segmentize(route.path).reduce((score, segment) => {\n        score += SEGMENT_POINTS;\n\n        if (isRootSegment(segment)) {\n          score += ROOT_POINTS;\n        } else if (isDynamic(segment)) {\n          score += DYNAMIC_POINTS;\n        } else if (isSplat(segment)) {\n          score -= SEGMENT_POINTS + SPLAT_PENALTY;\n        } else {\n          score += STATIC_POINTS;\n        }\n\n        return score;\n      }, 0);\n\n  return { route, score, index };\n}\n\n/**\n * Give a score to all routes and sort them on that\n * @param {object[]} routes\n * @return {object[]}\n */\nfunction rankRoutes(routes) {\n  return (\n    routes\n      .map(rankRoute)\n      // If two routes have the exact same score, we go by index instead\n      .sort((a, b) =>\n        a.score < b.score ? 1 : a.score > b.score ? -1 : a.index - b.index\n      )\n  );\n}\n\n/**\n * Ranks and picks the best route to match. Each segment gets the highest\n * amount of points, then the type of segment gets an additional amount of\n * points where\n *\n *  static > dynamic > splat > root\n *\n * This way we don't have to worry about the order of our routes, let the\n * computers do it.\n *\n * A route looks like this\n *\n *  { path, default, value }\n *\n * And a returned match looks like:\n *\n *  { route, params, uri }\n *\n * @param {object[]} routes\n * @param {string} uri\n * @return {?object}\n */\nfunction pick(routes, uri) {\n  let match;\n  let default_;\n\n  const [uriPathname] = uri.split(\"?\");\n  const uriSegments = segmentize(uriPathname);\n  const isRootUri = uriSegments[0] === \"\";\n  const ranked = rankRoutes(routes);\n\n  for (let i = 0, l = ranked.length; i < l; i++) {\n    const route = ranked[i].route;\n    let missed = false;\n\n    if (route.default) {\n      default_ = {\n        route,\n        params: {},\n        uri\n      };\n      continue;\n    }\n\n    const routeSegments = segmentize(route.path);\n    const params = {};\n    const max = Math.max(uriSegments.length, routeSegments.length);\n    let index = 0;\n\n    for (; index < max; index++) {\n      const routeSegment = routeSegments[index];\n      const uriSegment = uriSegments[index];\n\n      if (routeSegment !== undefined && isSplat(routeSegment)) {\n        // Hit a splat, just grab the rest, and return a match\n        // uri:   /files/documents/work\n        // route: /files/* or /files/*splatname\n        const splatName = routeSegment === \"*\" ? \"*\" : routeSegment.slice(1);\n\n        params[splatName] = uriSegments\n          .slice(index)\n          .map(decodeURIComponent)\n          .join(\"/\");\n        break;\n      }\n\n      if (uriSegment === undefined) {\n        // URI is shorter than the route, no match\n        // uri:   /users\n        // route: /users/:userId\n        missed = true;\n        break;\n      }\n\n      let dynamicMatch = paramRe.exec(routeSegment);\n\n      if (dynamicMatch && !isRootUri) {\n        const value = decodeURIComponent(uriSegment);\n        params[dynamicMatch[1]] = value;\n      } else if (routeSegment !== uriSegment) {\n        // Current segments don't match, not dynamic, not splat, so no match\n        // uri:   /users/123/settings\n        // route: /users/:id/profile\n        missed = true;\n        break;\n      }\n    }\n\n    if (!missed) {\n      match = {\n        route,\n        params,\n        uri: \"/\" + uriSegments.slice(0, index).join(\"/\")\n      };\n      break;\n    }\n  }\n\n  return match || default_ || null;\n}\n\n/**\n * Check if the `path` matches the `uri`.\n * @param {string} path\n * @param {string} uri\n * @return {?object}\n */\nfunction match(route, uri) {\n  return pick([route], uri);\n}\n\n/**\n * Add the query to the pathname if a query is given\n * @param {string} pathname\n * @param {string} [query]\n * @return {string}\n */\nfunction addQuery(pathname, query) {\n  return pathname + (query ? `?${query}` : \"\");\n}\n\n/**\n * Resolve URIs as though every path is a directory, no files. Relative URIs\n * in the browser can feel awkward because not only can you be \"in a directory\",\n * you can be \"at a file\", too. For example:\n *\n *  browserSpecResolve('foo', '/bar/') => /bar/foo\n *  browserSpecResolve('foo', '/bar') => /foo\n *\n * But on the command line of a file system, it's not as complicated. You can't\n * `cd` from a file, only directories. This way, links have to know less about\n * their current path. To go deeper you can do this:\n *\n *  <Link to=\"deeper\"/>\n *  // instead of\n *  <Link to=`{${props.uri}/deeper}`/>\n *\n * Just like `cd`, if you want to go deeper from the command line, you do this:\n *\n *  cd deeper\n *  # not\n *  cd $(pwd)/deeper\n *\n * By treating every path as a directory, linking to relative paths should\n * require less contextual information and (fingers crossed) be more intuitive.\n * @param {string} to\n * @param {string} base\n * @return {string}\n */\nfunction resolve(to, base) {\n  // /foo/bar, /baz/qux => /foo/bar\n  if (startsWith(to, \"/\")) {\n    return to;\n  }\n\n  const [toPathname, toQuery] = to.split(\"?\");\n  const [basePathname] = base.split(\"?\");\n  const toSegments = segmentize(toPathname);\n  const baseSegments = segmentize(basePathname);\n\n  // ?a=b, /users?b=c => /users?a=b\n  if (toSegments[0] === \"\") {\n    return addQuery(basePathname, toQuery);\n  }\n\n  // profile, /users/789 => /users/789/profile\n  if (!startsWith(toSegments[0], \".\")) {\n    const pathname = baseSegments.concat(toSegments).join(\"/\");\n\n    return addQuery((basePathname === \"/\" ? \"\" : \"/\") + pathname, toQuery);\n  }\n\n  // ./       , /users/123 => /users/123\n  // ../      , /users/123 => /users\n  // ../..    , /users/123 => /\n  // ../../one, /a/b/c/d   => /a/b/one\n  // .././one , /a/b/c/d   => /a/b/c/one\n  const allSegments = baseSegments.concat(toSegments);\n  const segments = [];\n\n  allSegments.forEach(segment => {\n    if (segment === \"..\") {\n      segments.pop();\n    } else if (segment !== \".\") {\n      segments.push(segment);\n    }\n  });\n\n  return addQuery(\"/\" + segments.join(\"/\"), toQuery);\n}\n\n/**\n * Combines the `basepath` and the `path` into one path.\n * @param {string} basepath\n * @param {string} path\n */\nfunction combinePaths(basepath, path) {\n  return `${stripSlashes(\n    path === \"/\" ? basepath : `${stripSlashes(basepath)}/${stripSlashes(path)}`\n  )}/`;\n}\n\n/**\n * Decides whether a given `event` should result in a navigation or not.\n * @param {object} event\n */\nfunction shouldNavigate(event) {\n  return (\n    !event.defaultPrevented &&\n    event.button === 0 &&\n    !(event.metaKey || event.altKey || event.ctrlKey || event.shiftKey)\n  );\n}\n\nfunction hostMatches(anchor) {\n  const host = location.host\n  return (\n    anchor.host == host ||\n    // svelte seems to kill anchor.host value in ie11, so fall back to checking href\n    anchor.href.indexOf(`https://${host}`) === 0 ||\n    anchor.href.indexOf(`http://${host}`) === 0\n  )\n}\n\nexport { stripSlashes, pick, match, resolve, combinePaths, shouldNavigate, hostMatches };\n","<script>\n  import { getContext, setContext, onMount } from \"svelte\";\n  import { writable, derived } from \"svelte/store\";\n  import { LOCATION, ROUTER } from \"./contexts.js\";\n  import { globalHistory } from \"./history.js\";\n  import { pick, match, stripSlashes, combinePaths } from \"./utils.js\";\n\n  export let basepath = \"/\";\n  export let url = null;\n\n  const locationContext = getContext(LOCATION);\n  const routerContext = getContext(ROUTER);\n\n  const routes = writable([]);\n  const activeRoute = writable(null);\n  let hasActiveRoute = false; // Used in SSR to synchronously set that a Route is active.\n\n  // If locationContext is not set, this is the topmost Router in the tree.\n  // If the `url` prop is given we force the location to it.\n  const location =\n    locationContext ||\n    writable(url ? { pathname: url } : globalHistory.location);\n\n  // If routerContext is set, the routerBase of the parent Router\n  // will be the base for this Router's descendants.\n  // If routerContext is not set, the path and resolved uri will both\n  // have the value of the basepath prop.\n  const base = routerContext\n    ? routerContext.routerBase\n    : writable({\n        path: basepath,\n        uri: basepath\n      });\n\n  const routerBase = derived([base, activeRoute], ([base, activeRoute]) => {\n    // If there is no activeRoute, the routerBase will be identical to the base.\n    if (activeRoute === null) {\n      return base;\n    }\n\n    const { path: basepath } = base;\n    const { route, uri } = activeRoute;\n    // Remove the potential /* or /*splatname from\n    // the end of the child Routes relative paths.\n    const path = route.default ? basepath : route.path.replace(/\\*.*$/, \"\");\n\n    return { path, uri };\n  });\n\n  function registerRoute(route) {\n    const { path: basepath } = $base;\n    let { path } = route;\n\n    // We store the original path in the _path property so we can reuse\n    // it when the basepath changes. The only thing that matters is that\n    // the route reference is intact, so mutation is fine.\n    route._path = path;\n    route.path = combinePaths(basepath, path);\n\n    if (typeof window === \"undefined\") {\n      // In SSR we should set the activeRoute immediately if it is a match.\n      // If there are more Routes being registered after a match is found,\n      // we just skip them.\n      if (hasActiveRoute) {\n        return;\n      }\n\n      const matchingRoute = match(route, $location.pathname);\n      if (matchingRoute) {\n        activeRoute.set(matchingRoute);\n        hasActiveRoute = true;\n      }\n    } else {\n      routes.update(rs => {\n        rs.push(route);\n        return rs;\n      });\n    }\n  }\n\n  function unregisterRoute(route) {\n    routes.update(rs => {\n      const index = rs.indexOf(route);\n      rs.splice(index, 1);\n      return rs;\n    });\n  }\n\n  // This reactive statement will update all the Routes' path when\n  // the basepath changes.\n  $: {\n    const { path: basepath } = $base;\n    routes.update(rs => {\n      rs.forEach(r => (r.path = combinePaths(basepath, r._path)));\n      return rs;\n    });\n  }\n  // This reactive statement will be run when the Router is created\n  // when there are no Routes and then again the following tick, so it\n  // will not find an active Route in SSR and in the browser it will only\n  // pick an active Route after all Routes have been registered.\n  $: {\n    const bestMatch = pick($routes, $location.pathname);\n    activeRoute.set(bestMatch);\n  }\n\n  if (!locationContext) {\n    // The topmost Router in the tree is responsible for updating\n    // the location store and supplying it through context.\n    onMount(() => {\n      const unlisten = globalHistory.listen(history => {\n        location.set(history.location);\n      });\n\n      return unlisten;\n    });\n\n    setContext(LOCATION, location);\n  }\n\n  setContext(ROUTER, {\n    activeRoute,\n    base,\n    routerBase,\n    registerRoute,\n    unregisterRoute\n  });\n</script>\n\n<slot></slot>\n","<script>\n  import { getContext, onDestroy } from \"svelte\";\n  import { ROUTER, LOCATION } from \"./contexts.js\";\n\n  export let path = \"\";\n  export let component = null;\n\n  const { registerRoute, unregisterRoute, activeRoute } = getContext(ROUTER);\n  const location = getContext(LOCATION);\n\n  const route = {\n    path,\n    // If no path prop is given, this Route will act as the default Route\n    // that is rendered if no other Route in the Router is a match.\n    default: path === \"\"\n  };\n  let routeParams = {};\n  let routeProps = {};\n\n  $: if ($activeRoute && $activeRoute.route === route) {\n    routeParams = $activeRoute.params;\n  }\n\n  $: {\n    const { path, component, ...rest } = $$props;\n    routeProps = rest;\n  }\n\n  registerRoute(route);\n\n  // There is no need to unregister Routes in SSR since it will all be\n  // thrown away anyway.\n  if (typeof window !== \"undefined\") {\n    onDestroy(() => {\n      unregisterRoute(route);\n    });\n  }\n</script>\n\n{#if $activeRoute !== null && $activeRoute.route === route}\n  {#if component !== null}\n    <svelte:component this=\"{component}\" location={$location} {...routeParams} {...routeProps}  />\n  {:else}\n    <slot params=\"{routeParams}\" location={$location}></slot>\n  {/if}\n{/if}\n","import { navigate } from \"./history.js\";\nimport { shouldNavigate, hostMatches } from \"./utils.js\";\n\n/**\n * A link action that can be added to <a href=\"\"> tags rather\n * than using the <Link> component.\n *\n * Example:\n * ```html\n * <a href=\"/post/{postId}\" use:link>{post.title}</a>\n * ```\n */\nfunction link(node) {\n  function onClick(event) {\n    const anchor = event.currentTarget;\n\n    if (\n      anchor.target === \"\" &&\n      hostMatches(anchor) &&\n      shouldNavigate(event)\n    ) {\n      event.preventDefault();\n      navigate(anchor.pathname + anchor.search, { replace: anchor.hasAttribute(\"replace\") });\n    }\n  }\n\n  node.addEventListener(\"click\", onClick);\n\n  return {\n    destroy() {\n      node.removeEventListener(\"click\", onClick);\n    }\n  };\n}\n\n/**\n * An action to be added at a root element of your application to\n * capture all relative links and push them onto the history stack.\n *\n * Example:\n * ```html\n * <div use:links>\n *   <Router>\n *     <Route path=\"/\" component={Home} />\n *     <Route path=\"/p/:projectId/:docId?\" component={ProjectScreen} />\n *     {#each projects as project}\n *       <a href=\"/p/{project.id}\">{project.title}</a>\n *     {/each}\n *   </Router>\n * </div>\n * ```\n */\nfunction links(node) {\n  function findClosest(tagName, el) {\n    while (el && el.tagName !== tagName) {\n      el = el.parentNode;\n    }\n    return el;\n  }\n\n  function onClick(event) {\n    const anchor = findClosest(\"A\", event.target);\n\n    if (\n      anchor &&\n      anchor.target === \"\" &&\n      hostMatches(anchor) &&\n      shouldNavigate(event) &&\n      !anchor.hasAttribute(\"noroute\")\n    ) {\n      event.preventDefault();\n      navigate(anchor.pathname + anchor.search, { replace: anchor.hasAttribute(\"replace\") });\n    }\n  }\n\n  node.addEventListener(\"click\", onClick);\n\n  return {\n    destroy() {\n      node.removeEventListener(\"click\", onClick);\n    }\n  };\n}\n\nexport { link, links };\n","/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation. All rights reserved.\r\nLicensed under the Apache License, Version 2.0 (the \"License\"); you may not use\r\nthis file except in compliance with the License. You may obtain a copy of the\r\nLicense at http://www.apache.org/licenses/LICENSE-2.0\r\n\r\nTHIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\nKIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED\r\nWARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,\r\nMERCHANTABLITY OR NON-INFRINGEMENT.\r\n\r\nSee the Apache Version 2.0 License for specific language governing permissions\r\nand limitations under the License.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nexport function __extends(d, b) {\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    }\r\n    return __assign.apply(this, arguments);\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport function __exportStar(m, exports) {\r\n    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\r\n}\r\n\r\nexport function __values(o) {\r\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\r\n    if (m) return m.call(o);\r\n    if (o && typeof o.length === \"number\") return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\nexport function __spreadArrays() {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n};\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === \"return\" } : f ? f(v) : v; } : f; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator], i;\r\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n}\r\n\r\nexport function __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nexport function __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (Object.hasOwnProperty.call(mod, k)) result[k] = mod[k];\r\n    result.default = mod;\r\n    return result;\r\n}\r\n\r\nexport function __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n\r\nexport function __classPrivateFieldGet(receiver, privateMap) {\r\n    if (!privateMap.has(receiver)) {\r\n        throw new TypeError(\"attempted to get private field on non-instance\");\r\n    }\r\n    return privateMap.get(receiver);\r\n}\r\n\r\nexport function __classPrivateFieldSet(receiver, privateMap, value) {\r\n    if (!privateMap.has(receiver)) {\r\n        throw new TypeError(\"attempted to set private field on non-instance\");\r\n    }\r\n    privateMap.set(receiver, value);\r\n    return value;\r\n}\r\n","/* istanbul ignore next (See: https://github.com/graphql/graphql-js/issues/2317) */\nvar nodejsCustomInspectSymbol = typeof Symbol === 'function' && typeof Symbol.for === 'function' ? Symbol.for('nodejs.util.inspect.custom') : undefined;\nexport default nodejsCustomInspectSymbol;\n","function _typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nimport nodejsCustomInspectSymbol from \"./nodejsCustomInspectSymbol.mjs\";\nvar MAX_ARRAY_LENGTH = 10;\nvar MAX_RECURSIVE_DEPTH = 2;\n/**\n * Used to print values in error messages.\n */\n\nexport default function inspect(value) {\n  return formatValue(value, []);\n}\n\nfunction formatValue(value, seenValues) {\n  switch (_typeof(value)) {\n    case 'string':\n      return JSON.stringify(value);\n\n    case 'function':\n      return value.name ? \"[function \".concat(value.name, \"]\") : '[function]';\n\n    case 'object':\n      if (value === null) {\n        return 'null';\n      }\n\n      return formatObjectValue(value, seenValues);\n\n    default:\n      return String(value);\n  }\n}\n\nfunction formatObjectValue(value, previouslySeenValues) {\n  if (previouslySeenValues.indexOf(value) !== -1) {\n    return '[Circular]';\n  }\n\n  var seenValues = [].concat(previouslySeenValues, [value]);\n  var customInspectFn = getCustomFn(value);\n\n  if (customInspectFn !== undefined) {\n    // $FlowFixMe(>=0.90.0)\n    var customValue = customInspectFn.call(value); // check for infinite recursion\n\n    if (customValue !== value) {\n      return typeof customValue === 'string' ? customValue : formatValue(customValue, seenValues);\n    }\n  } else if (Array.isArray(value)) {\n    return formatArray(value, seenValues);\n  }\n\n  return formatObject(value, seenValues);\n}\n\nfunction formatObject(object, seenValues) {\n  var keys = Object.keys(object);\n\n  if (keys.length === 0) {\n    return '{}';\n  }\n\n  if (seenValues.length > MAX_RECURSIVE_DEPTH) {\n    return '[' + getObjectTag(object) + ']';\n  }\n\n  var properties = keys.map(function (key) {\n    var value = formatValue(object[key], seenValues);\n    return key + ': ' + value;\n  });\n  return '{ ' + properties.join(', ') + ' }';\n}\n\nfunction formatArray(array, seenValues) {\n  if (array.length === 0) {\n    return '[]';\n  }\n\n  if (seenValues.length > MAX_RECURSIVE_DEPTH) {\n    return '[Array]';\n  }\n\n  var len = Math.min(MAX_ARRAY_LENGTH, array.length);\n  var remaining = array.length - len;\n  var items = [];\n\n  for (var i = 0; i < len; ++i) {\n    items.push(formatValue(array[i], seenValues));\n  }\n\n  if (remaining === 1) {\n    items.push('... 1 more item');\n  } else if (remaining > 1) {\n    items.push(\"... \".concat(remaining, \" more items\"));\n  }\n\n  return '[' + items.join(', ') + ']';\n}\n\nfunction getCustomFn(object) {\n  var customInspectFn = object[String(nodejsCustomInspectSymbol)];\n\n  if (typeof customInspectFn === 'function') {\n    return customInspectFn;\n  }\n\n  if (typeof object.inspect === 'function') {\n    return object.inspect;\n  }\n}\n\nfunction getObjectTag(object) {\n  var tag = Object.prototype.toString.call(object).replace(/^\\[object /, '').replace(/]$/, '');\n\n  if (tag === 'Object' && typeof object.constructor === 'function') {\n    var name = object.constructor.name;\n\n    if (typeof name === 'string' && name !== '') {\n      return name;\n    }\n  }\n\n  return tag;\n}\n","import nodejsCustomInspectSymbol from \"./nodejsCustomInspectSymbol.mjs\";\n/**\n * The `defineToJSON()` function defines toJSON() and inspect() prototype\n * methods, if no function provided they become aliases for toString().\n */\n\nexport default function defineToJSON(classObject) {\n  var fn = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : classObject.prototype.toString;\n  classObject.prototype.toJSON = fn;\n  classObject.prototype.inspect = fn;\n  /* istanbul ignore else (See: https://github.com/graphql/graphql-js/issues/2317) */\n\n  if (nodejsCustomInspectSymbol) {\n    classObject.prototype[nodejsCustomInspectSymbol] = fn;\n  }\n}\n","import defineToJSON from \"../jsutils/defineToJSON.mjs\";\n\n/**\n * Contains a range of UTF-8 character offsets and token references that\n * identify the region of the source from which the AST derived.\n */\nexport var Location =\n/**\n * The character offset at which this Node begins.\n */\n\n/**\n * The character offset at which this Node ends.\n */\n\n/**\n * The Token at which this Node begins.\n */\n\n/**\n * The Token at which this Node ends.\n */\n\n/**\n * The Source document the AST represents.\n */\nfunction Location(startToken, endToken, source) {\n  this.start = startToken.start;\n  this.end = endToken.end;\n  this.startToken = startToken;\n  this.endToken = endToken;\n  this.source = source;\n}; // Print a simplified form when appearing in JSON/util.inspect.\n\ndefineToJSON(Location, function () {\n  return {\n    start: this.start,\n    end: this.end\n  };\n});\n/**\n * Represents a range of characters represented by a lexical token\n * within a Source.\n */\n\nexport var Token =\n/**\n * The kind of Token.\n */\n\n/**\n * The character offset at which this Node begins.\n */\n\n/**\n * The character offset at which this Node ends.\n */\n\n/**\n * The 1-indexed line number on which this Token appears.\n */\n\n/**\n * The 1-indexed column number at which this Token begins.\n */\n\n/**\n * For non-punctuation tokens, represents the interpreted value of the token.\n */\n\n/**\n * Tokens exist as nodes in a double-linked-list amongst all tokens\n * including ignored tokens. <SOF> is always the first node and <EOF>\n * the last.\n */\nfunction Token(kind, start, end, line, column, prev, value) {\n  this.kind = kind;\n  this.start = start;\n  this.end = end;\n  this.line = line;\n  this.column = column;\n  this.value = value;\n  this.prev = prev;\n  this.next = null;\n}; // Print a simplified form when appearing in JSON/util.inspect.\n\ndefineToJSON(Token, function () {\n  return {\n    kind: this.kind,\n    value: this.value,\n    line: this.line,\n    column: this.column\n  };\n});\n/**\n * @internal\n */\n\nexport function isNode(maybeNode) {\n  return maybeNode != null && typeof maybeNode.kind === 'string';\n}\n/**\n * The list of all possible AST node types.\n */\n","import inspect from \"../jsutils/inspect.mjs\";\nimport { isNode } from \"./ast.mjs\";\n/**\n * A visitor is provided to visit, it contains the collection of\n * relevant functions to be called during the visitor's traversal.\n */\n\nexport var QueryDocumentKeys = {\n  Name: [],\n  Document: ['definitions'],\n  OperationDefinition: ['name', 'variableDefinitions', 'directives', 'selectionSet'],\n  VariableDefinition: ['variable', 'type', 'defaultValue', 'directives'],\n  Variable: ['name'],\n  SelectionSet: ['selections'],\n  Field: ['alias', 'name', 'arguments', 'directives', 'selectionSet'],\n  Argument: ['name', 'value'],\n  FragmentSpread: ['name', 'directives'],\n  InlineFragment: ['typeCondition', 'directives', 'selectionSet'],\n  FragmentDefinition: ['name', // Note: fragment variable definitions are experimental and may be changed\n  // or removed in the future.\n  'variableDefinitions', 'typeCondition', 'directives', 'selectionSet'],\n  IntValue: [],\n  FloatValue: [],\n  StringValue: [],\n  BooleanValue: [],\n  NullValue: [],\n  EnumValue: [],\n  ListValue: ['values'],\n  ObjectValue: ['fields'],\n  ObjectField: ['name', 'value'],\n  Directive: ['name', 'arguments'],\n  NamedType: ['name'],\n  ListType: ['type'],\n  NonNullType: ['type'],\n  SchemaDefinition: ['description', 'directives', 'operationTypes'],\n  OperationTypeDefinition: ['type'],\n  ScalarTypeDefinition: ['description', 'name', 'directives'],\n  ObjectTypeDefinition: ['description', 'name', 'interfaces', 'directives', 'fields'],\n  FieldDefinition: ['description', 'name', 'arguments', 'type', 'directives'],\n  InputValueDefinition: ['description', 'name', 'type', 'defaultValue', 'directives'],\n  InterfaceTypeDefinition: ['description', 'name', 'interfaces', 'directives', 'fields'],\n  UnionTypeDefinition: ['description', 'name', 'directives', 'types'],\n  EnumTypeDefinition: ['description', 'name', 'directives', 'values'],\n  EnumValueDefinition: ['description', 'name', 'directives'],\n  InputObjectTypeDefinition: ['description', 'name', 'directives', 'fields'],\n  DirectiveDefinition: ['description', 'name', 'arguments', 'locations'],\n  SchemaExtension: ['directives', 'operationTypes'],\n  ScalarTypeExtension: ['name', 'directives'],\n  ObjectTypeExtension: ['name', 'interfaces', 'directives', 'fields'],\n  InterfaceTypeExtension: ['name', 'interfaces', 'directives', 'fields'],\n  UnionTypeExtension: ['name', 'directives', 'types'],\n  EnumTypeExtension: ['name', 'directives', 'values'],\n  InputObjectTypeExtension: ['name', 'directives', 'fields']\n};\nexport var BREAK = Object.freeze({});\n/**\n * visit() will walk through an AST using a depth first traversal, calling\n * the visitor's enter function at each node in the traversal, and calling the\n * leave function after visiting that node and all of its child nodes.\n *\n * By returning different values from the enter and leave functions, the\n * behavior of the visitor can be altered, including skipping over a sub-tree of\n * the AST (by returning false), editing the AST by returning a value or null\n * to remove the value, or to stop the whole traversal by returning BREAK.\n *\n * When using visit() to edit an AST, the original AST will not be modified, and\n * a new version of the AST with the changes applied will be returned from the\n * visit function.\n *\n *     const editedAST = visit(ast, {\n *       enter(node, key, parent, path, ancestors) {\n *         // @return\n *         //   undefined: no action\n *         //   false: skip visiting this node\n *         //   visitor.BREAK: stop visiting altogether\n *         //   null: delete this node\n *         //   any value: replace this node with the returned value\n *       },\n *       leave(node, key, parent, path, ancestors) {\n *         // @return\n *         //   undefined: no action\n *         //   false: no action\n *         //   visitor.BREAK: stop visiting altogether\n *         //   null: delete this node\n *         //   any value: replace this node with the returned value\n *       }\n *     });\n *\n * Alternatively to providing enter() and leave() functions, a visitor can\n * instead provide functions named the same as the kinds of AST nodes, or\n * enter/leave visitors at a named key, leading to four permutations of\n * visitor API:\n *\n * 1) Named visitors triggered when entering a node a specific kind.\n *\n *     visit(ast, {\n *       Kind(node) {\n *         // enter the \"Kind\" node\n *       }\n *     })\n *\n * 2) Named visitors that trigger upon entering and leaving a node of\n *    a specific kind.\n *\n *     visit(ast, {\n *       Kind: {\n *         enter(node) {\n *           // enter the \"Kind\" node\n *         }\n *         leave(node) {\n *           // leave the \"Kind\" node\n *         }\n *       }\n *     })\n *\n * 3) Generic visitors that trigger upon entering and leaving any node.\n *\n *     visit(ast, {\n *       enter(node) {\n *         // enter any node\n *       },\n *       leave(node) {\n *         // leave any node\n *       }\n *     })\n *\n * 4) Parallel visitors for entering and leaving nodes of a specific kind.\n *\n *     visit(ast, {\n *       enter: {\n *         Kind(node) {\n *           // enter the \"Kind\" node\n *         }\n *       },\n *       leave: {\n *         Kind(node) {\n *           // leave the \"Kind\" node\n *         }\n *       }\n *     })\n */\n\nexport function visit(root, visitor) {\n  var visitorKeys = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : QueryDocumentKeys;\n\n  /* eslint-disable no-undef-init */\n  var stack = undefined;\n  var inArray = Array.isArray(root);\n  var keys = [root];\n  var index = -1;\n  var edits = [];\n  var node = undefined;\n  var key = undefined;\n  var parent = undefined;\n  var path = [];\n  var ancestors = [];\n  var newRoot = root;\n  /* eslint-enable no-undef-init */\n\n  do {\n    index++;\n    var isLeaving = index === keys.length;\n    var isEdited = isLeaving && edits.length !== 0;\n\n    if (isLeaving) {\n      key = ancestors.length === 0 ? undefined : path[path.length - 1];\n      node = parent;\n      parent = ancestors.pop();\n\n      if (isEdited) {\n        if (inArray) {\n          node = node.slice();\n        } else {\n          var clone = {};\n\n          for (var _i2 = 0, _Object$keys2 = Object.keys(node); _i2 < _Object$keys2.length; _i2++) {\n            var k = _Object$keys2[_i2];\n            clone[k] = node[k];\n          }\n\n          node = clone;\n        }\n\n        var editOffset = 0;\n\n        for (var ii = 0; ii < edits.length; ii++) {\n          var editKey = edits[ii][0];\n          var editValue = edits[ii][1];\n\n          if (inArray) {\n            editKey -= editOffset;\n          }\n\n          if (inArray && editValue === null) {\n            node.splice(editKey, 1);\n            editOffset++;\n          } else {\n            node[editKey] = editValue;\n          }\n        }\n      }\n\n      index = stack.index;\n      keys = stack.keys;\n      edits = stack.edits;\n      inArray = stack.inArray;\n      stack = stack.prev;\n    } else {\n      key = parent ? inArray ? index : keys[index] : undefined;\n      node = parent ? parent[key] : newRoot;\n\n      if (node === null || node === undefined) {\n        continue;\n      }\n\n      if (parent) {\n        path.push(key);\n      }\n    }\n\n    var result = void 0;\n\n    if (!Array.isArray(node)) {\n      if (!isNode(node)) {\n        throw new Error(\"Invalid AST Node: \".concat(inspect(node), \".\"));\n      }\n\n      var visitFn = getVisitFn(visitor, node.kind, isLeaving);\n\n      if (visitFn) {\n        result = visitFn.call(visitor, node, key, parent, path, ancestors);\n\n        if (result === BREAK) {\n          break;\n        }\n\n        if (result === false) {\n          if (!isLeaving) {\n            path.pop();\n            continue;\n          }\n        } else if (result !== undefined) {\n          edits.push([key, result]);\n\n          if (!isLeaving) {\n            if (isNode(result)) {\n              node = result;\n            } else {\n              path.pop();\n              continue;\n            }\n          }\n        }\n      }\n    }\n\n    if (result === undefined && isEdited) {\n      edits.push([key, node]);\n    }\n\n    if (isLeaving) {\n      path.pop();\n    } else {\n      var _visitorKeys$node$kin;\n\n      stack = {\n        inArray: inArray,\n        index: index,\n        keys: keys,\n        edits: edits,\n        prev: stack\n      };\n      inArray = Array.isArray(node);\n      keys = inArray ? node : (_visitorKeys$node$kin = visitorKeys[node.kind]) !== null && _visitorKeys$node$kin !== void 0 ? _visitorKeys$node$kin : [];\n      index = -1;\n      edits = [];\n\n      if (parent) {\n        ancestors.push(parent);\n      }\n\n      parent = node;\n    }\n  } while (stack !== undefined);\n\n  if (edits.length !== 0) {\n    newRoot = edits[edits.length - 1][1];\n  }\n\n  return newRoot;\n}\n/**\n * Creates a new visitor instance which delegates to many visitors to run in\n * parallel. Each visitor will be visited for each node before moving on.\n *\n * If a prior visitor edits a node, no following visitors will see that node.\n */\n\nexport function visitInParallel(visitors) {\n  var skipping = new Array(visitors.length);\n  return {\n    enter: function enter(node) {\n      for (var i = 0; i < visitors.length; i++) {\n        if (skipping[i] == null) {\n          var fn = getVisitFn(visitors[i], node.kind,\n          /* isLeaving */\n          false);\n\n          if (fn) {\n            var result = fn.apply(visitors[i], arguments);\n\n            if (result === false) {\n              skipping[i] = node;\n            } else if (result === BREAK) {\n              skipping[i] = BREAK;\n            } else if (result !== undefined) {\n              return result;\n            }\n          }\n        }\n      }\n    },\n    leave: function leave(node) {\n      for (var i = 0; i < visitors.length; i++) {\n        if (skipping[i] == null) {\n          var fn = getVisitFn(visitors[i], node.kind,\n          /* isLeaving */\n          true);\n\n          if (fn) {\n            var result = fn.apply(visitors[i], arguments);\n\n            if (result === BREAK) {\n              skipping[i] = BREAK;\n            } else if (result !== undefined && result !== false) {\n              return result;\n            }\n          }\n        } else if (skipping[i] === node) {\n          skipping[i] = null;\n        }\n      }\n    }\n  };\n}\n/**\n * Given a visitor instance, if it is leaving or not, and a node kind, return\n * the function the visitor runtime should call.\n */\n\nexport function getVisitFn(visitor, kind, isLeaving) {\n  var kindVisitor = visitor[kind];\n\n  if (kindVisitor) {\n    if (!isLeaving && typeof kindVisitor === 'function') {\n      // { Kind() {} }\n      return kindVisitor;\n    }\n\n    var kindSpecificVisitor = isLeaving ? kindVisitor.leave : kindVisitor.enter;\n\n    if (typeof kindSpecificVisitor === 'function') {\n      // { Kind: { enter() {}, leave() {} } }\n      return kindSpecificVisitor;\n    }\n  } else {\n    var specificVisitor = isLeaving ? visitor.leave : visitor.enter;\n\n    if (specificVisitor) {\n      if (typeof specificVisitor === 'function') {\n        // { enter() {}, leave() {} }\n        return specificVisitor;\n      }\n\n      var specificKindVisitor = specificVisitor[kind];\n\n      if (typeof specificKindVisitor === 'function') {\n        // { enter: { Kind() {} }, leave: { Kind() {} } }\n        return specificKindVisitor;\n      }\n    }\n  }\n}\n","import { __extends } from 'tslib';\n\nvar genericMessage = \"Invariant Violation\";\r\nvar _a = Object.setPrototypeOf, setPrototypeOf = _a === void 0 ? function (obj, proto) {\r\n    obj.__proto__ = proto;\r\n    return obj;\r\n} : _a;\r\nvar InvariantError = /** @class */ (function (_super) {\r\n    __extends(InvariantError, _super);\r\n    function InvariantError(message) {\r\n        if (message === void 0) { message = genericMessage; }\r\n        var _this = _super.call(this, typeof message === \"number\"\r\n            ? genericMessage + \": \" + message + \" (see https://github.com/apollographql/invariant-packages)\"\r\n            : message) || this;\r\n        _this.framesToPop = 1;\r\n        _this.name = genericMessage;\r\n        setPrototypeOf(_this, InvariantError.prototype);\r\n        return _this;\r\n    }\r\n    return InvariantError;\r\n}(Error));\r\nfunction invariant(condition, message) {\r\n    if (!condition) {\r\n        throw new InvariantError(message);\r\n    }\r\n}\r\nfunction wrapConsoleMethod(method) {\r\n    return function () {\r\n        return console[method].apply(console, arguments);\r\n    };\r\n}\r\n(function (invariant) {\r\n    invariant.warn = wrapConsoleMethod(\"warn\");\r\n    invariant.error = wrapConsoleMethod(\"error\");\r\n})(invariant || (invariant = {}));\r\n// Code that uses ts-invariant with rollup-plugin-invariant may want to\r\n// import this process stub to avoid errors evaluating process.env.NODE_ENV.\r\n// However, because most ESM-to-CJS compilers will rewrite the process import\r\n// as tsInvariant.process, which prevents proper replacement by minifiers, we\r\n// also attempt to define the stub globally when it is not already defined.\r\nvar processStub = { env: {} };\r\nif (typeof process === \"object\") {\r\n    processStub = process;\r\n}\r\nelse\r\n    try {\r\n        // Using Function to evaluate this assignment in global scope also escapes\r\n        // the strict mode of the current module, thereby allowing the assignment.\r\n        // Inspired by https://github.com/facebook/regenerator/pull/369.\r\n        Function(\"stub\", \"process = stub\")(processStub);\r\n    }\r\n    catch (atLeastWeTried) {\r\n        // The assignment can fail if a Content Security Policy heavy-handedly\r\n        // forbids Function usage. In those environments, developers should take\r\n        // extra care to replace process.env.NODE_ENV in their production builds,\r\n        // or define an appropriate global.process polyfill.\r\n    }\r\nvar invariant$1 = invariant;\n\nexport default invariant$1;\nexport { InvariantError, invariant, processStub as process };\n//# sourceMappingURL=invariant.esm.js.map\n","'use strict';\n\nmodule.exports = function (data, opts) {\n    if (!opts) opts = {};\n    if (typeof opts === 'function') opts = { cmp: opts };\n    var cycles = (typeof opts.cycles === 'boolean') ? opts.cycles : false;\n\n    var cmp = opts.cmp && (function (f) {\n        return function (node) {\n            return function (a, b) {\n                var aobj = { key: a, value: node[a] };\n                var bobj = { key: b, value: node[b] };\n                return f(aobj, bobj);\n            };\n        };\n    })(opts.cmp);\n\n    var seen = [];\n    return (function stringify (node) {\n        if (node && node.toJSON && typeof node.toJSON === 'function') {\n            node = node.toJSON();\n        }\n\n        if (node === undefined) return;\n        if (typeof node == 'number') return isFinite(node) ? '' + node : 'null';\n        if (typeof node !== 'object') return JSON.stringify(node);\n\n        var i, out;\n        if (Array.isArray(node)) {\n            out = '[';\n            for (i = 0; i < node.length; i++) {\n                if (i) out += ',';\n                out += stringify(node[i]) || 'null';\n            }\n            return out + ']';\n        }\n\n        if (node === null) return 'null';\n\n        if (seen.indexOf(node) !== -1) {\n            if (cycles) return JSON.stringify('__cycle__');\n            throw new TypeError('Converting circular structure to JSON');\n        }\n\n        var seenIndex = seen.push(node) - 1;\n        var keys = Object.keys(node).sort(cmp && cmp(node));\n        out = '';\n        for (i = 0; i < keys.length; i++) {\n            var key = keys[i];\n            var value = stringify(node[key]);\n\n            if (!value) continue;\n            if (out) out += ',';\n            out += JSON.stringify(key) + ':' + value;\n        }\n        seen.splice(seenIndex, 1);\n        return '{' + out + '}';\n    })(data);\n};\n","var _a = Object.prototype, toString = _a.toString, hasOwnProperty = _a.hasOwnProperty;\r\nvar previousComparisons = new Map();\r\n/**\r\n * Performs a deep equality check on two JavaScript values, tolerating cycles.\r\n */\r\nfunction equal(a, b) {\r\n    try {\r\n        return check(a, b);\r\n    }\r\n    finally {\r\n        previousComparisons.clear();\r\n    }\r\n}\r\nfunction check(a, b) {\r\n    // If the two values are strictly equal, our job is easy.\r\n    if (a === b) {\r\n        return true;\r\n    }\r\n    // Object.prototype.toString returns a representation of the runtime type of\r\n    // the given value that is considerably more precise than typeof.\r\n    var aTag = toString.call(a);\r\n    var bTag = toString.call(b);\r\n    // If the runtime types of a and b are different, they could maybe be equal\r\n    // under some interpretation of equality, but for simplicity and performance\r\n    // we just return false instead.\r\n    if (aTag !== bTag) {\r\n        return false;\r\n    }\r\n    switch (aTag) {\r\n        case '[object Array]':\r\n            // Arrays are a lot like other objects, but we can cheaply compare their\r\n            // lengths as a short-cut before comparing their elements.\r\n            if (a.length !== b.length)\r\n                return false;\r\n        // Fall through to object case...\r\n        case '[object Object]': {\r\n            if (previouslyCompared(a, b))\r\n                return true;\r\n            var aKeys = Object.keys(a);\r\n            var bKeys = Object.keys(b);\r\n            // If `a` and `b` have a different number of enumerable keys, they\r\n            // must be different.\r\n            var keyCount = aKeys.length;\r\n            if (keyCount !== bKeys.length)\r\n                return false;\r\n            // Now make sure they have the same keys.\r\n            for (var k = 0; k < keyCount; ++k) {\r\n                if (!hasOwnProperty.call(b, aKeys[k])) {\r\n                    return false;\r\n                }\r\n            }\r\n            // Finally, check deep equality of all child properties.\r\n            for (var k = 0; k < keyCount; ++k) {\r\n                var key = aKeys[k];\r\n                if (!check(a[key], b[key])) {\r\n                    return false;\r\n                }\r\n            }\r\n            return true;\r\n        }\r\n        case '[object Error]':\r\n            return a.name === b.name && a.message === b.message;\r\n        case '[object Number]':\r\n            // Handle NaN, which is !== itself.\r\n            if (a !== a)\r\n                return b !== b;\r\n        // Fall through to shared +a === +b case...\r\n        case '[object Boolean]':\r\n        case '[object Date]':\r\n            return +a === +b;\r\n        case '[object RegExp]':\r\n        case '[object String]':\r\n            return a == \"\" + b;\r\n        case '[object Map]':\r\n        case '[object Set]': {\r\n            if (a.size !== b.size)\r\n                return false;\r\n            if (previouslyCompared(a, b))\r\n                return true;\r\n            var aIterator = a.entries();\r\n            var isMap = aTag === '[object Map]';\r\n            while (true) {\r\n                var info = aIterator.next();\r\n                if (info.done)\r\n                    break;\r\n                // If a instanceof Set, aValue === aKey.\r\n                var _a = info.value, aKey = _a[0], aValue = _a[1];\r\n                // So this works the same way for both Set and Map.\r\n                if (!b.has(aKey)) {\r\n                    return false;\r\n                }\r\n                // However, we care about deep equality of values only when dealing\r\n                // with Map structures.\r\n                if (isMap && !check(aValue, b.get(aKey))) {\r\n                    return false;\r\n                }\r\n            }\r\n            return true;\r\n        }\r\n    }\r\n    // Otherwise the values are not equal.\r\n    return false;\r\n}\r\nfunction previouslyCompared(a, b) {\r\n    // Though cyclic references can make an object graph appear infinite from the\r\n    // perspective of a depth-first traversal, the graph still contains a finite\r\n    // number of distinct object references. We use the previousComparisons cache\r\n    // to avoid comparing the same pair of object references more than once, which\r\n    // guarantees termination (even if we end up comparing every object in one\r\n    // graph to every object in the other graph, which is extremely unlikely),\r\n    // while still allowing weird isomorphic structures (like rings with different\r\n    // lengths) a chance to pass the equality test.\r\n    var bSet = previousComparisons.get(a);\r\n    if (bSet) {\r\n        // Return true here because we can be sure false will be returned somewhere\r\n        // else if the objects are not equivalent.\r\n        if (bSet.has(b))\r\n            return true;\r\n    }\r\n    else {\r\n        previousComparisons.set(a, bSet = new Set);\r\n    }\r\n    bSet.add(b);\r\n    return false;\r\n}\n\nexport default equal;\nexport { equal };\n//# sourceMappingURL=equality.esm.js.map\n","import { visit } from 'graphql/language/visitor';\nimport { InvariantError, invariant } from 'ts-invariant';\nimport { __assign, __spreadArrays } from 'tslib';\nimport stringify from 'fast-json-stable-stringify';\nexport { equal as isEqual } from '@wry/equality';\n\nfunction isScalarValue(value) {\n    return ['StringValue', 'BooleanValue', 'EnumValue'].indexOf(value.kind) > -1;\n}\nfunction isNumberValue(value) {\n    return ['IntValue', 'FloatValue'].indexOf(value.kind) > -1;\n}\nfunction isStringValue(value) {\n    return value.kind === 'StringValue';\n}\nfunction isBooleanValue(value) {\n    return value.kind === 'BooleanValue';\n}\nfunction isIntValue(value) {\n    return value.kind === 'IntValue';\n}\nfunction isFloatValue(value) {\n    return value.kind === 'FloatValue';\n}\nfunction isVariable(value) {\n    return value.kind === 'Variable';\n}\nfunction isObjectValue(value) {\n    return value.kind === 'ObjectValue';\n}\nfunction isListValue(value) {\n    return value.kind === 'ListValue';\n}\nfunction isEnumValue(value) {\n    return value.kind === 'EnumValue';\n}\nfunction isNullValue(value) {\n    return value.kind === 'NullValue';\n}\nfunction valueToObjectRepresentation(argObj, name, value, variables) {\n    if (isIntValue(value) || isFloatValue(value)) {\n        argObj[name.value] = Number(value.value);\n    }\n    else if (isBooleanValue(value) || isStringValue(value)) {\n        argObj[name.value] = value.value;\n    }\n    else if (isObjectValue(value)) {\n        var nestedArgObj_1 = {};\n        value.fields.map(function (obj) {\n            return valueToObjectRepresentation(nestedArgObj_1, obj.name, obj.value, variables);\n        });\n        argObj[name.value] = nestedArgObj_1;\n    }\n    else if (isVariable(value)) {\n        var variableValue = (variables || {})[value.name.value];\n        argObj[name.value] = variableValue;\n    }\n    else if (isListValue(value)) {\n        argObj[name.value] = value.values.map(function (listValue) {\n            var nestedArgArrayObj = {};\n            valueToObjectRepresentation(nestedArgArrayObj, name, listValue, variables);\n            return nestedArgArrayObj[name.value];\n        });\n    }\n    else if (isEnumValue(value)) {\n        argObj[name.value] = value.value;\n    }\n    else if (isNullValue(value)) {\n        argObj[name.value] = null;\n    }\n    else {\n        throw process.env.NODE_ENV === \"production\" ? new InvariantError(17) : new InvariantError(\"The inline argument \\\"\" + name.value + \"\\\" of kind \\\"\" + value.kind + \"\\\"\" +\n            'is not supported. Use variables instead of inline arguments to ' +\n            'overcome this limitation.');\n    }\n}\nfunction storeKeyNameFromField(field, variables) {\n    var directivesObj = null;\n    if (field.directives) {\n        directivesObj = {};\n        field.directives.forEach(function (directive) {\n            directivesObj[directive.name.value] = {};\n            if (directive.arguments) {\n                directive.arguments.forEach(function (_a) {\n                    var name = _a.name, value = _a.value;\n                    return valueToObjectRepresentation(directivesObj[directive.name.value], name, value, variables);\n                });\n            }\n        });\n    }\n    var argObj = null;\n    if (field.arguments && field.arguments.length) {\n        argObj = {};\n        field.arguments.forEach(function (_a) {\n            var name = _a.name, value = _a.value;\n            return valueToObjectRepresentation(argObj, name, value, variables);\n        });\n    }\n    return getStoreKeyName(field.name.value, argObj, directivesObj);\n}\nvar KNOWN_DIRECTIVES = [\n    'connection',\n    'include',\n    'skip',\n    'client',\n    'rest',\n    'export',\n];\nfunction getStoreKeyName(fieldName, args, directives) {\n    if (directives &&\n        directives['connection'] &&\n        directives['connection']['key']) {\n        if (directives['connection']['filter'] &&\n            directives['connection']['filter'].length > 0) {\n            var filterKeys = directives['connection']['filter']\n                ? directives['connection']['filter']\n                : [];\n            filterKeys.sort();\n            var queryArgs_1 = args;\n            var filteredArgs_1 = {};\n            filterKeys.forEach(function (key) {\n                filteredArgs_1[key] = queryArgs_1[key];\n            });\n            return directives['connection']['key'] + \"(\" + JSON.stringify(filteredArgs_1) + \")\";\n        }\n        else {\n            return directives['connection']['key'];\n        }\n    }\n    var completeFieldName = fieldName;\n    if (args) {\n        var stringifiedArgs = stringify(args);\n        completeFieldName += \"(\" + stringifiedArgs + \")\";\n    }\n    if (directives) {\n        Object.keys(directives).forEach(function (key) {\n            if (KNOWN_DIRECTIVES.indexOf(key) !== -1)\n                return;\n            if (directives[key] && Object.keys(directives[key]).length) {\n                completeFieldName += \"@\" + key + \"(\" + JSON.stringify(directives[key]) + \")\";\n            }\n            else {\n                completeFieldName += \"@\" + key;\n            }\n        });\n    }\n    return completeFieldName;\n}\nfunction argumentsObjectFromField(field, variables) {\n    if (field.arguments && field.arguments.length) {\n        var argObj_1 = {};\n        field.arguments.forEach(function (_a) {\n            var name = _a.name, value = _a.value;\n            return valueToObjectRepresentation(argObj_1, name, value, variables);\n        });\n        return argObj_1;\n    }\n    return null;\n}\nfunction resultKeyNameFromField(field) {\n    return field.alias ? field.alias.value : field.name.value;\n}\nfunction isField(selection) {\n    return selection.kind === 'Field';\n}\nfunction isInlineFragment(selection) {\n    return selection.kind === 'InlineFragment';\n}\nfunction isIdValue(idObject) {\n    return idObject &&\n        idObject.type === 'id' &&\n        typeof idObject.generated === 'boolean';\n}\nfunction toIdValue(idConfig, generated) {\n    if (generated === void 0) { generated = false; }\n    return __assign({ type: 'id', generated: generated }, (typeof idConfig === 'string'\n        ? { id: idConfig, typename: undefined }\n        : idConfig));\n}\nfunction isJsonValue(jsonObject) {\n    return (jsonObject != null &&\n        typeof jsonObject === 'object' &&\n        jsonObject.type === 'json');\n}\nfunction defaultValueFromVariable(node) {\n    throw process.env.NODE_ENV === \"production\" ? new InvariantError(18) : new InvariantError(\"Variable nodes are not supported by valueFromNode\");\n}\nfunction valueFromNode(node, onVariable) {\n    if (onVariable === void 0) { onVariable = defaultValueFromVariable; }\n    switch (node.kind) {\n        case 'Variable':\n            return onVariable(node);\n        case 'NullValue':\n            return null;\n        case 'IntValue':\n            return parseInt(node.value, 10);\n        case 'FloatValue':\n            return parseFloat(node.value);\n        case 'ListValue':\n            return node.values.map(function (v) { return valueFromNode(v, onVariable); });\n        case 'ObjectValue': {\n            var value = {};\n            for (var _i = 0, _a = node.fields; _i < _a.length; _i++) {\n                var field = _a[_i];\n                value[field.name.value] = valueFromNode(field.value, onVariable);\n            }\n            return value;\n        }\n        default:\n            return node.value;\n    }\n}\n\nfunction getDirectiveInfoFromField(field, variables) {\n    if (field.directives && field.directives.length) {\n        var directiveObj_1 = {};\n        field.directives.forEach(function (directive) {\n            directiveObj_1[directive.name.value] = argumentsObjectFromField(directive, variables);\n        });\n        return directiveObj_1;\n    }\n    return null;\n}\nfunction shouldInclude(selection, variables) {\n    if (variables === void 0) { variables = {}; }\n    return getInclusionDirectives(selection.directives).every(function (_a) {\n        var directive = _a.directive, ifArgument = _a.ifArgument;\n        var evaledValue = false;\n        if (ifArgument.value.kind === 'Variable') {\n            evaledValue = variables[ifArgument.value.name.value];\n            process.env.NODE_ENV === \"production\" ? invariant(evaledValue !== void 0, 1) : invariant(evaledValue !== void 0, \"Invalid variable referenced in @\" + directive.name.value + \" directive.\");\n        }\n        else {\n            evaledValue = ifArgument.value.value;\n        }\n        return directive.name.value === 'skip' ? !evaledValue : evaledValue;\n    });\n}\nfunction getDirectiveNames(doc) {\n    var names = [];\n    visit(doc, {\n        Directive: function (node) {\n            names.push(node.name.value);\n        },\n    });\n    return names;\n}\nfunction hasDirectives(names, doc) {\n    return getDirectiveNames(doc).some(function (name) { return names.indexOf(name) > -1; });\n}\nfunction hasClientExports(document) {\n    return (document &&\n        hasDirectives(['client'], document) &&\n        hasDirectives(['export'], document));\n}\nfunction isInclusionDirective(_a) {\n    var value = _a.name.value;\n    return value === 'skip' || value === 'include';\n}\nfunction getInclusionDirectives(directives) {\n    return directives ? directives.filter(isInclusionDirective).map(function (directive) {\n        var directiveArguments = directive.arguments;\n        var directiveName = directive.name.value;\n        process.env.NODE_ENV === \"production\" ? invariant(directiveArguments && directiveArguments.length === 1, 2) : invariant(directiveArguments && directiveArguments.length === 1, \"Incorrect number of arguments for the @\" + directiveName + \" directive.\");\n        var ifArgument = directiveArguments[0];\n        process.env.NODE_ENV === \"production\" ? invariant(ifArgument.name && ifArgument.name.value === 'if', 3) : invariant(ifArgument.name && ifArgument.name.value === 'if', \"Invalid argument for the @\" + directiveName + \" directive.\");\n        var ifValue = ifArgument.value;\n        process.env.NODE_ENV === \"production\" ? invariant(ifValue &&\n            (ifValue.kind === 'Variable' || ifValue.kind === 'BooleanValue'), 4) : invariant(ifValue &&\n            (ifValue.kind === 'Variable' || ifValue.kind === 'BooleanValue'), \"Argument for the @\" + directiveName + \" directive must be a variable or a boolean value.\");\n        return { directive: directive, ifArgument: ifArgument };\n    }) : [];\n}\n\nfunction getFragmentQueryDocument(document, fragmentName) {\n    var actualFragmentName = fragmentName;\n    var fragments = [];\n    document.definitions.forEach(function (definition) {\n        if (definition.kind === 'OperationDefinition') {\n            throw process.env.NODE_ENV === \"production\" ? new InvariantError(5) : new InvariantError(\"Found a \" + definition.operation + \" operation\" + (definition.name ? \" named '\" + definition.name.value + \"'\" : '') + \". \" +\n                'No operations are allowed when using a fragment as a query. Only fragments are allowed.');\n        }\n        if (definition.kind === 'FragmentDefinition') {\n            fragments.push(definition);\n        }\n    });\n    if (typeof actualFragmentName === 'undefined') {\n        process.env.NODE_ENV === \"production\" ? invariant(fragments.length === 1, 6) : invariant(fragments.length === 1, \"Found \" + fragments.length + \" fragments. `fragmentName` must be provided when there is not exactly 1 fragment.\");\n        actualFragmentName = fragments[0].name.value;\n    }\n    var query = __assign(__assign({}, document), { definitions: __spreadArrays([\n            {\n                kind: 'OperationDefinition',\n                operation: 'query',\n                selectionSet: {\n                    kind: 'SelectionSet',\n                    selections: [\n                        {\n                            kind: 'FragmentSpread',\n                            name: {\n                                kind: 'Name',\n                                value: actualFragmentName,\n                            },\n                        },\n                    ],\n                },\n            }\n        ], document.definitions) });\n    return query;\n}\n\nfunction assign(target) {\n    var sources = [];\n    for (var _i = 1; _i < arguments.length; _i++) {\n        sources[_i - 1] = arguments[_i];\n    }\n    sources.forEach(function (source) {\n        if (typeof source === 'undefined' || source === null) {\n            return;\n        }\n        Object.keys(source).forEach(function (key) {\n            target[key] = source[key];\n        });\n    });\n    return target;\n}\n\nfunction getMutationDefinition(doc) {\n    checkDocument(doc);\n    var mutationDef = doc.definitions.filter(function (definition) {\n        return definition.kind === 'OperationDefinition' &&\n            definition.operation === 'mutation';\n    })[0];\n    process.env.NODE_ENV === \"production\" ? invariant(mutationDef, 7) : invariant(mutationDef, 'Must contain a mutation definition.');\n    return mutationDef;\n}\nfunction checkDocument(doc) {\n    process.env.NODE_ENV === \"production\" ? invariant(doc && doc.kind === 'Document', 8) : invariant(doc && doc.kind === 'Document', \"Expecting a parsed GraphQL document. Perhaps you need to wrap the query string in a \\\"gql\\\" tag? http://docs.apollostack.com/apollo-client/core.html#gql\");\n    var operations = doc.definitions\n        .filter(function (d) { return d.kind !== 'FragmentDefinition'; })\n        .map(function (definition) {\n        if (definition.kind !== 'OperationDefinition') {\n            throw process.env.NODE_ENV === \"production\" ? new InvariantError(9) : new InvariantError(\"Schema type definitions not allowed in queries. Found: \\\"\" + definition.kind + \"\\\"\");\n        }\n        return definition;\n    });\n    process.env.NODE_ENV === \"production\" ? invariant(operations.length <= 1, 10) : invariant(operations.length <= 1, \"Ambiguous GraphQL document: contains \" + operations.length + \" operations\");\n    return doc;\n}\nfunction getOperationDefinition(doc) {\n    checkDocument(doc);\n    return doc.definitions.filter(function (definition) { return definition.kind === 'OperationDefinition'; })[0];\n}\nfunction getOperationDefinitionOrDie(document) {\n    var def = getOperationDefinition(document);\n    process.env.NODE_ENV === \"production\" ? invariant(def, 11) : invariant(def, \"GraphQL document is missing an operation\");\n    return def;\n}\nfunction getOperationName(doc) {\n    return (doc.definitions\n        .filter(function (definition) {\n        return definition.kind === 'OperationDefinition' && definition.name;\n    })\n        .map(function (x) { return x.name.value; })[0] || null);\n}\nfunction getFragmentDefinitions(doc) {\n    return doc.definitions.filter(function (definition) { return definition.kind === 'FragmentDefinition'; });\n}\nfunction getQueryDefinition(doc) {\n    var queryDef = getOperationDefinition(doc);\n    process.env.NODE_ENV === \"production\" ? invariant(queryDef && queryDef.operation === 'query', 12) : invariant(queryDef && queryDef.operation === 'query', 'Must contain a query definition.');\n    return queryDef;\n}\nfunction getFragmentDefinition(doc) {\n    process.env.NODE_ENV === \"production\" ? invariant(doc.kind === 'Document', 13) : invariant(doc.kind === 'Document', \"Expecting a parsed GraphQL document. Perhaps you need to wrap the query string in a \\\"gql\\\" tag? http://docs.apollostack.com/apollo-client/core.html#gql\");\n    process.env.NODE_ENV === \"production\" ? invariant(doc.definitions.length <= 1, 14) : invariant(doc.definitions.length <= 1, 'Fragment must have exactly one definition.');\n    var fragmentDef = doc.definitions[0];\n    process.env.NODE_ENV === \"production\" ? invariant(fragmentDef.kind === 'FragmentDefinition', 15) : invariant(fragmentDef.kind === 'FragmentDefinition', 'Must be a fragment definition.');\n    return fragmentDef;\n}\nfunction getMainDefinition(queryDoc) {\n    checkDocument(queryDoc);\n    var fragmentDefinition;\n    for (var _i = 0, _a = queryDoc.definitions; _i < _a.length; _i++) {\n        var definition = _a[_i];\n        if (definition.kind === 'OperationDefinition') {\n            var operation = definition.operation;\n            if (operation === 'query' ||\n                operation === 'mutation' ||\n                operation === 'subscription') {\n                return definition;\n            }\n        }\n        if (definition.kind === 'FragmentDefinition' && !fragmentDefinition) {\n            fragmentDefinition = definition;\n        }\n    }\n    if (fragmentDefinition) {\n        return fragmentDefinition;\n    }\n    throw process.env.NODE_ENV === \"production\" ? new InvariantError(16) : new InvariantError('Expected a parsed GraphQL query with a query, mutation, subscription, or a fragment.');\n}\nfunction createFragmentMap(fragments) {\n    if (fragments === void 0) { fragments = []; }\n    var symTable = {};\n    fragments.forEach(function (fragment) {\n        symTable[fragment.name.value] = fragment;\n    });\n    return symTable;\n}\nfunction getDefaultValues(definition) {\n    if (definition &&\n        definition.variableDefinitions &&\n        definition.variableDefinitions.length) {\n        var defaultValues = definition.variableDefinitions\n            .filter(function (_a) {\n            var defaultValue = _a.defaultValue;\n            return defaultValue;\n        })\n            .map(function (_a) {\n            var variable = _a.variable, defaultValue = _a.defaultValue;\n            var defaultValueObj = {};\n            valueToObjectRepresentation(defaultValueObj, variable.name, defaultValue);\n            return defaultValueObj;\n        });\n        return assign.apply(void 0, __spreadArrays([{}], defaultValues));\n    }\n    return {};\n}\nfunction variablesInOperation(operation) {\n    var names = new Set();\n    if (operation.variableDefinitions) {\n        for (var _i = 0, _a = operation.variableDefinitions; _i < _a.length; _i++) {\n            var definition = _a[_i];\n            names.add(definition.variable.name.value);\n        }\n    }\n    return names;\n}\n\nfunction filterInPlace(array, test, context) {\n    var target = 0;\n    array.forEach(function (elem, i) {\n        if (test.call(this, elem, i, array)) {\n            array[target++] = elem;\n        }\n    }, context);\n    array.length = target;\n    return array;\n}\n\nvar TYPENAME_FIELD = {\n    kind: 'Field',\n    name: {\n        kind: 'Name',\n        value: '__typename',\n    },\n};\nfunction isEmpty(op, fragments) {\n    return op.selectionSet.selections.every(function (selection) {\n        return selection.kind === 'FragmentSpread' &&\n            isEmpty(fragments[selection.name.value], fragments);\n    });\n}\nfunction nullIfDocIsEmpty(doc) {\n    return isEmpty(getOperationDefinition(doc) || getFragmentDefinition(doc), createFragmentMap(getFragmentDefinitions(doc)))\n        ? null\n        : doc;\n}\nfunction getDirectiveMatcher(directives) {\n    return function directiveMatcher(directive) {\n        return directives.some(function (dir) {\n            return (dir.name && dir.name === directive.name.value) ||\n                (dir.test && dir.test(directive));\n        });\n    };\n}\nfunction removeDirectivesFromDocument(directives, doc) {\n    var variablesInUse = Object.create(null);\n    var variablesToRemove = [];\n    var fragmentSpreadsInUse = Object.create(null);\n    var fragmentSpreadsToRemove = [];\n    var modifiedDoc = nullIfDocIsEmpty(visit(doc, {\n        Variable: {\n            enter: function (node, _key, parent) {\n                if (parent.kind !== 'VariableDefinition') {\n                    variablesInUse[node.name.value] = true;\n                }\n            },\n        },\n        Field: {\n            enter: function (node) {\n                if (directives && node.directives) {\n                    var shouldRemoveField = directives.some(function (directive) { return directive.remove; });\n                    if (shouldRemoveField &&\n                        node.directives &&\n                        node.directives.some(getDirectiveMatcher(directives))) {\n                        if (node.arguments) {\n                            node.arguments.forEach(function (arg) {\n                                if (arg.value.kind === 'Variable') {\n                                    variablesToRemove.push({\n                                        name: arg.value.name.value,\n                                    });\n                                }\n                            });\n                        }\n                        if (node.selectionSet) {\n                            getAllFragmentSpreadsFromSelectionSet(node.selectionSet).forEach(function (frag) {\n                                fragmentSpreadsToRemove.push({\n                                    name: frag.name.value,\n                                });\n                            });\n                        }\n                        return null;\n                    }\n                }\n            },\n        },\n        FragmentSpread: {\n            enter: function (node) {\n                fragmentSpreadsInUse[node.name.value] = true;\n            },\n        },\n        Directive: {\n            enter: function (node) {\n                if (getDirectiveMatcher(directives)(node)) {\n                    return null;\n                }\n            },\n        },\n    }));\n    if (modifiedDoc &&\n        filterInPlace(variablesToRemove, function (v) { return !variablesInUse[v.name]; }).length) {\n        modifiedDoc = removeArgumentsFromDocument(variablesToRemove, modifiedDoc);\n    }\n    if (modifiedDoc &&\n        filterInPlace(fragmentSpreadsToRemove, function (fs) { return !fragmentSpreadsInUse[fs.name]; })\n            .length) {\n        modifiedDoc = removeFragmentSpreadFromDocument(fragmentSpreadsToRemove, modifiedDoc);\n    }\n    return modifiedDoc;\n}\nfunction addTypenameToDocument(doc) {\n    return visit(checkDocument(doc), {\n        SelectionSet: {\n            enter: function (node, _key, parent) {\n                if (parent &&\n                    parent.kind === 'OperationDefinition') {\n                    return;\n                }\n                var selections = node.selections;\n                if (!selections) {\n                    return;\n                }\n                var skip = selections.some(function (selection) {\n                    return (isField(selection) &&\n                        (selection.name.value === '__typename' ||\n                            selection.name.value.lastIndexOf('__', 0) === 0));\n                });\n                if (skip) {\n                    return;\n                }\n                var field = parent;\n                if (isField(field) &&\n                    field.directives &&\n                    field.directives.some(function (d) { return d.name.value === 'export'; })) {\n                    return;\n                }\n                return __assign(__assign({}, node), { selections: __spreadArrays(selections, [TYPENAME_FIELD]) });\n            },\n        },\n    });\n}\nvar connectionRemoveConfig = {\n    test: function (directive) {\n        var willRemove = directive.name.value === 'connection';\n        if (willRemove) {\n            if (!directive.arguments ||\n                !directive.arguments.some(function (arg) { return arg.name.value === 'key'; })) {\n                process.env.NODE_ENV === \"production\" || invariant.warn('Removing an @connection directive even though it does not have a key. ' +\n                    'You may want to use the key parameter to specify a store key.');\n            }\n        }\n        return willRemove;\n    },\n};\nfunction removeConnectionDirectiveFromDocument(doc) {\n    return removeDirectivesFromDocument([connectionRemoveConfig], checkDocument(doc));\n}\nfunction hasDirectivesInSelectionSet(directives, selectionSet, nestedCheck) {\n    if (nestedCheck === void 0) { nestedCheck = true; }\n    return (selectionSet &&\n        selectionSet.selections &&\n        selectionSet.selections.some(function (selection) {\n            return hasDirectivesInSelection(directives, selection, nestedCheck);\n        }));\n}\nfunction hasDirectivesInSelection(directives, selection, nestedCheck) {\n    if (nestedCheck === void 0) { nestedCheck = true; }\n    if (!isField(selection)) {\n        return true;\n    }\n    if (!selection.directives) {\n        return false;\n    }\n    return (selection.directives.some(getDirectiveMatcher(directives)) ||\n        (nestedCheck &&\n            hasDirectivesInSelectionSet(directives, selection.selectionSet, nestedCheck)));\n}\nfunction getDirectivesFromDocument(directives, doc) {\n    checkDocument(doc);\n    var parentPath;\n    return nullIfDocIsEmpty(visit(doc, {\n        SelectionSet: {\n            enter: function (node, _key, _parent, path) {\n                var currentPath = path.join('-');\n                if (!parentPath ||\n                    currentPath === parentPath ||\n                    !currentPath.startsWith(parentPath)) {\n                    if (node.selections) {\n                        var selectionsWithDirectives = node.selections.filter(function (selection) { return hasDirectivesInSelection(directives, selection); });\n                        if (hasDirectivesInSelectionSet(directives, node, false)) {\n                            parentPath = currentPath;\n                        }\n                        return __assign(__assign({}, node), { selections: selectionsWithDirectives });\n                    }\n                    else {\n                        return null;\n                    }\n                }\n            },\n        },\n    }));\n}\nfunction getArgumentMatcher(config) {\n    return function argumentMatcher(argument) {\n        return config.some(function (aConfig) {\n            return argument.value &&\n                argument.value.kind === 'Variable' &&\n                argument.value.name &&\n                (aConfig.name === argument.value.name.value ||\n                    (aConfig.test && aConfig.test(argument)));\n        });\n    };\n}\nfunction removeArgumentsFromDocument(config, doc) {\n    var argMatcher = getArgumentMatcher(config);\n    return nullIfDocIsEmpty(visit(doc, {\n        OperationDefinition: {\n            enter: function (node) {\n                return __assign(__assign({}, node), { variableDefinitions: node.variableDefinitions.filter(function (varDef) {\n                        return !config.some(function (arg) { return arg.name === varDef.variable.name.value; });\n                    }) });\n            },\n        },\n        Field: {\n            enter: function (node) {\n                var shouldRemoveField = config.some(function (argConfig) { return argConfig.remove; });\n                if (shouldRemoveField) {\n                    var argMatchCount_1 = 0;\n                    node.arguments.forEach(function (arg) {\n                        if (argMatcher(arg)) {\n                            argMatchCount_1 += 1;\n                        }\n                    });\n                    if (argMatchCount_1 === 1) {\n                        return null;\n                    }\n                }\n            },\n        },\n        Argument: {\n            enter: function (node) {\n                if (argMatcher(node)) {\n                    return null;\n                }\n            },\n        },\n    }));\n}\nfunction removeFragmentSpreadFromDocument(config, doc) {\n    function enter(node) {\n        if (config.some(function (def) { return def.name === node.name.value; })) {\n            return null;\n        }\n    }\n    return nullIfDocIsEmpty(visit(doc, {\n        FragmentSpread: { enter: enter },\n        FragmentDefinition: { enter: enter },\n    }));\n}\nfunction getAllFragmentSpreadsFromSelectionSet(selectionSet) {\n    var allFragments = [];\n    selectionSet.selections.forEach(function (selection) {\n        if ((isField(selection) || isInlineFragment(selection)) &&\n            selection.selectionSet) {\n            getAllFragmentSpreadsFromSelectionSet(selection.selectionSet).forEach(function (frag) { return allFragments.push(frag); });\n        }\n        else if (selection.kind === 'FragmentSpread') {\n            allFragments.push(selection);\n        }\n    });\n    return allFragments;\n}\nfunction buildQueryFromSelectionSet(document) {\n    var definition = getMainDefinition(document);\n    var definitionOperation = definition.operation;\n    if (definitionOperation === 'query') {\n        return document;\n    }\n    var modifiedDoc = visit(document, {\n        OperationDefinition: {\n            enter: function (node) {\n                return __assign(__assign({}, node), { operation: 'query' });\n            },\n        },\n    });\n    return modifiedDoc;\n}\nfunction removeClientSetsFromDocument(document) {\n    checkDocument(document);\n    var modifiedDoc = removeDirectivesFromDocument([\n        {\n            test: function (directive) { return directive.name.value === 'client'; },\n            remove: true,\n        },\n    ], document);\n    if (modifiedDoc) {\n        modifiedDoc = visit(modifiedDoc, {\n            FragmentDefinition: {\n                enter: function (node) {\n                    if (node.selectionSet) {\n                        var isTypenameOnly = node.selectionSet.selections.every(function (selection) {\n                            return isField(selection) && selection.name.value === '__typename';\n                        });\n                        if (isTypenameOnly) {\n                            return null;\n                        }\n                    }\n                },\n            },\n        });\n    }\n    return modifiedDoc;\n}\n\nvar canUseWeakMap = typeof WeakMap === 'function' && !(typeof navigator === 'object' &&\n    navigator.product === 'ReactNative');\n\nvar toString = Object.prototype.toString;\nfunction cloneDeep(value) {\n    return cloneDeepHelper(value, new Map());\n}\nfunction cloneDeepHelper(val, seen) {\n    switch (toString.call(val)) {\n        case \"[object Array]\": {\n            if (seen.has(val))\n                return seen.get(val);\n            var copy_1 = val.slice(0);\n            seen.set(val, copy_1);\n            copy_1.forEach(function (child, i) {\n                copy_1[i] = cloneDeepHelper(child, seen);\n            });\n            return copy_1;\n        }\n        case \"[object Object]\": {\n            if (seen.has(val))\n                return seen.get(val);\n            var copy_2 = Object.create(Object.getPrototypeOf(val));\n            seen.set(val, copy_2);\n            Object.keys(val).forEach(function (key) {\n                copy_2[key] = cloneDeepHelper(val[key], seen);\n            });\n            return copy_2;\n        }\n        default:\n            return val;\n    }\n}\n\nfunction getEnv() {\n    if (typeof process !== 'undefined' && process.env.NODE_ENV) {\n        return process.env.NODE_ENV;\n    }\n    return 'development';\n}\nfunction isEnv(env) {\n    return getEnv() === env;\n}\nfunction isProduction() {\n    return isEnv('production') === true;\n}\nfunction isDevelopment() {\n    return isEnv('development') === true;\n}\nfunction isTest() {\n    return isEnv('test') === true;\n}\n\nfunction tryFunctionOrLogError(f) {\n    try {\n        return f();\n    }\n    catch (e) {\n        if (console.error) {\n            console.error(e);\n        }\n    }\n}\nfunction graphQLResultHasError(result) {\n    return result.errors && result.errors.length;\n}\n\nfunction deepFreeze(o) {\n    Object.freeze(o);\n    Object.getOwnPropertyNames(o).forEach(function (prop) {\n        if (o[prop] !== null &&\n            (typeof o[prop] === 'object' || typeof o[prop] === 'function') &&\n            !Object.isFrozen(o[prop])) {\n            deepFreeze(o[prop]);\n        }\n    });\n    return o;\n}\nfunction maybeDeepFreeze(obj) {\n    if (isDevelopment() || isTest()) {\n        var symbolIsPolyfilled = typeof Symbol === 'function' && typeof Symbol('') === 'string';\n        if (!symbolIsPolyfilled) {\n            return deepFreeze(obj);\n        }\n    }\n    return obj;\n}\n\nvar hasOwnProperty = Object.prototype.hasOwnProperty;\nfunction mergeDeep() {\n    var sources = [];\n    for (var _i = 0; _i < arguments.length; _i++) {\n        sources[_i] = arguments[_i];\n    }\n    return mergeDeepArray(sources);\n}\nfunction mergeDeepArray(sources) {\n    var target = sources[0] || {};\n    var count = sources.length;\n    if (count > 1) {\n        var pastCopies = [];\n        target = shallowCopyForMerge(target, pastCopies);\n        for (var i = 1; i < count; ++i) {\n            target = mergeHelper(target, sources[i], pastCopies);\n        }\n    }\n    return target;\n}\nfunction isObject(obj) {\n    return obj !== null && typeof obj === 'object';\n}\nfunction mergeHelper(target, source, pastCopies) {\n    if (isObject(source) && isObject(target)) {\n        if (Object.isExtensible && !Object.isExtensible(target)) {\n            target = shallowCopyForMerge(target, pastCopies);\n        }\n        Object.keys(source).forEach(function (sourceKey) {\n            var sourceValue = source[sourceKey];\n            if (hasOwnProperty.call(target, sourceKey)) {\n                var targetValue = target[sourceKey];\n                if (sourceValue !== targetValue) {\n                    target[sourceKey] = mergeHelper(shallowCopyForMerge(targetValue, pastCopies), sourceValue, pastCopies);\n                }\n            }\n            else {\n                target[sourceKey] = sourceValue;\n            }\n        });\n        return target;\n    }\n    return source;\n}\nfunction shallowCopyForMerge(value, pastCopies) {\n    if (value !== null &&\n        typeof value === 'object' &&\n        pastCopies.indexOf(value) < 0) {\n        if (Array.isArray(value)) {\n            value = value.slice(0);\n        }\n        else {\n            value = __assign({ __proto__: Object.getPrototypeOf(value) }, value);\n        }\n        pastCopies.push(value);\n    }\n    return value;\n}\n\nvar haveWarned = Object.create({});\nfunction warnOnceInDevelopment(msg, type) {\n    if (type === void 0) { type = 'warn'; }\n    if (!isProduction() && !haveWarned[msg]) {\n        if (!isTest()) {\n            haveWarned[msg] = true;\n        }\n        if (type === 'error') {\n            console.error(msg);\n        }\n        else {\n            console.warn(msg);\n        }\n    }\n}\n\nfunction stripSymbols(data) {\n    return JSON.parse(JSON.stringify(data));\n}\n\nexport { addTypenameToDocument, argumentsObjectFromField, assign, buildQueryFromSelectionSet, canUseWeakMap, checkDocument, cloneDeep, createFragmentMap, getDefaultValues, getDirectiveInfoFromField, getDirectiveNames, getDirectivesFromDocument, getEnv, getFragmentDefinition, getFragmentDefinitions, getFragmentQueryDocument, getInclusionDirectives, getMainDefinition, getMutationDefinition, getOperationDefinition, getOperationDefinitionOrDie, getOperationName, getQueryDefinition, getStoreKeyName, graphQLResultHasError, hasClientExports, hasDirectives, isDevelopment, isEnv, isField, isIdValue, isInlineFragment, isJsonValue, isNumberValue, isProduction, isScalarValue, isTest, maybeDeepFreeze, mergeDeep, mergeDeepArray, removeArgumentsFromDocument, removeClientSetsFromDocument, removeConnectionDirectiveFromDocument, removeDirectivesFromDocument, removeFragmentSpreadFromDocument, resultKeyNameFromField, shouldInclude, storeKeyNameFromField, stripSymbols, toIdValue, tryFunctionOrLogError, valueFromNode, valueToObjectRepresentation, variablesInOperation, warnOnceInDevelopment };\n//# sourceMappingURL=bundle.esm.js.map\n","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.Observable = void 0;\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\n// === Symbol Support ===\nvar hasSymbols = function () {\n  return typeof Symbol === 'function';\n};\n\nvar hasSymbol = function (name) {\n  return hasSymbols() && Boolean(Symbol[name]);\n};\n\nvar getSymbol = function (name) {\n  return hasSymbol(name) ? Symbol[name] : '@@' + name;\n};\n\nif (hasSymbols() && !hasSymbol('observable')) {\n  Symbol.observable = Symbol('observable');\n}\n\nvar SymbolIterator = getSymbol('iterator');\nvar SymbolObservable = getSymbol('observable');\nvar SymbolSpecies = getSymbol('species'); // === Abstract Operations ===\n\nfunction getMethod(obj, key) {\n  var value = obj[key];\n  if (value == null) return undefined;\n  if (typeof value !== 'function') throw new TypeError(value + ' is not a function');\n  return value;\n}\n\nfunction getSpecies(obj) {\n  var ctor = obj.constructor;\n\n  if (ctor !== undefined) {\n    ctor = ctor[SymbolSpecies];\n\n    if (ctor === null) {\n      ctor = undefined;\n    }\n  }\n\n  return ctor !== undefined ? ctor : Observable;\n}\n\nfunction isObservable(x) {\n  return x instanceof Observable; // SPEC: Brand check\n}\n\nfunction hostReportError(e) {\n  if (hostReportError.log) {\n    hostReportError.log(e);\n  } else {\n    setTimeout(function () {\n      throw e;\n    });\n  }\n}\n\nfunction enqueue(fn) {\n  Promise.resolve().then(function () {\n    try {\n      fn();\n    } catch (e) {\n      hostReportError(e);\n    }\n  });\n}\n\nfunction cleanupSubscription(subscription) {\n  var cleanup = subscription._cleanup;\n  if (cleanup === undefined) return;\n  subscription._cleanup = undefined;\n\n  if (!cleanup) {\n    return;\n  }\n\n  try {\n    if (typeof cleanup === 'function') {\n      cleanup();\n    } else {\n      var unsubscribe = getMethod(cleanup, 'unsubscribe');\n\n      if (unsubscribe) {\n        unsubscribe.call(cleanup);\n      }\n    }\n  } catch (e) {\n    hostReportError(e);\n  }\n}\n\nfunction closeSubscription(subscription) {\n  subscription._observer = undefined;\n  subscription._queue = undefined;\n  subscription._state = 'closed';\n}\n\nfunction flushSubscription(subscription) {\n  var queue = subscription._queue;\n\n  if (!queue) {\n    return;\n  }\n\n  subscription._queue = undefined;\n  subscription._state = 'ready';\n\n  for (var i = 0; i < queue.length; ++i) {\n    notifySubscription(subscription, queue[i].type, queue[i].value);\n    if (subscription._state === 'closed') break;\n  }\n}\n\nfunction notifySubscription(subscription, type, value) {\n  subscription._state = 'running';\n  var observer = subscription._observer;\n\n  try {\n    var m = getMethod(observer, type);\n\n    switch (type) {\n      case 'next':\n        if (m) m.call(observer, value);\n        break;\n\n      case 'error':\n        closeSubscription(subscription);\n        if (m) m.call(observer, value);else throw value;\n        break;\n\n      case 'complete':\n        closeSubscription(subscription);\n        if (m) m.call(observer);\n        break;\n    }\n  } catch (e) {\n    hostReportError(e);\n  }\n\n  if (subscription._state === 'closed') cleanupSubscription(subscription);else if (subscription._state === 'running') subscription._state = 'ready';\n}\n\nfunction onNotify(subscription, type, value) {\n  if (subscription._state === 'closed') return;\n\n  if (subscription._state === 'buffering') {\n    subscription._queue.push({\n      type: type,\n      value: value\n    });\n\n    return;\n  }\n\n  if (subscription._state !== 'ready') {\n    subscription._state = 'buffering';\n    subscription._queue = [{\n      type: type,\n      value: value\n    }];\n    enqueue(function () {\n      return flushSubscription(subscription);\n    });\n    return;\n  }\n\n  notifySubscription(subscription, type, value);\n}\n\nvar Subscription =\n/*#__PURE__*/\nfunction () {\n  function Subscription(observer, subscriber) {\n    _classCallCheck(this, Subscription);\n\n    // ASSERT: observer is an object\n    // ASSERT: subscriber is callable\n    this._cleanup = undefined;\n    this._observer = observer;\n    this._queue = undefined;\n    this._state = 'initializing';\n    var subscriptionObserver = new SubscriptionObserver(this);\n\n    try {\n      this._cleanup = subscriber.call(undefined, subscriptionObserver);\n    } catch (e) {\n      subscriptionObserver.error(e);\n    }\n\n    if (this._state === 'initializing') this._state = 'ready';\n  }\n\n  _createClass(Subscription, [{\n    key: \"unsubscribe\",\n    value: function unsubscribe() {\n      if (this._state !== 'closed') {\n        closeSubscription(this);\n        cleanupSubscription(this);\n      }\n    }\n  }, {\n    key: \"closed\",\n    get: function () {\n      return this._state === 'closed';\n    }\n  }]);\n\n  return Subscription;\n}();\n\nvar SubscriptionObserver =\n/*#__PURE__*/\nfunction () {\n  function SubscriptionObserver(subscription) {\n    _classCallCheck(this, SubscriptionObserver);\n\n    this._subscription = subscription;\n  }\n\n  _createClass(SubscriptionObserver, [{\n    key: \"next\",\n    value: function next(value) {\n      onNotify(this._subscription, 'next', value);\n    }\n  }, {\n    key: \"error\",\n    value: function error(value) {\n      onNotify(this._subscription, 'error', value);\n    }\n  }, {\n    key: \"complete\",\n    value: function complete() {\n      onNotify(this._subscription, 'complete');\n    }\n  }, {\n    key: \"closed\",\n    get: function () {\n      return this._subscription._state === 'closed';\n    }\n  }]);\n\n  return SubscriptionObserver;\n}();\n\nvar Observable =\n/*#__PURE__*/\nfunction () {\n  function Observable(subscriber) {\n    _classCallCheck(this, Observable);\n\n    if (!(this instanceof Observable)) throw new TypeError('Observable cannot be called as a function');\n    if (typeof subscriber !== 'function') throw new TypeError('Observable initializer must be a function');\n    this._subscriber = subscriber;\n  }\n\n  _createClass(Observable, [{\n    key: \"subscribe\",\n    value: function subscribe(observer) {\n      if (typeof observer !== 'object' || observer === null) {\n        observer = {\n          next: observer,\n          error: arguments[1],\n          complete: arguments[2]\n        };\n      }\n\n      return new Subscription(observer, this._subscriber);\n    }\n  }, {\n    key: \"forEach\",\n    value: function forEach(fn) {\n      var _this = this;\n\n      return new Promise(function (resolve, reject) {\n        if (typeof fn !== 'function') {\n          reject(new TypeError(fn + ' is not a function'));\n          return;\n        }\n\n        function done() {\n          subscription.unsubscribe();\n          resolve();\n        }\n\n        var subscription = _this.subscribe({\n          next: function (value) {\n            try {\n              fn(value, done);\n            } catch (e) {\n              reject(e);\n              subscription.unsubscribe();\n            }\n          },\n          error: reject,\n          complete: resolve\n        });\n      });\n    }\n  }, {\n    key: \"map\",\n    value: function map(fn) {\n      var _this2 = this;\n\n      if (typeof fn !== 'function') throw new TypeError(fn + ' is not a function');\n      var C = getSpecies(this);\n      return new C(function (observer) {\n        return _this2.subscribe({\n          next: function (value) {\n            try {\n              value = fn(value);\n            } catch (e) {\n              return observer.error(e);\n            }\n\n            observer.next(value);\n          },\n          error: function (e) {\n            observer.error(e);\n          },\n          complete: function () {\n            observer.complete();\n          }\n        });\n      });\n    }\n  }, {\n    key: \"filter\",\n    value: function filter(fn) {\n      var _this3 = this;\n\n      if (typeof fn !== 'function') throw new TypeError(fn + ' is not a function');\n      var C = getSpecies(this);\n      return new C(function (observer) {\n        return _this3.subscribe({\n          next: function (value) {\n            try {\n              if (!fn(value)) return;\n            } catch (e) {\n              return observer.error(e);\n            }\n\n            observer.next(value);\n          },\n          error: function (e) {\n            observer.error(e);\n          },\n          complete: function () {\n            observer.complete();\n          }\n        });\n      });\n    }\n  }, {\n    key: \"reduce\",\n    value: function reduce(fn) {\n      var _this4 = this;\n\n      if (typeof fn !== 'function') throw new TypeError(fn + ' is not a function');\n      var C = getSpecies(this);\n      var hasSeed = arguments.length > 1;\n      var hasValue = false;\n      var seed = arguments[1];\n      var acc = seed;\n      return new C(function (observer) {\n        return _this4.subscribe({\n          next: function (value) {\n            var first = !hasValue;\n            hasValue = true;\n\n            if (!first || hasSeed) {\n              try {\n                acc = fn(acc, value);\n              } catch (e) {\n                return observer.error(e);\n              }\n            } else {\n              acc = value;\n            }\n          },\n          error: function (e) {\n            observer.error(e);\n          },\n          complete: function () {\n            if (!hasValue && !hasSeed) return observer.error(new TypeError('Cannot reduce an empty sequence'));\n            observer.next(acc);\n            observer.complete();\n          }\n        });\n      });\n    }\n  }, {\n    key: \"concat\",\n    value: function concat() {\n      var _this5 = this;\n\n      for (var _len = arguments.length, sources = new Array(_len), _key = 0; _key < _len; _key++) {\n        sources[_key] = arguments[_key];\n      }\n\n      var C = getSpecies(this);\n      return new C(function (observer) {\n        var subscription;\n        var index = 0;\n\n        function startNext(next) {\n          subscription = next.subscribe({\n            next: function (v) {\n              observer.next(v);\n            },\n            error: function (e) {\n              observer.error(e);\n            },\n            complete: function () {\n              if (index === sources.length) {\n                subscription = undefined;\n                observer.complete();\n              } else {\n                startNext(C.from(sources[index++]));\n              }\n            }\n          });\n        }\n\n        startNext(_this5);\n        return function () {\n          if (subscription) {\n            subscription.unsubscribe();\n            subscription = undefined;\n          }\n        };\n      });\n    }\n  }, {\n    key: \"flatMap\",\n    value: function flatMap(fn) {\n      var _this6 = this;\n\n      if (typeof fn !== 'function') throw new TypeError(fn + ' is not a function');\n      var C = getSpecies(this);\n      return new C(function (observer) {\n        var subscriptions = [];\n\n        var outer = _this6.subscribe({\n          next: function (value) {\n            if (fn) {\n              try {\n                value = fn(value);\n              } catch (e) {\n                return observer.error(e);\n              }\n            }\n\n            var inner = C.from(value).subscribe({\n              next: function (value) {\n                observer.next(value);\n              },\n              error: function (e) {\n                observer.error(e);\n              },\n              complete: function () {\n                var i = subscriptions.indexOf(inner);\n                if (i >= 0) subscriptions.splice(i, 1);\n                completeIfDone();\n              }\n            });\n            subscriptions.push(inner);\n          },\n          error: function (e) {\n            observer.error(e);\n          },\n          complete: function () {\n            completeIfDone();\n          }\n        });\n\n        function completeIfDone() {\n          if (outer.closed && subscriptions.length === 0) observer.complete();\n        }\n\n        return function () {\n          subscriptions.forEach(function (s) {\n            return s.unsubscribe();\n          });\n          outer.unsubscribe();\n        };\n      });\n    }\n  }, {\n    key: SymbolObservable,\n    value: function () {\n      return this;\n    }\n  }], [{\n    key: \"from\",\n    value: function from(x) {\n      var C = typeof this === 'function' ? this : Observable;\n      if (x == null) throw new TypeError(x + ' is not an object');\n      var method = getMethod(x, SymbolObservable);\n\n      if (method) {\n        var observable = method.call(x);\n        if (Object(observable) !== observable) throw new TypeError(observable + ' is not an object');\n        if (isObservable(observable) && observable.constructor === C) return observable;\n        return new C(function (observer) {\n          return observable.subscribe(observer);\n        });\n      }\n\n      if (hasSymbol('iterator')) {\n        method = getMethod(x, SymbolIterator);\n\n        if (method) {\n          return new C(function (observer) {\n            enqueue(function () {\n              if (observer.closed) return;\n              var _iteratorNormalCompletion = true;\n              var _didIteratorError = false;\n              var _iteratorError = undefined;\n\n              try {\n                for (var _iterator = method.call(x)[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n                  var _item = _step.value;\n                  observer.next(_item);\n                  if (observer.closed) return;\n                }\n              } catch (err) {\n                _didIteratorError = true;\n                _iteratorError = err;\n              } finally {\n                try {\n                  if (!_iteratorNormalCompletion && _iterator.return != null) {\n                    _iterator.return();\n                  }\n                } finally {\n                  if (_didIteratorError) {\n                    throw _iteratorError;\n                  }\n                }\n              }\n\n              observer.complete();\n            });\n          });\n        }\n      }\n\n      if (Array.isArray(x)) {\n        return new C(function (observer) {\n          enqueue(function () {\n            if (observer.closed) return;\n\n            for (var i = 0; i < x.length; ++i) {\n              observer.next(x[i]);\n              if (observer.closed) return;\n            }\n\n            observer.complete();\n          });\n        });\n      }\n\n      throw new TypeError(x + ' is not observable');\n    }\n  }, {\n    key: \"of\",\n    value: function of() {\n      for (var _len2 = arguments.length, items = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n        items[_key2] = arguments[_key2];\n      }\n\n      var C = typeof this === 'function' ? this : Observable;\n      return new C(function (observer) {\n        enqueue(function () {\n          if (observer.closed) return;\n\n          for (var i = 0; i < items.length; ++i) {\n            observer.next(items[i]);\n            if (observer.closed) return;\n          }\n\n          observer.complete();\n        });\n      });\n    }\n  }, {\n    key: SymbolSpecies,\n    get: function () {\n      return this;\n    }\n  }]);\n\n  return Observable;\n}();\n\nexports.Observable = Observable;\n\nif (hasSymbols()) {\n  Object.defineProperty(Observable, Symbol('extensions'), {\n    value: {\n      symbol: SymbolObservable,\n      hostReportError: hostReportError\n    },\n    configurable: true\n  });\n}","import zenObservable from 'zen-observable';\n\nvar Observable = zenObservable;\n\nexport default Observable;\nexport { Observable };\n//# sourceMappingURL=bundle.esm.js.map\n","module.exports = require('./lib/Observable.js').Observable;\n","import Observable from 'zen-observable-ts';\nexport { default as Observable } from 'zen-observable-ts';\nimport { invariant, InvariantError } from 'ts-invariant';\nimport { __extends, __assign } from 'tslib';\nimport { getOperationName } from 'apollo-utilities';\nexport { getOperationName } from 'apollo-utilities';\n\nfunction validateOperation(operation) {\n    var OPERATION_FIELDS = [\n        'query',\n        'operationName',\n        'variables',\n        'extensions',\n        'context',\n    ];\n    for (var _i = 0, _a = Object.keys(operation); _i < _a.length; _i++) {\n        var key = _a[_i];\n        if (OPERATION_FIELDS.indexOf(key) < 0) {\n            throw process.env.NODE_ENV === \"production\" ? new InvariantError(2) : new InvariantError(\"illegal argument: \" + key);\n        }\n    }\n    return operation;\n}\nvar LinkError = (function (_super) {\n    __extends(LinkError, _super);\n    function LinkError(message, link) {\n        var _this = _super.call(this, message) || this;\n        _this.link = link;\n        return _this;\n    }\n    return LinkError;\n}(Error));\nfunction isTerminating(link) {\n    return link.request.length <= 1;\n}\nfunction toPromise(observable) {\n    var completed = false;\n    return new Promise(function (resolve, reject) {\n        observable.subscribe({\n            next: function (data) {\n                if (completed) {\n                    process.env.NODE_ENV === \"production\" || invariant.warn(\"Promise Wrapper does not support multiple results from Observable\");\n                }\n                else {\n                    completed = true;\n                    resolve(data);\n                }\n            },\n            error: reject,\n        });\n    });\n}\nvar makePromise = toPromise;\nfunction fromPromise(promise) {\n    return new Observable(function (observer) {\n        promise\n            .then(function (value) {\n            observer.next(value);\n            observer.complete();\n        })\n            .catch(observer.error.bind(observer));\n    });\n}\nfunction fromError(errorValue) {\n    return new Observable(function (observer) {\n        observer.error(errorValue);\n    });\n}\nfunction transformOperation(operation) {\n    var transformedOperation = {\n        variables: operation.variables || {},\n        extensions: operation.extensions || {},\n        operationName: operation.operationName,\n        query: operation.query,\n    };\n    if (!transformedOperation.operationName) {\n        transformedOperation.operationName =\n            typeof transformedOperation.query !== 'string'\n                ? getOperationName(transformedOperation.query)\n                : '';\n    }\n    return transformedOperation;\n}\nfunction createOperation(starting, operation) {\n    var context = __assign({}, starting);\n    var setContext = function (next) {\n        if (typeof next === 'function') {\n            context = __assign({}, context, next(context));\n        }\n        else {\n            context = __assign({}, context, next);\n        }\n    };\n    var getContext = function () { return (__assign({}, context)); };\n    Object.defineProperty(operation, 'setContext', {\n        enumerable: false,\n        value: setContext,\n    });\n    Object.defineProperty(operation, 'getContext', {\n        enumerable: false,\n        value: getContext,\n    });\n    Object.defineProperty(operation, 'toKey', {\n        enumerable: false,\n        value: function () { return getKey(operation); },\n    });\n    return operation;\n}\nfunction getKey(operation) {\n    var query = operation.query, variables = operation.variables, operationName = operation.operationName;\n    return JSON.stringify([operationName, query, variables]);\n}\n\nfunction passthrough(op, forward) {\n    return forward ? forward(op) : Observable.of();\n}\nfunction toLink(handler) {\n    return typeof handler === 'function' ? new ApolloLink(handler) : handler;\n}\nfunction empty() {\n    return new ApolloLink(function () { return Observable.of(); });\n}\nfunction from(links) {\n    if (links.length === 0)\n        return empty();\n    return links.map(toLink).reduce(function (x, y) { return x.concat(y); });\n}\nfunction split(test, left, right) {\n    var leftLink = toLink(left);\n    var rightLink = toLink(right || new ApolloLink(passthrough));\n    if (isTerminating(leftLink) && isTerminating(rightLink)) {\n        return new ApolloLink(function (operation) {\n            return test(operation)\n                ? leftLink.request(operation) || Observable.of()\n                : rightLink.request(operation) || Observable.of();\n        });\n    }\n    else {\n        return new ApolloLink(function (operation, forward) {\n            return test(operation)\n                ? leftLink.request(operation, forward) || Observable.of()\n                : rightLink.request(operation, forward) || Observable.of();\n        });\n    }\n}\nvar concat = function (first, second) {\n    var firstLink = toLink(first);\n    if (isTerminating(firstLink)) {\n        process.env.NODE_ENV === \"production\" || invariant.warn(new LinkError(\"You are calling concat on a terminating link, which will have no effect\", firstLink));\n        return firstLink;\n    }\n    var nextLink = toLink(second);\n    if (isTerminating(nextLink)) {\n        return new ApolloLink(function (operation) {\n            return firstLink.request(operation, function (op) { return nextLink.request(op) || Observable.of(); }) || Observable.of();\n        });\n    }\n    else {\n        return new ApolloLink(function (operation, forward) {\n            return (firstLink.request(operation, function (op) {\n                return nextLink.request(op, forward) || Observable.of();\n            }) || Observable.of());\n        });\n    }\n};\nvar ApolloLink = (function () {\n    function ApolloLink(request) {\n        if (request)\n            this.request = request;\n    }\n    ApolloLink.prototype.split = function (test, left, right) {\n        return this.concat(split(test, left, right || new ApolloLink(passthrough)));\n    };\n    ApolloLink.prototype.concat = function (next) {\n        return concat(this, next);\n    };\n    ApolloLink.prototype.request = function (operation, forward) {\n        throw process.env.NODE_ENV === \"production\" ? new InvariantError(1) : new InvariantError('request is not implemented');\n    };\n    ApolloLink.empty = empty;\n    ApolloLink.from = from;\n    ApolloLink.split = split;\n    ApolloLink.execute = execute;\n    return ApolloLink;\n}());\nfunction execute(link, operation) {\n    return (link.request(createOperation(operation.context, transformOperation(validateOperation(operation)))) || Observable.of());\n}\n\nexport { ApolloLink, concat, createOperation, empty, execute, from, fromError, fromPromise, makePromise, split, toPromise };\n//# sourceMappingURL=bundle.esm.js.map\n","/* global window */\nimport ponyfill from './ponyfill.js';\n\nvar root;\n\nif (typeof self !== 'undefined') {\n  root = self;\n} else if (typeof window !== 'undefined') {\n  root = window;\n} else if (typeof global !== 'undefined') {\n  root = global;\n} else if (typeof module !== 'undefined') {\n  root = module;\n} else {\n  root = Function('return this')();\n}\n\nvar result = ponyfill(root);\nexport default result;\n","import { __extends, __assign, __awaiter, __generator } from 'tslib';\nimport { getOperationDefinition, isEqual, tryFunctionOrLogError, cloneDeep, mergeDeep, hasDirectives, removeClientSetsFromDocument, buildQueryFromSelectionSet, getMainDefinition, getFragmentDefinitions, createFragmentMap, mergeDeepArray, resultKeyNameFromField, argumentsObjectFromField, shouldInclude, isField, isInlineFragment, canUseWeakMap, graphQLResultHasError, removeConnectionDirectiveFromDocument, hasClientExports, getDefaultValues, getOperationName } from 'apollo-utilities';\nimport { Observable as Observable$1, execute, ApolloLink } from 'apollo-link';\nimport $$observable from 'symbol-observable';\nimport { InvariantError, invariant } from 'ts-invariant';\nimport { visit, BREAK } from 'graphql/language/visitor';\n\nvar NetworkStatus;\n(function (NetworkStatus) {\n    NetworkStatus[NetworkStatus[\"loading\"] = 1] = \"loading\";\n    NetworkStatus[NetworkStatus[\"setVariables\"] = 2] = \"setVariables\";\n    NetworkStatus[NetworkStatus[\"fetchMore\"] = 3] = \"fetchMore\";\n    NetworkStatus[NetworkStatus[\"refetch\"] = 4] = \"refetch\";\n    NetworkStatus[NetworkStatus[\"poll\"] = 6] = \"poll\";\n    NetworkStatus[NetworkStatus[\"ready\"] = 7] = \"ready\";\n    NetworkStatus[NetworkStatus[\"error\"] = 8] = \"error\";\n})(NetworkStatus || (NetworkStatus = {}));\nfunction isNetworkRequestInFlight(networkStatus) {\n    return networkStatus < 7;\n}\n\nvar Observable = (function (_super) {\n    __extends(Observable, _super);\n    function Observable() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    Observable.prototype[$$observable] = function () {\n        return this;\n    };\n    Observable.prototype['@@observable'] = function () {\n        return this;\n    };\n    return Observable;\n}(Observable$1));\n\nfunction isNonEmptyArray(value) {\n    return Array.isArray(value) && value.length > 0;\n}\n\nfunction isApolloError(err) {\n    return err.hasOwnProperty('graphQLErrors');\n}\nvar generateErrorMessage = function (err) {\n    var message = '';\n    if (isNonEmptyArray(err.graphQLErrors)) {\n        err.graphQLErrors.forEach(function (graphQLError) {\n            var errorMessage = graphQLError\n                ? graphQLError.message\n                : 'Error message not found.';\n            message += \"GraphQL error: \" + errorMessage + \"\\n\";\n        });\n    }\n    if (err.networkError) {\n        message += 'Network error: ' + err.networkError.message + '\\n';\n    }\n    message = message.replace(/\\n$/, '');\n    return message;\n};\nvar ApolloError = (function (_super) {\n    __extends(ApolloError, _super);\n    function ApolloError(_a) {\n        var graphQLErrors = _a.graphQLErrors, networkError = _a.networkError, errorMessage = _a.errorMessage, extraInfo = _a.extraInfo;\n        var _this = _super.call(this, errorMessage) || this;\n        _this.graphQLErrors = graphQLErrors || [];\n        _this.networkError = networkError || null;\n        if (!errorMessage) {\n            _this.message = generateErrorMessage(_this);\n        }\n        else {\n            _this.message = errorMessage;\n        }\n        _this.extraInfo = extraInfo;\n        _this.__proto__ = ApolloError.prototype;\n        return _this;\n    }\n    return ApolloError;\n}(Error));\n\nvar FetchType;\n(function (FetchType) {\n    FetchType[FetchType[\"normal\"] = 1] = \"normal\";\n    FetchType[FetchType[\"refetch\"] = 2] = \"refetch\";\n    FetchType[FetchType[\"poll\"] = 3] = \"poll\";\n})(FetchType || (FetchType = {}));\n\nvar hasError = function (storeValue, policy) {\n    if (policy === void 0) { policy = 'none'; }\n    return storeValue && (storeValue.networkError ||\n        (policy === 'none' && isNonEmptyArray(storeValue.graphQLErrors)));\n};\nvar ObservableQuery = (function (_super) {\n    __extends(ObservableQuery, _super);\n    function ObservableQuery(_a) {\n        var queryManager = _a.queryManager, options = _a.options, _b = _a.shouldSubscribe, shouldSubscribe = _b === void 0 ? true : _b;\n        var _this = _super.call(this, function (observer) {\n            return _this.onSubscribe(observer);\n        }) || this;\n        _this.observers = new Set();\n        _this.subscriptions = new Set();\n        _this.isTornDown = false;\n        _this.options = options;\n        _this.variables = options.variables || {};\n        _this.queryId = queryManager.generateQueryId();\n        _this.shouldSubscribe = shouldSubscribe;\n        var opDef = getOperationDefinition(options.query);\n        _this.queryName = opDef && opDef.name && opDef.name.value;\n        _this.queryManager = queryManager;\n        return _this;\n    }\n    ObservableQuery.prototype.result = function () {\n        var _this = this;\n        return new Promise(function (resolve, reject) {\n            var observer = {\n                next: function (result) {\n                    resolve(result);\n                    _this.observers.delete(observer);\n                    if (!_this.observers.size) {\n                        _this.queryManager.removeQuery(_this.queryId);\n                    }\n                    setTimeout(function () {\n                        subscription.unsubscribe();\n                    }, 0);\n                },\n                error: reject,\n            };\n            var subscription = _this.subscribe(observer);\n        });\n    };\n    ObservableQuery.prototype.currentResult = function () {\n        var result = this.getCurrentResult();\n        if (result.data === undefined) {\n            result.data = {};\n        }\n        return result;\n    };\n    ObservableQuery.prototype.getCurrentResult = function () {\n        if (this.isTornDown) {\n            var lastResult = this.lastResult;\n            return {\n                data: !this.lastError && lastResult && lastResult.data || void 0,\n                error: this.lastError,\n                loading: false,\n                networkStatus: NetworkStatus.error,\n            };\n        }\n        var _a = this.queryManager.getCurrentQueryResult(this), data = _a.data, partial = _a.partial;\n        var queryStoreValue = this.queryManager.queryStore.get(this.queryId);\n        var result;\n        var fetchPolicy = this.options.fetchPolicy;\n        var isNetworkFetchPolicy = fetchPolicy === 'network-only' ||\n            fetchPolicy === 'no-cache';\n        if (queryStoreValue) {\n            var networkStatus = queryStoreValue.networkStatus;\n            if (hasError(queryStoreValue, this.options.errorPolicy)) {\n                return {\n                    data: void 0,\n                    loading: false,\n                    networkStatus: networkStatus,\n                    error: new ApolloError({\n                        graphQLErrors: queryStoreValue.graphQLErrors,\n                        networkError: queryStoreValue.networkError,\n                    }),\n                };\n            }\n            if (queryStoreValue.variables) {\n                this.options.variables = __assign(__assign({}, this.options.variables), queryStoreValue.variables);\n                this.variables = this.options.variables;\n            }\n            result = {\n                data: data,\n                loading: isNetworkRequestInFlight(networkStatus),\n                networkStatus: networkStatus,\n            };\n            if (queryStoreValue.graphQLErrors && this.options.errorPolicy === 'all') {\n                result.errors = queryStoreValue.graphQLErrors;\n            }\n        }\n        else {\n            var loading = isNetworkFetchPolicy ||\n                (partial && fetchPolicy !== 'cache-only');\n            result = {\n                data: data,\n                loading: loading,\n                networkStatus: loading ? NetworkStatus.loading : NetworkStatus.ready,\n            };\n        }\n        if (!partial) {\n            this.updateLastResult(__assign(__assign({}, result), { stale: false }));\n        }\n        return __assign(__assign({}, result), { partial: partial });\n    };\n    ObservableQuery.prototype.isDifferentFromLastResult = function (newResult) {\n        var snapshot = this.lastResultSnapshot;\n        return !(snapshot &&\n            newResult &&\n            snapshot.networkStatus === newResult.networkStatus &&\n            snapshot.stale === newResult.stale &&\n            isEqual(snapshot.data, newResult.data));\n    };\n    ObservableQuery.prototype.getLastResult = function () {\n        return this.lastResult;\n    };\n    ObservableQuery.prototype.getLastError = function () {\n        return this.lastError;\n    };\n    ObservableQuery.prototype.resetLastResults = function () {\n        delete this.lastResult;\n        delete this.lastResultSnapshot;\n        delete this.lastError;\n        this.isTornDown = false;\n    };\n    ObservableQuery.prototype.resetQueryStoreErrors = function () {\n        var queryStore = this.queryManager.queryStore.get(this.queryId);\n        if (queryStore) {\n            queryStore.networkError = null;\n            queryStore.graphQLErrors = [];\n        }\n    };\n    ObservableQuery.prototype.refetch = function (variables) {\n        var fetchPolicy = this.options.fetchPolicy;\n        if (fetchPolicy === 'cache-only') {\n            return Promise.reject(process.env.NODE_ENV === \"production\" ? new InvariantError(3) : new InvariantError('cache-only fetchPolicy option should not be used together with query refetch.'));\n        }\n        if (fetchPolicy !== 'no-cache' &&\n            fetchPolicy !== 'cache-and-network') {\n            fetchPolicy = 'network-only';\n        }\n        if (!isEqual(this.variables, variables)) {\n            this.variables = __assign(__assign({}, this.variables), variables);\n        }\n        if (!isEqual(this.options.variables, this.variables)) {\n            this.options.variables = __assign(__assign({}, this.options.variables), this.variables);\n        }\n        return this.queryManager.fetchQuery(this.queryId, __assign(__assign({}, this.options), { fetchPolicy: fetchPolicy }), FetchType.refetch);\n    };\n    ObservableQuery.prototype.fetchMore = function (fetchMoreOptions) {\n        var _this = this;\n        process.env.NODE_ENV === \"production\" ? invariant(fetchMoreOptions.updateQuery, 4) : invariant(fetchMoreOptions.updateQuery, 'updateQuery option is required. This function defines how to update the query data with the new results.');\n        var combinedOptions = __assign(__assign({}, (fetchMoreOptions.query ? fetchMoreOptions : __assign(__assign(__assign({}, this.options), fetchMoreOptions), { variables: __assign(__assign({}, this.variables), fetchMoreOptions.variables) }))), { fetchPolicy: 'network-only' });\n        var qid = this.queryManager.generateQueryId();\n        return this.queryManager\n            .fetchQuery(qid, combinedOptions, FetchType.normal, this.queryId)\n            .then(function (fetchMoreResult) {\n            _this.updateQuery(function (previousResult) {\n                return fetchMoreOptions.updateQuery(previousResult, {\n                    fetchMoreResult: fetchMoreResult.data,\n                    variables: combinedOptions.variables,\n                });\n            });\n            _this.queryManager.stopQuery(qid);\n            return fetchMoreResult;\n        }, function (error) {\n            _this.queryManager.stopQuery(qid);\n            throw error;\n        });\n    };\n    ObservableQuery.prototype.subscribeToMore = function (options) {\n        var _this = this;\n        var subscription = this.queryManager\n            .startGraphQLSubscription({\n            query: options.document,\n            variables: options.variables,\n        })\n            .subscribe({\n            next: function (subscriptionData) {\n                var updateQuery = options.updateQuery;\n                if (updateQuery) {\n                    _this.updateQuery(function (previous, _a) {\n                        var variables = _a.variables;\n                        return updateQuery(previous, {\n                            subscriptionData: subscriptionData,\n                            variables: variables,\n                        });\n                    });\n                }\n            },\n            error: function (err) {\n                if (options.onError) {\n                    options.onError(err);\n                    return;\n                }\n                process.env.NODE_ENV === \"production\" || invariant.error('Unhandled GraphQL subscription error', err);\n            },\n        });\n        this.subscriptions.add(subscription);\n        return function () {\n            if (_this.subscriptions.delete(subscription)) {\n                subscription.unsubscribe();\n            }\n        };\n    };\n    ObservableQuery.prototype.setOptions = function (opts) {\n        var oldFetchPolicy = this.options.fetchPolicy;\n        this.options = __assign(__assign({}, this.options), opts);\n        if (opts.pollInterval) {\n            this.startPolling(opts.pollInterval);\n        }\n        else if (opts.pollInterval === 0) {\n            this.stopPolling();\n        }\n        var fetchPolicy = opts.fetchPolicy;\n        return this.setVariables(this.options.variables, oldFetchPolicy !== fetchPolicy && (oldFetchPolicy === 'cache-only' ||\n            oldFetchPolicy === 'standby' ||\n            fetchPolicy === 'network-only'), opts.fetchResults);\n    };\n    ObservableQuery.prototype.setVariables = function (variables, tryFetch, fetchResults) {\n        if (tryFetch === void 0) { tryFetch = false; }\n        if (fetchResults === void 0) { fetchResults = true; }\n        this.isTornDown = false;\n        variables = variables || this.variables;\n        if (!tryFetch && isEqual(variables, this.variables)) {\n            return this.observers.size && fetchResults\n                ? this.result()\n                : Promise.resolve();\n        }\n        this.variables = this.options.variables = variables;\n        if (!this.observers.size) {\n            return Promise.resolve();\n        }\n        return this.queryManager.fetchQuery(this.queryId, this.options);\n    };\n    ObservableQuery.prototype.updateQuery = function (mapFn) {\n        var queryManager = this.queryManager;\n        var _a = queryManager.getQueryWithPreviousResult(this.queryId), previousResult = _a.previousResult, variables = _a.variables, document = _a.document;\n        var newResult = tryFunctionOrLogError(function () {\n            return mapFn(previousResult, { variables: variables });\n        });\n        if (newResult) {\n            queryManager.dataStore.markUpdateQueryResult(document, variables, newResult);\n            queryManager.broadcastQueries();\n        }\n    };\n    ObservableQuery.prototype.stopPolling = function () {\n        this.queryManager.stopPollingQuery(this.queryId);\n        this.options.pollInterval = undefined;\n    };\n    ObservableQuery.prototype.startPolling = function (pollInterval) {\n        assertNotCacheFirstOrOnly(this);\n        this.options.pollInterval = pollInterval;\n        this.queryManager.startPollingQuery(this.options, this.queryId);\n    };\n    ObservableQuery.prototype.updateLastResult = function (newResult) {\n        var previousResult = this.lastResult;\n        this.lastResult = newResult;\n        this.lastResultSnapshot = this.queryManager.assumeImmutableResults\n            ? newResult\n            : cloneDeep(newResult);\n        return previousResult;\n    };\n    ObservableQuery.prototype.onSubscribe = function (observer) {\n        var _this = this;\n        try {\n            var subObserver = observer._subscription._observer;\n            if (subObserver && !subObserver.error) {\n                subObserver.error = defaultSubscriptionObserverErrorCallback;\n            }\n        }\n        catch (_a) { }\n        var first = !this.observers.size;\n        this.observers.add(observer);\n        if (observer.next && this.lastResult)\n            observer.next(this.lastResult);\n        if (observer.error && this.lastError)\n            observer.error(this.lastError);\n        if (first) {\n            this.setUpQuery();\n        }\n        return function () {\n            if (_this.observers.delete(observer) && !_this.observers.size) {\n                _this.tearDownQuery();\n            }\n        };\n    };\n    ObservableQuery.prototype.setUpQuery = function () {\n        var _this = this;\n        var _a = this, queryManager = _a.queryManager, queryId = _a.queryId;\n        if (this.shouldSubscribe) {\n            queryManager.addObservableQuery(queryId, this);\n        }\n        if (this.options.pollInterval) {\n            assertNotCacheFirstOrOnly(this);\n            queryManager.startPollingQuery(this.options, queryId);\n        }\n        var onError = function (error) {\n            _this.updateLastResult(__assign(__assign({}, _this.lastResult), { errors: error.graphQLErrors, networkStatus: NetworkStatus.error, loading: false }));\n            iterateObserversSafely(_this.observers, 'error', _this.lastError = error);\n        };\n        queryManager.observeQuery(queryId, this.options, {\n            next: function (result) {\n                if (_this.lastError || _this.isDifferentFromLastResult(result)) {\n                    var previousResult_1 = _this.updateLastResult(result);\n                    var _a = _this.options, query_1 = _a.query, variables = _a.variables, fetchPolicy_1 = _a.fetchPolicy;\n                    if (queryManager.transform(query_1).hasClientExports) {\n                        queryManager.getLocalState().addExportedVariables(query_1, variables).then(function (variables) {\n                            var previousVariables = _this.variables;\n                            _this.variables = _this.options.variables = variables;\n                            if (!result.loading &&\n                                previousResult_1 &&\n                                fetchPolicy_1 !== 'cache-only' &&\n                                queryManager.transform(query_1).serverQuery &&\n                                !isEqual(previousVariables, variables)) {\n                                _this.refetch();\n                            }\n                            else {\n                                iterateObserversSafely(_this.observers, 'next', result);\n                            }\n                        });\n                    }\n                    else {\n                        iterateObserversSafely(_this.observers, 'next', result);\n                    }\n                }\n            },\n            error: onError,\n        }).catch(onError);\n    };\n    ObservableQuery.prototype.tearDownQuery = function () {\n        var queryManager = this.queryManager;\n        this.isTornDown = true;\n        queryManager.stopPollingQuery(this.queryId);\n        this.subscriptions.forEach(function (sub) { return sub.unsubscribe(); });\n        this.subscriptions.clear();\n        queryManager.removeObservableQuery(this.queryId);\n        queryManager.stopQuery(this.queryId);\n        this.observers.clear();\n    };\n    return ObservableQuery;\n}(Observable));\nfunction defaultSubscriptionObserverErrorCallback(error) {\n    process.env.NODE_ENV === \"production\" || invariant.error('Unhandled error', error.message, error.stack);\n}\nfunction iterateObserversSafely(observers, method, argument) {\n    var observersWithMethod = [];\n    observers.forEach(function (obs) { return obs[method] && observersWithMethod.push(obs); });\n    observersWithMethod.forEach(function (obs) { return obs[method](argument); });\n}\nfunction assertNotCacheFirstOrOnly(obsQuery) {\n    var fetchPolicy = obsQuery.options.fetchPolicy;\n    process.env.NODE_ENV === \"production\" ? invariant(fetchPolicy !== 'cache-first' && fetchPolicy !== 'cache-only', 5) : invariant(fetchPolicy !== 'cache-first' && fetchPolicy !== 'cache-only', 'Queries that specify the cache-first and cache-only fetchPolicies cannot also be polling queries.');\n}\n\nvar MutationStore = (function () {\n    function MutationStore() {\n        this.store = {};\n    }\n    MutationStore.prototype.getStore = function () {\n        return this.store;\n    };\n    MutationStore.prototype.get = function (mutationId) {\n        return this.store[mutationId];\n    };\n    MutationStore.prototype.initMutation = function (mutationId, mutation, variables) {\n        this.store[mutationId] = {\n            mutation: mutation,\n            variables: variables || {},\n            loading: true,\n            error: null,\n        };\n    };\n    MutationStore.prototype.markMutationError = function (mutationId, error) {\n        var mutation = this.store[mutationId];\n        if (mutation) {\n            mutation.loading = false;\n            mutation.error = error;\n        }\n    };\n    MutationStore.prototype.markMutationResult = function (mutationId) {\n        var mutation = this.store[mutationId];\n        if (mutation) {\n            mutation.loading = false;\n            mutation.error = null;\n        }\n    };\n    MutationStore.prototype.reset = function () {\n        this.store = {};\n    };\n    return MutationStore;\n}());\n\nvar QueryStore = (function () {\n    function QueryStore() {\n        this.store = {};\n    }\n    QueryStore.prototype.getStore = function () {\n        return this.store;\n    };\n    QueryStore.prototype.get = function (queryId) {\n        return this.store[queryId];\n    };\n    QueryStore.prototype.initQuery = function (query) {\n        var previousQuery = this.store[query.queryId];\n        process.env.NODE_ENV === \"production\" ? invariant(!previousQuery ||\n            previousQuery.document === query.document ||\n            isEqual(previousQuery.document, query.document), 19) : invariant(!previousQuery ||\n            previousQuery.document === query.document ||\n            isEqual(previousQuery.document, query.document), 'Internal Error: may not update existing query string in store');\n        var isSetVariables = false;\n        var previousVariables = null;\n        if (query.storePreviousVariables &&\n            previousQuery &&\n            previousQuery.networkStatus !== NetworkStatus.loading) {\n            if (!isEqual(previousQuery.variables, query.variables)) {\n                isSetVariables = true;\n                previousVariables = previousQuery.variables;\n            }\n        }\n        var networkStatus;\n        if (isSetVariables) {\n            networkStatus = NetworkStatus.setVariables;\n        }\n        else if (query.isPoll) {\n            networkStatus = NetworkStatus.poll;\n        }\n        else if (query.isRefetch) {\n            networkStatus = NetworkStatus.refetch;\n        }\n        else {\n            networkStatus = NetworkStatus.loading;\n        }\n        var graphQLErrors = [];\n        if (previousQuery && previousQuery.graphQLErrors) {\n            graphQLErrors = previousQuery.graphQLErrors;\n        }\n        this.store[query.queryId] = {\n            document: query.document,\n            variables: query.variables,\n            previousVariables: previousVariables,\n            networkError: null,\n            graphQLErrors: graphQLErrors,\n            networkStatus: networkStatus,\n            metadata: query.metadata,\n        };\n        if (typeof query.fetchMoreForQueryId === 'string' &&\n            this.store[query.fetchMoreForQueryId]) {\n            this.store[query.fetchMoreForQueryId].networkStatus =\n                NetworkStatus.fetchMore;\n        }\n    };\n    QueryStore.prototype.markQueryResult = function (queryId, result, fetchMoreForQueryId) {\n        if (!this.store || !this.store[queryId])\n            return;\n        this.store[queryId].networkError = null;\n        this.store[queryId].graphQLErrors = isNonEmptyArray(result.errors) ? result.errors : [];\n        this.store[queryId].previousVariables = null;\n        this.store[queryId].networkStatus = NetworkStatus.ready;\n        if (typeof fetchMoreForQueryId === 'string' &&\n            this.store[fetchMoreForQueryId]) {\n            this.store[fetchMoreForQueryId].networkStatus = NetworkStatus.ready;\n        }\n    };\n    QueryStore.prototype.markQueryError = function (queryId, error, fetchMoreForQueryId) {\n        if (!this.store || !this.store[queryId])\n            return;\n        this.store[queryId].networkError = error;\n        this.store[queryId].networkStatus = NetworkStatus.error;\n        if (typeof fetchMoreForQueryId === 'string') {\n            this.markQueryResultClient(fetchMoreForQueryId, true);\n        }\n    };\n    QueryStore.prototype.markQueryResultClient = function (queryId, complete) {\n        var storeValue = this.store && this.store[queryId];\n        if (storeValue) {\n            storeValue.networkError = null;\n            storeValue.previousVariables = null;\n            if (complete) {\n                storeValue.networkStatus = NetworkStatus.ready;\n            }\n        }\n    };\n    QueryStore.prototype.stopQuery = function (queryId) {\n        delete this.store[queryId];\n    };\n    QueryStore.prototype.reset = function (observableQueryIds) {\n        var _this = this;\n        Object.keys(this.store).forEach(function (queryId) {\n            if (observableQueryIds.indexOf(queryId) < 0) {\n                _this.stopQuery(queryId);\n            }\n            else {\n                _this.store[queryId].networkStatus = NetworkStatus.loading;\n            }\n        });\n    };\n    return QueryStore;\n}());\n\nfunction capitalizeFirstLetter(str) {\n    return str.charAt(0).toUpperCase() + str.slice(1);\n}\n\nvar LocalState = (function () {\n    function LocalState(_a) {\n        var cache = _a.cache, client = _a.client, resolvers = _a.resolvers, fragmentMatcher = _a.fragmentMatcher;\n        this.cache = cache;\n        if (client) {\n            this.client = client;\n        }\n        if (resolvers) {\n            this.addResolvers(resolvers);\n        }\n        if (fragmentMatcher) {\n            this.setFragmentMatcher(fragmentMatcher);\n        }\n    }\n    LocalState.prototype.addResolvers = function (resolvers) {\n        var _this = this;\n        this.resolvers = this.resolvers || {};\n        if (Array.isArray(resolvers)) {\n            resolvers.forEach(function (resolverGroup) {\n                _this.resolvers = mergeDeep(_this.resolvers, resolverGroup);\n            });\n        }\n        else {\n            this.resolvers = mergeDeep(this.resolvers, resolvers);\n        }\n    };\n    LocalState.prototype.setResolvers = function (resolvers) {\n        this.resolvers = {};\n        this.addResolvers(resolvers);\n    };\n    LocalState.prototype.getResolvers = function () {\n        return this.resolvers || {};\n    };\n    LocalState.prototype.runResolvers = function (_a) {\n        var document = _a.document, remoteResult = _a.remoteResult, context = _a.context, variables = _a.variables, _b = _a.onlyRunForcedResolvers, onlyRunForcedResolvers = _b === void 0 ? false : _b;\n        return __awaiter(this, void 0, void 0, function () {\n            return __generator(this, function (_c) {\n                if (document) {\n                    return [2, this.resolveDocument(document, remoteResult.data, context, variables, this.fragmentMatcher, onlyRunForcedResolvers).then(function (localResult) { return (__assign(__assign({}, remoteResult), { data: localResult.result })); })];\n                }\n                return [2, remoteResult];\n            });\n        });\n    };\n    LocalState.prototype.setFragmentMatcher = function (fragmentMatcher) {\n        this.fragmentMatcher = fragmentMatcher;\n    };\n    LocalState.prototype.getFragmentMatcher = function () {\n        return this.fragmentMatcher;\n    };\n    LocalState.prototype.clientQuery = function (document) {\n        if (hasDirectives(['client'], document)) {\n            if (this.resolvers) {\n                return document;\n            }\n            process.env.NODE_ENV === \"production\" || invariant.warn('Found @client directives in a query but no ApolloClient resolvers ' +\n                'were specified. This means ApolloClient local resolver handling ' +\n                'has been disabled, and @client directives will be passed through ' +\n                'to your link chain.');\n        }\n        return null;\n    };\n    LocalState.prototype.serverQuery = function (document) {\n        return this.resolvers ? removeClientSetsFromDocument(document) : document;\n    };\n    LocalState.prototype.prepareContext = function (context) {\n        if (context === void 0) { context = {}; }\n        var cache = this.cache;\n        var newContext = __assign(__assign({}, context), { cache: cache, getCacheKey: function (obj) {\n                if (cache.config) {\n                    return cache.config.dataIdFromObject(obj);\n                }\n                else {\n                    process.env.NODE_ENV === \"production\" ? invariant(false, 6) : invariant(false, 'To use context.getCacheKey, you need to use a cache that has ' +\n                        'a configurable dataIdFromObject, like apollo-cache-inmemory.');\n                }\n            } });\n        return newContext;\n    };\n    LocalState.prototype.addExportedVariables = function (document, variables, context) {\n        if (variables === void 0) { variables = {}; }\n        if (context === void 0) { context = {}; }\n        return __awaiter(this, void 0, void 0, function () {\n            return __generator(this, function (_a) {\n                if (document) {\n                    return [2, this.resolveDocument(document, this.buildRootValueFromCache(document, variables) || {}, this.prepareContext(context), variables).then(function (data) { return (__assign(__assign({}, variables), data.exportedVariables)); })];\n                }\n                return [2, __assign({}, variables)];\n            });\n        });\n    };\n    LocalState.prototype.shouldForceResolvers = function (document) {\n        var forceResolvers = false;\n        visit(document, {\n            Directive: {\n                enter: function (node) {\n                    if (node.name.value === 'client' && node.arguments) {\n                        forceResolvers = node.arguments.some(function (arg) {\n                            return arg.name.value === 'always' &&\n                                arg.value.kind === 'BooleanValue' &&\n                                arg.value.value === true;\n                        });\n                        if (forceResolvers) {\n                            return BREAK;\n                        }\n                    }\n                },\n            },\n        });\n        return forceResolvers;\n    };\n    LocalState.prototype.buildRootValueFromCache = function (document, variables) {\n        return this.cache.diff({\n            query: buildQueryFromSelectionSet(document),\n            variables: variables,\n            returnPartialData: true,\n            optimistic: false,\n        }).result;\n    };\n    LocalState.prototype.resolveDocument = function (document, rootValue, context, variables, fragmentMatcher, onlyRunForcedResolvers) {\n        if (context === void 0) { context = {}; }\n        if (variables === void 0) { variables = {}; }\n        if (fragmentMatcher === void 0) { fragmentMatcher = function () { return true; }; }\n        if (onlyRunForcedResolvers === void 0) { onlyRunForcedResolvers = false; }\n        return __awaiter(this, void 0, void 0, function () {\n            var mainDefinition, fragments, fragmentMap, definitionOperation, defaultOperationType, _a, cache, client, execContext;\n            return __generator(this, function (_b) {\n                mainDefinition = getMainDefinition(document);\n                fragments = getFragmentDefinitions(document);\n                fragmentMap = createFragmentMap(fragments);\n                definitionOperation = mainDefinition\n                    .operation;\n                defaultOperationType = definitionOperation\n                    ? capitalizeFirstLetter(definitionOperation)\n                    : 'Query';\n                _a = this, cache = _a.cache, client = _a.client;\n                execContext = {\n                    fragmentMap: fragmentMap,\n                    context: __assign(__assign({}, context), { cache: cache,\n                        client: client }),\n                    variables: variables,\n                    fragmentMatcher: fragmentMatcher,\n                    defaultOperationType: defaultOperationType,\n                    exportedVariables: {},\n                    onlyRunForcedResolvers: onlyRunForcedResolvers,\n                };\n                return [2, this.resolveSelectionSet(mainDefinition.selectionSet, rootValue, execContext).then(function (result) { return ({\n                        result: result,\n                        exportedVariables: execContext.exportedVariables,\n                    }); })];\n            });\n        });\n    };\n    LocalState.prototype.resolveSelectionSet = function (selectionSet, rootValue, execContext) {\n        return __awaiter(this, void 0, void 0, function () {\n            var fragmentMap, context, variables, resultsToMerge, execute;\n            var _this = this;\n            return __generator(this, function (_a) {\n                fragmentMap = execContext.fragmentMap, context = execContext.context, variables = execContext.variables;\n                resultsToMerge = [rootValue];\n                execute = function (selection) { return __awaiter(_this, void 0, void 0, function () {\n                    var fragment, typeCondition;\n                    return __generator(this, function (_a) {\n                        if (!shouldInclude(selection, variables)) {\n                            return [2];\n                        }\n                        if (isField(selection)) {\n                            return [2, this.resolveField(selection, rootValue, execContext).then(function (fieldResult) {\n                                    var _a;\n                                    if (typeof fieldResult !== 'undefined') {\n                                        resultsToMerge.push((_a = {},\n                                            _a[resultKeyNameFromField(selection)] = fieldResult,\n                                            _a));\n                                    }\n                                })];\n                        }\n                        if (isInlineFragment(selection)) {\n                            fragment = selection;\n                        }\n                        else {\n                            fragment = fragmentMap[selection.name.value];\n                            process.env.NODE_ENV === \"production\" ? invariant(fragment, 7) : invariant(fragment, \"No fragment named \" + selection.name.value);\n                        }\n                        if (fragment && fragment.typeCondition) {\n                            typeCondition = fragment.typeCondition.name.value;\n                            if (execContext.fragmentMatcher(rootValue, typeCondition, context)) {\n                                return [2, this.resolveSelectionSet(fragment.selectionSet, rootValue, execContext).then(function (fragmentResult) {\n                                        resultsToMerge.push(fragmentResult);\n                                    })];\n                            }\n                        }\n                        return [2];\n                    });\n                }); };\n                return [2, Promise.all(selectionSet.selections.map(execute)).then(function () {\n                        return mergeDeepArray(resultsToMerge);\n                    })];\n            });\n        });\n    };\n    LocalState.prototype.resolveField = function (field, rootValue, execContext) {\n        return __awaiter(this, void 0, void 0, function () {\n            var variables, fieldName, aliasedFieldName, aliasUsed, defaultResult, resultPromise, resolverType, resolverMap, resolve;\n            var _this = this;\n            return __generator(this, function (_a) {\n                variables = execContext.variables;\n                fieldName = field.name.value;\n                aliasedFieldName = resultKeyNameFromField(field);\n                aliasUsed = fieldName !== aliasedFieldName;\n                defaultResult = rootValue[aliasedFieldName] || rootValue[fieldName];\n                resultPromise = Promise.resolve(defaultResult);\n                if (!execContext.onlyRunForcedResolvers ||\n                    this.shouldForceResolvers(field)) {\n                    resolverType = rootValue.__typename || execContext.defaultOperationType;\n                    resolverMap = this.resolvers && this.resolvers[resolverType];\n                    if (resolverMap) {\n                        resolve = resolverMap[aliasUsed ? fieldName : aliasedFieldName];\n                        if (resolve) {\n                            resultPromise = Promise.resolve(resolve(rootValue, argumentsObjectFromField(field, variables), execContext.context, { field: field, fragmentMap: execContext.fragmentMap }));\n                        }\n                    }\n                }\n                return [2, resultPromise.then(function (result) {\n                        if (result === void 0) { result = defaultResult; }\n                        if (field.directives) {\n                            field.directives.forEach(function (directive) {\n                                if (directive.name.value === 'export' && directive.arguments) {\n                                    directive.arguments.forEach(function (arg) {\n                                        if (arg.name.value === 'as' && arg.value.kind === 'StringValue') {\n                                            execContext.exportedVariables[arg.value.value] = result;\n                                        }\n                                    });\n                                }\n                            });\n                        }\n                        if (!field.selectionSet) {\n                            return result;\n                        }\n                        if (result == null) {\n                            return result;\n                        }\n                        if (Array.isArray(result)) {\n                            return _this.resolveSubSelectedArray(field, result, execContext);\n                        }\n                        if (field.selectionSet) {\n                            return _this.resolveSelectionSet(field.selectionSet, result, execContext);\n                        }\n                    })];\n            });\n        });\n    };\n    LocalState.prototype.resolveSubSelectedArray = function (field, result, execContext) {\n        var _this = this;\n        return Promise.all(result.map(function (item) {\n            if (item === null) {\n                return null;\n            }\n            if (Array.isArray(item)) {\n                return _this.resolveSubSelectedArray(field, item, execContext);\n            }\n            if (field.selectionSet) {\n                return _this.resolveSelectionSet(field.selectionSet, item, execContext);\n            }\n        }));\n    };\n    return LocalState;\n}());\n\nfunction multiplex(inner) {\n    var observers = new Set();\n    var sub = null;\n    return new Observable(function (observer) {\n        observers.add(observer);\n        sub = sub || inner.subscribe({\n            next: function (value) {\n                observers.forEach(function (obs) { return obs.next && obs.next(value); });\n            },\n            error: function (error) {\n                observers.forEach(function (obs) { return obs.error && obs.error(error); });\n            },\n            complete: function () {\n                observers.forEach(function (obs) { return obs.complete && obs.complete(); });\n            },\n        });\n        return function () {\n            if (observers.delete(observer) && !observers.size && sub) {\n                sub.unsubscribe();\n                sub = null;\n            }\n        };\n    });\n}\nfunction asyncMap(observable, mapFn) {\n    return new Observable(function (observer) {\n        var next = observer.next, error = observer.error, complete = observer.complete;\n        var activeNextCount = 0;\n        var completed = false;\n        var handler = {\n            next: function (value) {\n                ++activeNextCount;\n                new Promise(function (resolve) {\n                    resolve(mapFn(value));\n                }).then(function (result) {\n                    --activeNextCount;\n                    next && next.call(observer, result);\n                    completed && handler.complete();\n                }, function (e) {\n                    --activeNextCount;\n                    error && error.call(observer, e);\n                });\n            },\n            error: function (e) {\n                error && error.call(observer, e);\n            },\n            complete: function () {\n                completed = true;\n                if (!activeNextCount) {\n                    complete && complete.call(observer);\n                }\n            },\n        };\n        var sub = observable.subscribe(handler);\n        return function () { return sub.unsubscribe(); };\n    });\n}\n\nvar hasOwnProperty = Object.prototype.hasOwnProperty;\nvar QueryManager = (function () {\n    function QueryManager(_a) {\n        var link = _a.link, _b = _a.queryDeduplication, queryDeduplication = _b === void 0 ? false : _b, store = _a.store, _c = _a.onBroadcast, onBroadcast = _c === void 0 ? function () { return undefined; } : _c, _d = _a.ssrMode, ssrMode = _d === void 0 ? false : _d, _e = _a.clientAwareness, clientAwareness = _e === void 0 ? {} : _e, localState = _a.localState, assumeImmutableResults = _a.assumeImmutableResults;\n        this.mutationStore = new MutationStore();\n        this.queryStore = new QueryStore();\n        this.clientAwareness = {};\n        this.idCounter = 1;\n        this.queries = new Map();\n        this.fetchQueryRejectFns = new Map();\n        this.transformCache = new (canUseWeakMap ? WeakMap : Map)();\n        this.inFlightLinkObservables = new Map();\n        this.pollingInfoByQueryId = new Map();\n        this.link = link;\n        this.queryDeduplication = queryDeduplication;\n        this.dataStore = store;\n        this.onBroadcast = onBroadcast;\n        this.clientAwareness = clientAwareness;\n        this.localState = localState || new LocalState({ cache: store.getCache() });\n        this.ssrMode = ssrMode;\n        this.assumeImmutableResults = !!assumeImmutableResults;\n    }\n    QueryManager.prototype.stop = function () {\n        var _this = this;\n        this.queries.forEach(function (_info, queryId) {\n            _this.stopQueryNoBroadcast(queryId);\n        });\n        this.fetchQueryRejectFns.forEach(function (reject) {\n            reject(process.env.NODE_ENV === \"production\" ? new InvariantError(8) : new InvariantError('QueryManager stopped while query was in flight'));\n        });\n    };\n    QueryManager.prototype.mutate = function (_a) {\n        var mutation = _a.mutation, variables = _a.variables, optimisticResponse = _a.optimisticResponse, updateQueriesByName = _a.updateQueries, _b = _a.refetchQueries, refetchQueries = _b === void 0 ? [] : _b, _c = _a.awaitRefetchQueries, awaitRefetchQueries = _c === void 0 ? false : _c, updateWithProxyFn = _a.update, _d = _a.errorPolicy, errorPolicy = _d === void 0 ? 'none' : _d, fetchPolicy = _a.fetchPolicy, _e = _a.context, context = _e === void 0 ? {} : _e;\n        return __awaiter(this, void 0, void 0, function () {\n            var mutationId, generateUpdateQueriesInfo, self;\n            var _this = this;\n            return __generator(this, function (_f) {\n                switch (_f.label) {\n                    case 0:\n                        process.env.NODE_ENV === \"production\" ? invariant(mutation, 9) : invariant(mutation, 'mutation option is required. You must specify your GraphQL document in the mutation option.');\n                        process.env.NODE_ENV === \"production\" ? invariant(!fetchPolicy || fetchPolicy === 'no-cache', 10) : invariant(!fetchPolicy || fetchPolicy === 'no-cache', \"Mutations only support a 'no-cache' fetchPolicy. If you don't want to disable the cache, remove your fetchPolicy setting to proceed with the default mutation behavior.\");\n                        mutationId = this.generateQueryId();\n                        mutation = this.transform(mutation).document;\n                        this.setQuery(mutationId, function () { return ({ document: mutation }); });\n                        variables = this.getVariables(mutation, variables);\n                        if (!this.transform(mutation).hasClientExports) return [3, 2];\n                        return [4, this.localState.addExportedVariables(mutation, variables, context)];\n                    case 1:\n                        variables = _f.sent();\n                        _f.label = 2;\n                    case 2:\n                        generateUpdateQueriesInfo = function () {\n                            var ret = {};\n                            if (updateQueriesByName) {\n                                _this.queries.forEach(function (_a, queryId) {\n                                    var observableQuery = _a.observableQuery;\n                                    if (observableQuery) {\n                                        var queryName = observableQuery.queryName;\n                                        if (queryName &&\n                                            hasOwnProperty.call(updateQueriesByName, queryName)) {\n                                            ret[queryId] = {\n                                                updater: updateQueriesByName[queryName],\n                                                query: _this.queryStore.get(queryId),\n                                            };\n                                        }\n                                    }\n                                });\n                            }\n                            return ret;\n                        };\n                        this.mutationStore.initMutation(mutationId, mutation, variables);\n                        this.dataStore.markMutationInit({\n                            mutationId: mutationId,\n                            document: mutation,\n                            variables: variables,\n                            updateQueries: generateUpdateQueriesInfo(),\n                            update: updateWithProxyFn,\n                            optimisticResponse: optimisticResponse,\n                        });\n                        this.broadcastQueries();\n                        self = this;\n                        return [2, new Promise(function (resolve, reject) {\n                                var storeResult;\n                                var error;\n                                self.getObservableFromLink(mutation, __assign(__assign({}, context), { optimisticResponse: optimisticResponse }), variables, false).subscribe({\n                                    next: function (result) {\n                                        if (graphQLResultHasError(result) && errorPolicy === 'none') {\n                                            error = new ApolloError({\n                                                graphQLErrors: result.errors,\n                                            });\n                                            return;\n                                        }\n                                        self.mutationStore.markMutationResult(mutationId);\n                                        if (fetchPolicy !== 'no-cache') {\n                                            self.dataStore.markMutationResult({\n                                                mutationId: mutationId,\n                                                result: result,\n                                                document: mutation,\n                                                variables: variables,\n                                                updateQueries: generateUpdateQueriesInfo(),\n                                                update: updateWithProxyFn,\n                                            });\n                                        }\n                                        storeResult = result;\n                                    },\n                                    error: function (err) {\n                                        self.mutationStore.markMutationError(mutationId, err);\n                                        self.dataStore.markMutationComplete({\n                                            mutationId: mutationId,\n                                            optimisticResponse: optimisticResponse,\n                                        });\n                                        self.broadcastQueries();\n                                        self.setQuery(mutationId, function () { return ({ document: null }); });\n                                        reject(new ApolloError({\n                                            networkError: err,\n                                        }));\n                                    },\n                                    complete: function () {\n                                        if (error) {\n                                            self.mutationStore.markMutationError(mutationId, error);\n                                        }\n                                        self.dataStore.markMutationComplete({\n                                            mutationId: mutationId,\n                                            optimisticResponse: optimisticResponse,\n                                        });\n                                        self.broadcastQueries();\n                                        if (error) {\n                                            reject(error);\n                                            return;\n                                        }\n                                        if (typeof refetchQueries === 'function') {\n                                            refetchQueries = refetchQueries(storeResult);\n                                        }\n                                        var refetchQueryPromises = [];\n                                        if (isNonEmptyArray(refetchQueries)) {\n                                            refetchQueries.forEach(function (refetchQuery) {\n                                                if (typeof refetchQuery === 'string') {\n                                                    self.queries.forEach(function (_a) {\n                                                        var observableQuery = _a.observableQuery;\n                                                        if (observableQuery &&\n                                                            observableQuery.queryName === refetchQuery) {\n                                                            refetchQueryPromises.push(observableQuery.refetch());\n                                                        }\n                                                    });\n                                                }\n                                                else {\n                                                    var queryOptions = {\n                                                        query: refetchQuery.query,\n                                                        variables: refetchQuery.variables,\n                                                        fetchPolicy: 'network-only',\n                                                    };\n                                                    if (refetchQuery.context) {\n                                                        queryOptions.context = refetchQuery.context;\n                                                    }\n                                                    refetchQueryPromises.push(self.query(queryOptions));\n                                                }\n                                            });\n                                        }\n                                        Promise.all(awaitRefetchQueries ? refetchQueryPromises : []).then(function () {\n                                            self.setQuery(mutationId, function () { return ({ document: null }); });\n                                            if (errorPolicy === 'ignore' &&\n                                                storeResult &&\n                                                graphQLResultHasError(storeResult)) {\n                                                delete storeResult.errors;\n                                            }\n                                            resolve(storeResult);\n                                        });\n                                    },\n                                });\n                            })];\n                }\n            });\n        });\n    };\n    QueryManager.prototype.fetchQuery = function (queryId, options, fetchType, fetchMoreForQueryId) {\n        return __awaiter(this, void 0, void 0, function () {\n            var _a, metadata, _b, fetchPolicy, _c, context, query, variables, storeResult, isNetworkOnly, needToFetch, _d, complete, result, shouldFetch, requestId, cancel, networkResult;\n            var _this = this;\n            return __generator(this, function (_e) {\n                switch (_e.label) {\n                    case 0:\n                        _a = options.metadata, metadata = _a === void 0 ? null : _a, _b = options.fetchPolicy, fetchPolicy = _b === void 0 ? 'cache-first' : _b, _c = options.context, context = _c === void 0 ? {} : _c;\n                        query = this.transform(options.query).document;\n                        variables = this.getVariables(query, options.variables);\n                        if (!this.transform(query).hasClientExports) return [3, 2];\n                        return [4, this.localState.addExportedVariables(query, variables, context)];\n                    case 1:\n                        variables = _e.sent();\n                        _e.label = 2;\n                    case 2:\n                        options = __assign(__assign({}, options), { variables: variables });\n                        isNetworkOnly = fetchPolicy === 'network-only' || fetchPolicy === 'no-cache';\n                        needToFetch = isNetworkOnly;\n                        if (!isNetworkOnly) {\n                            _d = this.dataStore.getCache().diff({\n                                query: query,\n                                variables: variables,\n                                returnPartialData: true,\n                                optimistic: false,\n                            }), complete = _d.complete, result = _d.result;\n                            needToFetch = !complete || fetchPolicy === 'cache-and-network';\n                            storeResult = result;\n                        }\n                        shouldFetch = needToFetch && fetchPolicy !== 'cache-only' && fetchPolicy !== 'standby';\n                        if (hasDirectives(['live'], query))\n                            shouldFetch = true;\n                        requestId = this.idCounter++;\n                        cancel = fetchPolicy !== 'no-cache'\n                            ? this.updateQueryWatch(queryId, query, options)\n                            : undefined;\n                        this.setQuery(queryId, function () { return ({\n                            document: query,\n                            lastRequestId: requestId,\n                            invalidated: true,\n                            cancel: cancel,\n                        }); });\n                        this.invalidate(fetchMoreForQueryId);\n                        this.queryStore.initQuery({\n                            queryId: queryId,\n                            document: query,\n                            storePreviousVariables: shouldFetch,\n                            variables: variables,\n                            isPoll: fetchType === FetchType.poll,\n                            isRefetch: fetchType === FetchType.refetch,\n                            metadata: metadata,\n                            fetchMoreForQueryId: fetchMoreForQueryId,\n                        });\n                        this.broadcastQueries();\n                        if (shouldFetch) {\n                            networkResult = this.fetchRequest({\n                                requestId: requestId,\n                                queryId: queryId,\n                                document: query,\n                                options: options,\n                                fetchMoreForQueryId: fetchMoreForQueryId,\n                            }).catch(function (error) {\n                                if (isApolloError(error)) {\n                                    throw error;\n                                }\n                                else {\n                                    if (requestId >= _this.getQuery(queryId).lastRequestId) {\n                                        _this.queryStore.markQueryError(queryId, error, fetchMoreForQueryId);\n                                        _this.invalidate(queryId);\n                                        _this.invalidate(fetchMoreForQueryId);\n                                        _this.broadcastQueries();\n                                    }\n                                    throw new ApolloError({ networkError: error });\n                                }\n                            });\n                            if (fetchPolicy !== 'cache-and-network') {\n                                return [2, networkResult];\n                            }\n                            networkResult.catch(function () { });\n                        }\n                        this.queryStore.markQueryResultClient(queryId, !shouldFetch);\n                        this.invalidate(queryId);\n                        this.invalidate(fetchMoreForQueryId);\n                        if (this.transform(query).hasForcedResolvers) {\n                            return [2, this.localState.runResolvers({\n                                    document: query,\n                                    remoteResult: { data: storeResult },\n                                    context: context,\n                                    variables: variables,\n                                    onlyRunForcedResolvers: true,\n                                }).then(function (result) {\n                                    _this.markQueryResult(queryId, result, options, fetchMoreForQueryId);\n                                    _this.broadcastQueries();\n                                    return result;\n                                })];\n                        }\n                        this.broadcastQueries();\n                        return [2, { data: storeResult }];\n                }\n            });\n        });\n    };\n    QueryManager.prototype.markQueryResult = function (queryId, result, _a, fetchMoreForQueryId) {\n        var fetchPolicy = _a.fetchPolicy, variables = _a.variables, errorPolicy = _a.errorPolicy;\n        if (fetchPolicy === 'no-cache') {\n            this.setQuery(queryId, function () { return ({\n                newData: { result: result.data, complete: true },\n            }); });\n        }\n        else {\n            this.dataStore.markQueryResult(result, this.getQuery(queryId).document, variables, fetchMoreForQueryId, errorPolicy === 'ignore' || errorPolicy === 'all');\n        }\n    };\n    QueryManager.prototype.queryListenerForObserver = function (queryId, options, observer) {\n        var _this = this;\n        function invoke(method, argument) {\n            if (observer[method]) {\n                try {\n                    observer[method](argument);\n                }\n                catch (e) {\n                    process.env.NODE_ENV === \"production\" || invariant.error(e);\n                }\n            }\n            else if (method === 'error') {\n                process.env.NODE_ENV === \"production\" || invariant.error(argument);\n            }\n        }\n        return function (queryStoreValue, newData) {\n            _this.invalidate(queryId, false);\n            if (!queryStoreValue)\n                return;\n            var _a = _this.getQuery(queryId), observableQuery = _a.observableQuery, document = _a.document;\n            var fetchPolicy = observableQuery\n                ? observableQuery.options.fetchPolicy\n                : options.fetchPolicy;\n            if (fetchPolicy === 'standby')\n                return;\n            var loading = isNetworkRequestInFlight(queryStoreValue.networkStatus);\n            var lastResult = observableQuery && observableQuery.getLastResult();\n            var networkStatusChanged = !!(lastResult &&\n                lastResult.networkStatus !== queryStoreValue.networkStatus);\n            var shouldNotifyIfLoading = options.returnPartialData ||\n                (!newData && queryStoreValue.previousVariables) ||\n                (networkStatusChanged && options.notifyOnNetworkStatusChange) ||\n                fetchPolicy === 'cache-only' ||\n                fetchPolicy === 'cache-and-network';\n            if (loading && !shouldNotifyIfLoading) {\n                return;\n            }\n            var hasGraphQLErrors = isNonEmptyArray(queryStoreValue.graphQLErrors);\n            var errorPolicy = observableQuery\n                && observableQuery.options.errorPolicy\n                || options.errorPolicy\n                || 'none';\n            if (errorPolicy === 'none' && hasGraphQLErrors || queryStoreValue.networkError) {\n                return invoke('error', new ApolloError({\n                    graphQLErrors: queryStoreValue.graphQLErrors,\n                    networkError: queryStoreValue.networkError,\n                }));\n            }\n            try {\n                var data = void 0;\n                var isMissing = void 0;\n                if (newData) {\n                    if (fetchPolicy !== 'no-cache' && fetchPolicy !== 'network-only') {\n                        _this.setQuery(queryId, function () { return ({ newData: null }); });\n                    }\n                    data = newData.result;\n                    isMissing = !newData.complete;\n                }\n                else {\n                    var lastError = observableQuery && observableQuery.getLastError();\n                    var errorStatusChanged = errorPolicy !== 'none' &&\n                        (lastError && lastError.graphQLErrors) !==\n                            queryStoreValue.graphQLErrors;\n                    if (lastResult && lastResult.data && !errorStatusChanged) {\n                        data = lastResult.data;\n                        isMissing = false;\n                    }\n                    else {\n                        var diffResult = _this.dataStore.getCache().diff({\n                            query: document,\n                            variables: queryStoreValue.previousVariables ||\n                                queryStoreValue.variables,\n                            returnPartialData: true,\n                            optimistic: true,\n                        });\n                        data = diffResult.result;\n                        isMissing = !diffResult.complete;\n                    }\n                }\n                var stale = isMissing && !(options.returnPartialData ||\n                    fetchPolicy === 'cache-only');\n                var resultFromStore = {\n                    data: stale ? lastResult && lastResult.data : data,\n                    loading: loading,\n                    networkStatus: queryStoreValue.networkStatus,\n                    stale: stale,\n                };\n                if (errorPolicy === 'all' && hasGraphQLErrors) {\n                    resultFromStore.errors = queryStoreValue.graphQLErrors;\n                }\n                invoke('next', resultFromStore);\n            }\n            catch (networkError) {\n                invoke('error', new ApolloError({ networkError: networkError }));\n            }\n        };\n    };\n    QueryManager.prototype.transform = function (document) {\n        var transformCache = this.transformCache;\n        if (!transformCache.has(document)) {\n            var cache = this.dataStore.getCache();\n            var transformed = cache.transformDocument(document);\n            var forLink = removeConnectionDirectiveFromDocument(cache.transformForLink(transformed));\n            var clientQuery = this.localState.clientQuery(transformed);\n            var serverQuery = this.localState.serverQuery(forLink);\n            var cacheEntry_1 = {\n                document: transformed,\n                hasClientExports: hasClientExports(transformed),\n                hasForcedResolvers: this.localState.shouldForceResolvers(transformed),\n                clientQuery: clientQuery,\n                serverQuery: serverQuery,\n                defaultVars: getDefaultValues(getOperationDefinition(transformed)),\n            };\n            var add = function (doc) {\n                if (doc && !transformCache.has(doc)) {\n                    transformCache.set(doc, cacheEntry_1);\n                }\n            };\n            add(document);\n            add(transformed);\n            add(clientQuery);\n            add(serverQuery);\n        }\n        return transformCache.get(document);\n    };\n    QueryManager.prototype.getVariables = function (document, variables) {\n        return __assign(__assign({}, this.transform(document).defaultVars), variables);\n    };\n    QueryManager.prototype.watchQuery = function (options, shouldSubscribe) {\n        if (shouldSubscribe === void 0) { shouldSubscribe = true; }\n        process.env.NODE_ENV === \"production\" ? invariant(options.fetchPolicy !== 'standby', 11) : invariant(options.fetchPolicy !== 'standby', 'client.watchQuery cannot be called with fetchPolicy set to \"standby\"');\n        options.variables = this.getVariables(options.query, options.variables);\n        if (typeof options.notifyOnNetworkStatusChange === 'undefined') {\n            options.notifyOnNetworkStatusChange = false;\n        }\n        var transformedOptions = __assign({}, options);\n        return new ObservableQuery({\n            queryManager: this,\n            options: transformedOptions,\n            shouldSubscribe: shouldSubscribe,\n        });\n    };\n    QueryManager.prototype.query = function (options) {\n        var _this = this;\n        process.env.NODE_ENV === \"production\" ? invariant(options.query, 12) : invariant(options.query, 'query option is required. You must specify your GraphQL document ' +\n            'in the query option.');\n        process.env.NODE_ENV === \"production\" ? invariant(options.query.kind === 'Document', 13) : invariant(options.query.kind === 'Document', 'You must wrap the query string in a \"gql\" tag.');\n        process.env.NODE_ENV === \"production\" ? invariant(!options.returnPartialData, 14) : invariant(!options.returnPartialData, 'returnPartialData option only supported on watchQuery.');\n        process.env.NODE_ENV === \"production\" ? invariant(!options.pollInterval, 15) : invariant(!options.pollInterval, 'pollInterval option only supported on watchQuery.');\n        return new Promise(function (resolve, reject) {\n            var watchedQuery = _this.watchQuery(options, false);\n            _this.fetchQueryRejectFns.set(\"query:\" + watchedQuery.queryId, reject);\n            watchedQuery\n                .result()\n                .then(resolve, reject)\n                .then(function () {\n                return _this.fetchQueryRejectFns.delete(\"query:\" + watchedQuery.queryId);\n            });\n        });\n    };\n    QueryManager.prototype.generateQueryId = function () {\n        return String(this.idCounter++);\n    };\n    QueryManager.prototype.stopQueryInStore = function (queryId) {\n        this.stopQueryInStoreNoBroadcast(queryId);\n        this.broadcastQueries();\n    };\n    QueryManager.prototype.stopQueryInStoreNoBroadcast = function (queryId) {\n        this.stopPollingQuery(queryId);\n        this.queryStore.stopQuery(queryId);\n        this.invalidate(queryId);\n    };\n    QueryManager.prototype.addQueryListener = function (queryId, listener) {\n        this.setQuery(queryId, function (_a) {\n            var listeners = _a.listeners;\n            listeners.add(listener);\n            return { invalidated: false };\n        });\n    };\n    QueryManager.prototype.updateQueryWatch = function (queryId, document, options) {\n        var _this = this;\n        var cancel = this.getQuery(queryId).cancel;\n        if (cancel)\n            cancel();\n        var previousResult = function () {\n            var previousResult = null;\n            var observableQuery = _this.getQuery(queryId).observableQuery;\n            if (observableQuery) {\n                var lastResult = observableQuery.getLastResult();\n                if (lastResult) {\n                    previousResult = lastResult.data;\n                }\n            }\n            return previousResult;\n        };\n        return this.dataStore.getCache().watch({\n            query: document,\n            variables: options.variables,\n            optimistic: true,\n            previousResult: previousResult,\n            callback: function (newData) {\n                _this.setQuery(queryId, function () { return ({ invalidated: true, newData: newData }); });\n            },\n        });\n    };\n    QueryManager.prototype.addObservableQuery = function (queryId, observableQuery) {\n        this.setQuery(queryId, function () { return ({ observableQuery: observableQuery }); });\n    };\n    QueryManager.prototype.removeObservableQuery = function (queryId) {\n        var cancel = this.getQuery(queryId).cancel;\n        this.setQuery(queryId, function () { return ({ observableQuery: null }); });\n        if (cancel)\n            cancel();\n    };\n    QueryManager.prototype.clearStore = function () {\n        this.fetchQueryRejectFns.forEach(function (reject) {\n            reject(process.env.NODE_ENV === \"production\" ? new InvariantError(16) : new InvariantError('Store reset while query was in flight (not completed in link chain)'));\n        });\n        var resetIds = [];\n        this.queries.forEach(function (_a, queryId) {\n            var observableQuery = _a.observableQuery;\n            if (observableQuery)\n                resetIds.push(queryId);\n        });\n        this.queryStore.reset(resetIds);\n        this.mutationStore.reset();\n        return this.dataStore.reset();\n    };\n    QueryManager.prototype.resetStore = function () {\n        var _this = this;\n        return this.clearStore().then(function () {\n            return _this.reFetchObservableQueries();\n        });\n    };\n    QueryManager.prototype.reFetchObservableQueries = function (includeStandby) {\n        var _this = this;\n        if (includeStandby === void 0) { includeStandby = false; }\n        var observableQueryPromises = [];\n        this.queries.forEach(function (_a, queryId) {\n            var observableQuery = _a.observableQuery;\n            if (observableQuery) {\n                var fetchPolicy = observableQuery.options.fetchPolicy;\n                observableQuery.resetLastResults();\n                if (fetchPolicy !== 'cache-only' &&\n                    (includeStandby || fetchPolicy !== 'standby')) {\n                    observableQueryPromises.push(observableQuery.refetch());\n                }\n                _this.setQuery(queryId, function () { return ({ newData: null }); });\n                _this.invalidate(queryId);\n            }\n        });\n        this.broadcastQueries();\n        return Promise.all(observableQueryPromises);\n    };\n    QueryManager.prototype.observeQuery = function (queryId, options, observer) {\n        this.addQueryListener(queryId, this.queryListenerForObserver(queryId, options, observer));\n        return this.fetchQuery(queryId, options);\n    };\n    QueryManager.prototype.startQuery = function (queryId, options, listener) {\n        process.env.NODE_ENV === \"production\" || invariant.warn(\"The QueryManager.startQuery method has been deprecated\");\n        this.addQueryListener(queryId, listener);\n        this.fetchQuery(queryId, options)\n            .catch(function () { return undefined; });\n        return queryId;\n    };\n    QueryManager.prototype.startGraphQLSubscription = function (_a) {\n        var _this = this;\n        var query = _a.query, fetchPolicy = _a.fetchPolicy, variables = _a.variables;\n        query = this.transform(query).document;\n        variables = this.getVariables(query, variables);\n        var makeObservable = function (variables) {\n            return _this.getObservableFromLink(query, {}, variables, false).map(function (result) {\n                if (!fetchPolicy || fetchPolicy !== 'no-cache') {\n                    _this.dataStore.markSubscriptionResult(result, query, variables);\n                    _this.broadcastQueries();\n                }\n                if (graphQLResultHasError(result)) {\n                    throw new ApolloError({\n                        graphQLErrors: result.errors,\n                    });\n                }\n                return result;\n            });\n        };\n        if (this.transform(query).hasClientExports) {\n            var observablePromise_1 = this.localState.addExportedVariables(query, variables).then(makeObservable);\n            return new Observable(function (observer) {\n                var sub = null;\n                observablePromise_1.then(function (observable) { return sub = observable.subscribe(observer); }, observer.error);\n                return function () { return sub && sub.unsubscribe(); };\n            });\n        }\n        return makeObservable(variables);\n    };\n    QueryManager.prototype.stopQuery = function (queryId) {\n        this.stopQueryNoBroadcast(queryId);\n        this.broadcastQueries();\n    };\n    QueryManager.prototype.stopQueryNoBroadcast = function (queryId) {\n        this.stopQueryInStoreNoBroadcast(queryId);\n        this.removeQuery(queryId);\n    };\n    QueryManager.prototype.removeQuery = function (queryId) {\n        this.fetchQueryRejectFns.delete(\"query:\" + queryId);\n        this.fetchQueryRejectFns.delete(\"fetchRequest:\" + queryId);\n        this.getQuery(queryId).subscriptions.forEach(function (x) { return x.unsubscribe(); });\n        this.queries.delete(queryId);\n    };\n    QueryManager.prototype.getCurrentQueryResult = function (observableQuery, optimistic) {\n        if (optimistic === void 0) { optimistic = true; }\n        var _a = observableQuery.options, variables = _a.variables, query = _a.query, fetchPolicy = _a.fetchPolicy, returnPartialData = _a.returnPartialData;\n        var lastResult = observableQuery.getLastResult();\n        var newData = this.getQuery(observableQuery.queryId).newData;\n        if (newData && newData.complete) {\n            return { data: newData.result, partial: false };\n        }\n        if (fetchPolicy === 'no-cache' || fetchPolicy === 'network-only') {\n            return { data: undefined, partial: false };\n        }\n        var _b = this.dataStore.getCache().diff({\n            query: query,\n            variables: variables,\n            previousResult: lastResult ? lastResult.data : undefined,\n            returnPartialData: true,\n            optimistic: optimistic,\n        }), result = _b.result, complete = _b.complete;\n        return {\n            data: (complete || returnPartialData) ? result : void 0,\n            partial: !complete,\n        };\n    };\n    QueryManager.prototype.getQueryWithPreviousResult = function (queryIdOrObservable) {\n        var observableQuery;\n        if (typeof queryIdOrObservable === 'string') {\n            var foundObserveableQuery = this.getQuery(queryIdOrObservable).observableQuery;\n            process.env.NODE_ENV === \"production\" ? invariant(foundObserveableQuery, 17) : invariant(foundObserveableQuery, \"ObservableQuery with this id doesn't exist: \" + queryIdOrObservable);\n            observableQuery = foundObserveableQuery;\n        }\n        else {\n            observableQuery = queryIdOrObservable;\n        }\n        var _a = observableQuery.options, variables = _a.variables, query = _a.query;\n        return {\n            previousResult: this.getCurrentQueryResult(observableQuery, false).data,\n            variables: variables,\n            document: query,\n        };\n    };\n    QueryManager.prototype.broadcastQueries = function () {\n        var _this = this;\n        this.onBroadcast();\n        this.queries.forEach(function (info, id) {\n            if (info.invalidated) {\n                info.listeners.forEach(function (listener) {\n                    if (listener) {\n                        listener(_this.queryStore.get(id), info.newData);\n                    }\n                });\n            }\n        });\n    };\n    QueryManager.prototype.getLocalState = function () {\n        return this.localState;\n    };\n    QueryManager.prototype.getObservableFromLink = function (query, context, variables, deduplication) {\n        var _this = this;\n        if (deduplication === void 0) { deduplication = this.queryDeduplication; }\n        var observable;\n        var serverQuery = this.transform(query).serverQuery;\n        if (serverQuery) {\n            var _a = this, inFlightLinkObservables_1 = _a.inFlightLinkObservables, link = _a.link;\n            var operation = {\n                query: serverQuery,\n                variables: variables,\n                operationName: getOperationName(serverQuery) || void 0,\n                context: this.prepareContext(__assign(__assign({}, context), { forceFetch: !deduplication })),\n            };\n            context = operation.context;\n            if (deduplication) {\n                var byVariables_1 = inFlightLinkObservables_1.get(serverQuery) || new Map();\n                inFlightLinkObservables_1.set(serverQuery, byVariables_1);\n                var varJson_1 = JSON.stringify(variables);\n                observable = byVariables_1.get(varJson_1);\n                if (!observable) {\n                    byVariables_1.set(varJson_1, observable = multiplex(execute(link, operation)));\n                    var cleanup = function () {\n                        byVariables_1.delete(varJson_1);\n                        if (!byVariables_1.size)\n                            inFlightLinkObservables_1.delete(serverQuery);\n                        cleanupSub_1.unsubscribe();\n                    };\n                    var cleanupSub_1 = observable.subscribe({\n                        next: cleanup,\n                        error: cleanup,\n                        complete: cleanup,\n                    });\n                }\n            }\n            else {\n                observable = multiplex(execute(link, operation));\n            }\n        }\n        else {\n            observable = Observable.of({ data: {} });\n            context = this.prepareContext(context);\n        }\n        var clientQuery = this.transform(query).clientQuery;\n        if (clientQuery) {\n            observable = asyncMap(observable, function (result) {\n                return _this.localState.runResolvers({\n                    document: clientQuery,\n                    remoteResult: result,\n                    context: context,\n                    variables: variables,\n                });\n            });\n        }\n        return observable;\n    };\n    QueryManager.prototype.fetchRequest = function (_a) {\n        var _this = this;\n        var requestId = _a.requestId, queryId = _a.queryId, document = _a.document, options = _a.options, fetchMoreForQueryId = _a.fetchMoreForQueryId;\n        var variables = options.variables, _b = options.errorPolicy, errorPolicy = _b === void 0 ? 'none' : _b, fetchPolicy = options.fetchPolicy;\n        var resultFromStore;\n        var errorsFromStore;\n        return new Promise(function (resolve, reject) {\n            var observable = _this.getObservableFromLink(document, options.context, variables);\n            var fqrfId = \"fetchRequest:\" + queryId;\n            _this.fetchQueryRejectFns.set(fqrfId, reject);\n            var cleanup = function () {\n                _this.fetchQueryRejectFns.delete(fqrfId);\n                _this.setQuery(queryId, function (_a) {\n                    var subscriptions = _a.subscriptions;\n                    subscriptions.delete(subscription);\n                });\n            };\n            var subscription = observable.map(function (result) {\n                if (requestId >= _this.getQuery(queryId).lastRequestId) {\n                    _this.markQueryResult(queryId, result, options, fetchMoreForQueryId);\n                    _this.queryStore.markQueryResult(queryId, result, fetchMoreForQueryId);\n                    _this.invalidate(queryId);\n                    _this.invalidate(fetchMoreForQueryId);\n                    _this.broadcastQueries();\n                }\n                if (errorPolicy === 'none' && isNonEmptyArray(result.errors)) {\n                    return reject(new ApolloError({\n                        graphQLErrors: result.errors,\n                    }));\n                }\n                if (errorPolicy === 'all') {\n                    errorsFromStore = result.errors;\n                }\n                if (fetchMoreForQueryId || fetchPolicy === 'no-cache') {\n                    resultFromStore = result.data;\n                }\n                else {\n                    var _a = _this.dataStore.getCache().diff({\n                        variables: variables,\n                        query: document,\n                        optimistic: false,\n                        returnPartialData: true,\n                    }), result_1 = _a.result, complete = _a.complete;\n                    if (complete || options.returnPartialData) {\n                        resultFromStore = result_1;\n                    }\n                }\n            }).subscribe({\n                error: function (error) {\n                    cleanup();\n                    reject(error);\n                },\n                complete: function () {\n                    cleanup();\n                    resolve({\n                        data: resultFromStore,\n                        errors: errorsFromStore,\n                        loading: false,\n                        networkStatus: NetworkStatus.ready,\n                        stale: false,\n                    });\n                },\n            });\n            _this.setQuery(queryId, function (_a) {\n                var subscriptions = _a.subscriptions;\n                subscriptions.add(subscription);\n            });\n        });\n    };\n    QueryManager.prototype.getQuery = function (queryId) {\n        return (this.queries.get(queryId) || {\n            listeners: new Set(),\n            invalidated: false,\n            document: null,\n            newData: null,\n            lastRequestId: 1,\n            observableQuery: null,\n            subscriptions: new Set(),\n        });\n    };\n    QueryManager.prototype.setQuery = function (queryId, updater) {\n        var prev = this.getQuery(queryId);\n        var newInfo = __assign(__assign({}, prev), updater(prev));\n        this.queries.set(queryId, newInfo);\n    };\n    QueryManager.prototype.invalidate = function (queryId, invalidated) {\n        if (invalidated === void 0) { invalidated = true; }\n        if (queryId) {\n            this.setQuery(queryId, function () { return ({ invalidated: invalidated }); });\n        }\n    };\n    QueryManager.prototype.prepareContext = function (context) {\n        if (context === void 0) { context = {}; }\n        var newContext = this.localState.prepareContext(context);\n        return __assign(__assign({}, newContext), { clientAwareness: this.clientAwareness });\n    };\n    QueryManager.prototype.checkInFlight = function (queryId) {\n        var query = this.queryStore.get(queryId);\n        return (query &&\n            query.networkStatus !== NetworkStatus.ready &&\n            query.networkStatus !== NetworkStatus.error);\n    };\n    QueryManager.prototype.startPollingQuery = function (options, queryId, listener) {\n        var _this = this;\n        var pollInterval = options.pollInterval;\n        process.env.NODE_ENV === \"production\" ? invariant(pollInterval, 18) : invariant(pollInterval, 'Attempted to start a polling query without a polling interval.');\n        if (!this.ssrMode) {\n            var info = this.pollingInfoByQueryId.get(queryId);\n            if (!info) {\n                this.pollingInfoByQueryId.set(queryId, (info = {}));\n            }\n            info.interval = pollInterval;\n            info.options = __assign(__assign({}, options), { fetchPolicy: 'network-only' });\n            var maybeFetch_1 = function () {\n                var info = _this.pollingInfoByQueryId.get(queryId);\n                if (info) {\n                    if (_this.checkInFlight(queryId)) {\n                        poll_1();\n                    }\n                    else {\n                        _this.fetchQuery(queryId, info.options, FetchType.poll).then(poll_1, poll_1);\n                    }\n                }\n            };\n            var poll_1 = function () {\n                var info = _this.pollingInfoByQueryId.get(queryId);\n                if (info) {\n                    clearTimeout(info.timeout);\n                    info.timeout = setTimeout(maybeFetch_1, info.interval);\n                }\n            };\n            if (listener) {\n                this.addQueryListener(queryId, listener);\n            }\n            poll_1();\n        }\n        return queryId;\n    };\n    QueryManager.prototype.stopPollingQuery = function (queryId) {\n        this.pollingInfoByQueryId.delete(queryId);\n    };\n    return QueryManager;\n}());\n\nvar DataStore = (function () {\n    function DataStore(initialCache) {\n        this.cache = initialCache;\n    }\n    DataStore.prototype.getCache = function () {\n        return this.cache;\n    };\n    DataStore.prototype.markQueryResult = function (result, document, variables, fetchMoreForQueryId, ignoreErrors) {\n        if (ignoreErrors === void 0) { ignoreErrors = false; }\n        var writeWithErrors = !graphQLResultHasError(result);\n        if (ignoreErrors && graphQLResultHasError(result) && result.data) {\n            writeWithErrors = true;\n        }\n        if (!fetchMoreForQueryId && writeWithErrors) {\n            this.cache.write({\n                result: result.data,\n                dataId: 'ROOT_QUERY',\n                query: document,\n                variables: variables,\n            });\n        }\n    };\n    DataStore.prototype.markSubscriptionResult = function (result, document, variables) {\n        if (!graphQLResultHasError(result)) {\n            this.cache.write({\n                result: result.data,\n                dataId: 'ROOT_SUBSCRIPTION',\n                query: document,\n                variables: variables,\n            });\n        }\n    };\n    DataStore.prototype.markMutationInit = function (mutation) {\n        var _this = this;\n        if (mutation.optimisticResponse) {\n            var optimistic_1;\n            if (typeof mutation.optimisticResponse === 'function') {\n                optimistic_1 = mutation.optimisticResponse(mutation.variables);\n            }\n            else {\n                optimistic_1 = mutation.optimisticResponse;\n            }\n            this.cache.recordOptimisticTransaction(function (c) {\n                var orig = _this.cache;\n                _this.cache = c;\n                try {\n                    _this.markMutationResult({\n                        mutationId: mutation.mutationId,\n                        result: { data: optimistic_1 },\n                        document: mutation.document,\n                        variables: mutation.variables,\n                        updateQueries: mutation.updateQueries,\n                        update: mutation.update,\n                    });\n                }\n                finally {\n                    _this.cache = orig;\n                }\n            }, mutation.mutationId);\n        }\n    };\n    DataStore.prototype.markMutationResult = function (mutation) {\n        var _this = this;\n        if (!graphQLResultHasError(mutation.result)) {\n            var cacheWrites_1 = [{\n                    result: mutation.result.data,\n                    dataId: 'ROOT_MUTATION',\n                    query: mutation.document,\n                    variables: mutation.variables,\n                }];\n            var updateQueries_1 = mutation.updateQueries;\n            if (updateQueries_1) {\n                Object.keys(updateQueries_1).forEach(function (id) {\n                    var _a = updateQueries_1[id], query = _a.query, updater = _a.updater;\n                    var _b = _this.cache.diff({\n                        query: query.document,\n                        variables: query.variables,\n                        returnPartialData: true,\n                        optimistic: false,\n                    }), currentQueryResult = _b.result, complete = _b.complete;\n                    if (complete) {\n                        var nextQueryResult = tryFunctionOrLogError(function () {\n                            return updater(currentQueryResult, {\n                                mutationResult: mutation.result,\n                                queryName: getOperationName(query.document) || undefined,\n                                queryVariables: query.variables,\n                            });\n                        });\n                        if (nextQueryResult) {\n                            cacheWrites_1.push({\n                                result: nextQueryResult,\n                                dataId: 'ROOT_QUERY',\n                                query: query.document,\n                                variables: query.variables,\n                            });\n                        }\n                    }\n                });\n            }\n            this.cache.performTransaction(function (c) {\n                cacheWrites_1.forEach(function (write) { return c.write(write); });\n                var update = mutation.update;\n                if (update) {\n                    tryFunctionOrLogError(function () { return update(c, mutation.result); });\n                }\n            });\n        }\n    };\n    DataStore.prototype.markMutationComplete = function (_a) {\n        var mutationId = _a.mutationId, optimisticResponse = _a.optimisticResponse;\n        if (optimisticResponse) {\n            this.cache.removeOptimistic(mutationId);\n        }\n    };\n    DataStore.prototype.markUpdateQueryResult = function (document, variables, newResult) {\n        this.cache.write({\n            result: newResult,\n            dataId: 'ROOT_QUERY',\n            variables: variables,\n            query: document,\n        });\n    };\n    DataStore.prototype.reset = function () {\n        return this.cache.reset();\n    };\n    return DataStore;\n}());\n\nvar version = \"2.6.8\";\n\nvar hasSuggestedDevtools = false;\nvar ApolloClient = (function () {\n    function ApolloClient(options) {\n        var _this = this;\n        this.defaultOptions = {};\n        this.resetStoreCallbacks = [];\n        this.clearStoreCallbacks = [];\n        var cache = options.cache, _a = options.ssrMode, ssrMode = _a === void 0 ? false : _a, _b = options.ssrForceFetchDelay, ssrForceFetchDelay = _b === void 0 ? 0 : _b, connectToDevTools = options.connectToDevTools, _c = options.queryDeduplication, queryDeduplication = _c === void 0 ? true : _c, defaultOptions = options.defaultOptions, _d = options.assumeImmutableResults, assumeImmutableResults = _d === void 0 ? false : _d, resolvers = options.resolvers, typeDefs = options.typeDefs, fragmentMatcher = options.fragmentMatcher, clientAwarenessName = options.name, clientAwarenessVersion = options.version;\n        var link = options.link;\n        if (!link && resolvers) {\n            link = ApolloLink.empty();\n        }\n        if (!link || !cache) {\n            throw process.env.NODE_ENV === \"production\" ? new InvariantError(1) : new InvariantError(\"In order to initialize Apollo Client, you must specify 'link' and 'cache' properties in the options object.\\n\" +\n                \"These options are part of the upgrade requirements when migrating from Apollo Client 1.x to Apollo Client 2.x.\\n\" +\n                \"For more information, please visit: https://www.apollographql.com/docs/tutorial/client.html#apollo-client-setup\");\n        }\n        this.link = link;\n        this.cache = cache;\n        this.store = new DataStore(cache);\n        this.disableNetworkFetches = ssrMode || ssrForceFetchDelay > 0;\n        this.queryDeduplication = queryDeduplication;\n        this.defaultOptions = defaultOptions || {};\n        this.typeDefs = typeDefs;\n        if (ssrForceFetchDelay) {\n            setTimeout(function () { return (_this.disableNetworkFetches = false); }, ssrForceFetchDelay);\n        }\n        this.watchQuery = this.watchQuery.bind(this);\n        this.query = this.query.bind(this);\n        this.mutate = this.mutate.bind(this);\n        this.resetStore = this.resetStore.bind(this);\n        this.reFetchObservableQueries = this.reFetchObservableQueries.bind(this);\n        var defaultConnectToDevTools = process.env.NODE_ENV !== 'production' &&\n            typeof window !== 'undefined' &&\n            !window.__APOLLO_CLIENT__;\n        if (typeof connectToDevTools === 'undefined'\n            ? defaultConnectToDevTools\n            : connectToDevTools && typeof window !== 'undefined') {\n            window.__APOLLO_CLIENT__ = this;\n        }\n        if (!hasSuggestedDevtools && process.env.NODE_ENV !== 'production') {\n            hasSuggestedDevtools = true;\n            if (typeof window !== 'undefined' &&\n                window.document &&\n                window.top === window.self) {\n                if (typeof window.__APOLLO_DEVTOOLS_GLOBAL_HOOK__ === 'undefined') {\n                    if (window.navigator &&\n                        window.navigator.userAgent &&\n                        window.navigator.userAgent.indexOf('Chrome') > -1) {\n                        console.debug('Download the Apollo DevTools ' +\n                            'for a better development experience: ' +\n                            'https://chrome.google.com/webstore/detail/apollo-client-developer-t/jdkknkkbebbapilgoeccciglkfbmbnfm');\n                    }\n                }\n            }\n        }\n        this.version = version;\n        this.localState = new LocalState({\n            cache: cache,\n            client: this,\n            resolvers: resolvers,\n            fragmentMatcher: fragmentMatcher,\n        });\n        this.queryManager = new QueryManager({\n            link: this.link,\n            store: this.store,\n            queryDeduplication: queryDeduplication,\n            ssrMode: ssrMode,\n            clientAwareness: {\n                name: clientAwarenessName,\n                version: clientAwarenessVersion,\n            },\n            localState: this.localState,\n            assumeImmutableResults: assumeImmutableResults,\n            onBroadcast: function () {\n                if (_this.devToolsHookCb) {\n                    _this.devToolsHookCb({\n                        action: {},\n                        state: {\n                            queries: _this.queryManager.queryStore.getStore(),\n                            mutations: _this.queryManager.mutationStore.getStore(),\n                        },\n                        dataWithOptimisticResults: _this.cache.extract(true),\n                    });\n                }\n            },\n        });\n    }\n    ApolloClient.prototype.stop = function () {\n        this.queryManager.stop();\n    };\n    ApolloClient.prototype.watchQuery = function (options) {\n        if (this.defaultOptions.watchQuery) {\n            options = __assign(__assign({}, this.defaultOptions.watchQuery), options);\n        }\n        if (this.disableNetworkFetches &&\n            (options.fetchPolicy === 'network-only' ||\n                options.fetchPolicy === 'cache-and-network')) {\n            options = __assign(__assign({}, options), { fetchPolicy: 'cache-first' });\n        }\n        return this.queryManager.watchQuery(options);\n    };\n    ApolloClient.prototype.query = function (options) {\n        if (this.defaultOptions.query) {\n            options = __assign(__assign({}, this.defaultOptions.query), options);\n        }\n        process.env.NODE_ENV === \"production\" ? invariant(options.fetchPolicy !== 'cache-and-network', 2) : invariant(options.fetchPolicy !== 'cache-and-network', 'The cache-and-network fetchPolicy does not work with client.query, because ' +\n            'client.query can only return a single result. Please use client.watchQuery ' +\n            'to receive multiple results from the cache and the network, or consider ' +\n            'using a different fetchPolicy, such as cache-first or network-only.');\n        if (this.disableNetworkFetches && options.fetchPolicy === 'network-only') {\n            options = __assign(__assign({}, options), { fetchPolicy: 'cache-first' });\n        }\n        return this.queryManager.query(options);\n    };\n    ApolloClient.prototype.mutate = function (options) {\n        if (this.defaultOptions.mutate) {\n            options = __assign(__assign({}, this.defaultOptions.mutate), options);\n        }\n        return this.queryManager.mutate(options);\n    };\n    ApolloClient.prototype.subscribe = function (options) {\n        return this.queryManager.startGraphQLSubscription(options);\n    };\n    ApolloClient.prototype.readQuery = function (options, optimistic) {\n        if (optimistic === void 0) { optimistic = false; }\n        return this.cache.readQuery(options, optimistic);\n    };\n    ApolloClient.prototype.readFragment = function (options, optimistic) {\n        if (optimistic === void 0) { optimistic = false; }\n        return this.cache.readFragment(options, optimistic);\n    };\n    ApolloClient.prototype.writeQuery = function (options) {\n        var result = this.cache.writeQuery(options);\n        this.queryManager.broadcastQueries();\n        return result;\n    };\n    ApolloClient.prototype.writeFragment = function (options) {\n        var result = this.cache.writeFragment(options);\n        this.queryManager.broadcastQueries();\n        return result;\n    };\n    ApolloClient.prototype.writeData = function (options) {\n        var result = this.cache.writeData(options);\n        this.queryManager.broadcastQueries();\n        return result;\n    };\n    ApolloClient.prototype.__actionHookForDevTools = function (cb) {\n        this.devToolsHookCb = cb;\n    };\n    ApolloClient.prototype.__requestRaw = function (payload) {\n        return execute(this.link, payload);\n    };\n    ApolloClient.prototype.initQueryManager = function () {\n        process.env.NODE_ENV === \"production\" || invariant.warn('Calling the initQueryManager method is no longer necessary, ' +\n            'and it will be removed from ApolloClient in version 3.0.');\n        return this.queryManager;\n    };\n    ApolloClient.prototype.resetStore = function () {\n        var _this = this;\n        return Promise.resolve()\n            .then(function () { return _this.queryManager.clearStore(); })\n            .then(function () { return Promise.all(_this.resetStoreCallbacks.map(function (fn) { return fn(); })); })\n            .then(function () { return _this.reFetchObservableQueries(); });\n    };\n    ApolloClient.prototype.clearStore = function () {\n        var _this = this;\n        return Promise.resolve()\n            .then(function () { return _this.queryManager.clearStore(); })\n            .then(function () { return Promise.all(_this.clearStoreCallbacks.map(function (fn) { return fn(); })); });\n    };\n    ApolloClient.prototype.onResetStore = function (cb) {\n        var _this = this;\n        this.resetStoreCallbacks.push(cb);\n        return function () {\n            _this.resetStoreCallbacks = _this.resetStoreCallbacks.filter(function (c) { return c !== cb; });\n        };\n    };\n    ApolloClient.prototype.onClearStore = function (cb) {\n        var _this = this;\n        this.clearStoreCallbacks.push(cb);\n        return function () {\n            _this.clearStoreCallbacks = _this.clearStoreCallbacks.filter(function (c) { return c !== cb; });\n        };\n    };\n    ApolloClient.prototype.reFetchObservableQueries = function (includeStandby) {\n        return this.queryManager.reFetchObservableQueries(includeStandby);\n    };\n    ApolloClient.prototype.extract = function (optimistic) {\n        return this.cache.extract(optimistic);\n    };\n    ApolloClient.prototype.restore = function (serializedState) {\n        return this.cache.restore(serializedState);\n    };\n    ApolloClient.prototype.addResolvers = function (resolvers) {\n        this.localState.addResolvers(resolvers);\n    };\n    ApolloClient.prototype.setResolvers = function (resolvers) {\n        this.localState.setResolvers(resolvers);\n    };\n    ApolloClient.prototype.getResolvers = function () {\n        return this.localState.getResolvers();\n    };\n    ApolloClient.prototype.setLocalStateFragmentMatcher = function (fragmentMatcher) {\n        this.localState.setFragmentMatcher(fragmentMatcher);\n    };\n    return ApolloClient;\n}());\n\nexport default ApolloClient;\nexport { ApolloClient, ApolloError, FetchType, NetworkStatus, ObservableQuery, isApolloError };\n//# sourceMappingURL=bundle.esm.js.map\n","export default function symbolObservablePonyfill(root) {\n\tvar result;\n\tvar Symbol = root.Symbol;\n\n\tif (typeof Symbol === 'function') {\n\t\tif (Symbol.observable) {\n\t\t\tresult = Symbol.observable;\n\t\t} else {\n\t\t\tresult = Symbol('observable');\n\t\t\tSymbol.observable = result;\n\t\t}\n\t} else {\n\t\tresult = '@@observable';\n\t}\n\n\treturn result;\n};\n","import { getFragmentQueryDocument } from 'apollo-utilities';\n\nfunction queryFromPojo(obj) {\n    var op = {\n        kind: 'OperationDefinition',\n        operation: 'query',\n        name: {\n            kind: 'Name',\n            value: 'GeneratedClientQuery',\n        },\n        selectionSet: selectionSetFromObj(obj),\n    };\n    var out = {\n        kind: 'Document',\n        definitions: [op],\n    };\n    return out;\n}\nfunction fragmentFromPojo(obj, typename) {\n    var frag = {\n        kind: 'FragmentDefinition',\n        typeCondition: {\n            kind: 'NamedType',\n            name: {\n                kind: 'Name',\n                value: typename || '__FakeType',\n            },\n        },\n        name: {\n            kind: 'Name',\n            value: 'GeneratedClientQuery',\n        },\n        selectionSet: selectionSetFromObj(obj),\n    };\n    var out = {\n        kind: 'Document',\n        definitions: [frag],\n    };\n    return out;\n}\nfunction selectionSetFromObj(obj) {\n    if (typeof obj === 'number' ||\n        typeof obj === 'boolean' ||\n        typeof obj === 'string' ||\n        typeof obj === 'undefined' ||\n        obj === null) {\n        return null;\n    }\n    if (Array.isArray(obj)) {\n        return selectionSetFromObj(obj[0]);\n    }\n    var selections = [];\n    Object.keys(obj).forEach(function (key) {\n        var nestedSelSet = selectionSetFromObj(obj[key]);\n        var field = {\n            kind: 'Field',\n            name: {\n                kind: 'Name',\n                value: key,\n            },\n            selectionSet: nestedSelSet || undefined,\n        };\n        selections.push(field);\n    });\n    var selectionSet = {\n        kind: 'SelectionSet',\n        selections: selections,\n    };\n    return selectionSet;\n}\nvar justTypenameQuery = {\n    kind: 'Document',\n    definitions: [\n        {\n            kind: 'OperationDefinition',\n            operation: 'query',\n            name: null,\n            variableDefinitions: null,\n            directives: [],\n            selectionSet: {\n                kind: 'SelectionSet',\n                selections: [\n                    {\n                        kind: 'Field',\n                        alias: null,\n                        name: {\n                            kind: 'Name',\n                            value: '__typename',\n                        },\n                        arguments: [],\n                        directives: [],\n                        selectionSet: null,\n                    },\n                ],\n            },\n        },\n    ],\n};\n\nvar ApolloCache = (function () {\n    function ApolloCache() {\n    }\n    ApolloCache.prototype.transformDocument = function (document) {\n        return document;\n    };\n    ApolloCache.prototype.transformForLink = function (document) {\n        return document;\n    };\n    ApolloCache.prototype.readQuery = function (options, optimistic) {\n        if (optimistic === void 0) { optimistic = false; }\n        return this.read({\n            query: options.query,\n            variables: options.variables,\n            optimistic: optimistic,\n        });\n    };\n    ApolloCache.prototype.readFragment = function (options, optimistic) {\n        if (optimistic === void 0) { optimistic = false; }\n        return this.read({\n            query: getFragmentQueryDocument(options.fragment, options.fragmentName),\n            variables: options.variables,\n            rootId: options.id,\n            optimistic: optimistic,\n        });\n    };\n    ApolloCache.prototype.writeQuery = function (options) {\n        this.write({\n            dataId: 'ROOT_QUERY',\n            result: options.data,\n            query: options.query,\n            variables: options.variables,\n        });\n    };\n    ApolloCache.prototype.writeFragment = function (options) {\n        this.write({\n            dataId: options.id,\n            result: options.data,\n            variables: options.variables,\n            query: getFragmentQueryDocument(options.fragment, options.fragmentName),\n        });\n    };\n    ApolloCache.prototype.writeData = function (_a) {\n        var id = _a.id, data = _a.data;\n        if (typeof id !== 'undefined') {\n            var typenameResult = null;\n            try {\n                typenameResult = this.read({\n                    rootId: id,\n                    optimistic: false,\n                    query: justTypenameQuery,\n                });\n            }\n            catch (e) {\n            }\n            var __typename = (typenameResult && typenameResult.__typename) || '__ClientData';\n            var dataToWrite = Object.assign({ __typename: __typename }, data);\n            this.writeFragment({\n                id: id,\n                fragment: fragmentFromPojo(dataToWrite, __typename),\n                data: dataToWrite,\n            });\n        }\n        else {\n            this.writeQuery({ query: queryFromPojo(data), data: data });\n        }\n    };\n    return ApolloCache;\n}());\n\nvar Cache;\n(function (Cache) {\n})(Cache || (Cache = {}));\n\nexport { ApolloCache, Cache };\n//# sourceMappingURL=bundle.esm.js.map\n","// This currentContext variable will only be used if the makeSlotClass\r\n// function is called, which happens only if this is the first copy of the\r\n// @wry/context package to be imported.\r\nvar currentContext = null;\r\n// This unique internal object is used to denote the absence of a value\r\n// for a given Slot, and is never exposed to outside code.\r\nvar MISSING_VALUE = {};\r\nvar idCounter = 1;\r\n// Although we can't do anything about the cost of duplicated code from\r\n// accidentally bundling multiple copies of the @wry/context package, we can\r\n// avoid creating the Slot class more than once using makeSlotClass.\r\nvar makeSlotClass = function () { return /** @class */ (function () {\r\n    function Slot() {\r\n        // If you have a Slot object, you can find out its slot.id, but you cannot\r\n        // guess the slot.id of a Slot you don't have access to, thanks to the\r\n        // randomized suffix.\r\n        this.id = [\r\n            \"slot\",\r\n            idCounter++,\r\n            Date.now(),\r\n            Math.random().toString(36).slice(2),\r\n        ].join(\":\");\r\n    }\r\n    Slot.prototype.hasValue = function () {\r\n        for (var context_1 = currentContext; context_1; context_1 = context_1.parent) {\r\n            // We use the Slot object iself as a key to its value, which means the\r\n            // value cannot be obtained without a reference to the Slot object.\r\n            if (this.id in context_1.slots) {\r\n                var value = context_1.slots[this.id];\r\n                if (value === MISSING_VALUE)\r\n                    break;\r\n                if (context_1 !== currentContext) {\r\n                    // Cache the value in currentContext.slots so the next lookup will\r\n                    // be faster. This caching is safe because the tree of contexts and\r\n                    // the values of the slots are logically immutable.\r\n                    currentContext.slots[this.id] = value;\r\n                }\r\n                return true;\r\n            }\r\n        }\r\n        if (currentContext) {\r\n            // If a value was not found for this Slot, it's never going to be found\r\n            // no matter how many times we look it up, so we might as well cache\r\n            // the absence of the value, too.\r\n            currentContext.slots[this.id] = MISSING_VALUE;\r\n        }\r\n        return false;\r\n    };\r\n    Slot.prototype.getValue = function () {\r\n        if (this.hasValue()) {\r\n            return currentContext.slots[this.id];\r\n        }\r\n    };\r\n    Slot.prototype.withValue = function (value, callback, \r\n    // Given the prevalence of arrow functions, specifying arguments is likely\r\n    // to be much more common than specifying `this`, hence this ordering:\r\n    args, thisArg) {\r\n        var _a;\r\n        var slots = (_a = {\r\n                __proto__: null\r\n            },\r\n            _a[this.id] = value,\r\n            _a);\r\n        var parent = currentContext;\r\n        currentContext = { parent: parent, slots: slots };\r\n        try {\r\n            // Function.prototype.apply allows the arguments array argument to be\r\n            // omitted or undefined, so args! is fine here.\r\n            return callback.apply(thisArg, args);\r\n        }\r\n        finally {\r\n            currentContext = parent;\r\n        }\r\n    };\r\n    // Capture the current context and wrap a callback function so that it\r\n    // reestablishes the captured context when called.\r\n    Slot.bind = function (callback) {\r\n        var context = currentContext;\r\n        return function () {\r\n            var saved = currentContext;\r\n            try {\r\n                currentContext = context;\r\n                return callback.apply(this, arguments);\r\n            }\r\n            finally {\r\n                currentContext = saved;\r\n            }\r\n        };\r\n    };\r\n    // Immediately run a callback function without any captured context.\r\n    Slot.noContext = function (callback, \r\n    // Given the prevalence of arrow functions, specifying arguments is likely\r\n    // to be much more common than specifying `this`, hence this ordering:\r\n    args, thisArg) {\r\n        if (currentContext) {\r\n            var saved = currentContext;\r\n            try {\r\n                currentContext = null;\r\n                // Function.prototype.apply allows the arguments array argument to be\r\n                // omitted or undefined, so args! is fine here.\r\n                return callback.apply(thisArg, args);\r\n            }\r\n            finally {\r\n                currentContext = saved;\r\n            }\r\n        }\r\n        else {\r\n            return callback.apply(thisArg, args);\r\n        }\r\n    };\r\n    return Slot;\r\n}()); };\r\n// We store a single global implementation of the Slot class as a permanent\r\n// non-enumerable symbol property of the Array constructor. This obfuscation\r\n// does nothing to prevent access to the Slot class, but at least it ensures\r\n// the implementation (i.e. currentContext) cannot be tampered with, and all\r\n// copies of the @wry/context package (hopefully just one) will share the\r\n// same Slot implementation. Since the first copy of the @wry/context package\r\n// to be imported wins, this technique imposes a very high cost for any\r\n// future breaking changes to the Slot class.\r\nvar globalKey = \"@wry/context:Slot\";\r\nvar host = Array;\r\nvar Slot = host[globalKey] || function () {\r\n    var Slot = makeSlotClass();\r\n    try {\r\n        Object.defineProperty(host, globalKey, {\r\n            value: host[globalKey] = Slot,\r\n            enumerable: false,\r\n            writable: false,\r\n            configurable: false,\r\n        });\r\n    }\r\n    finally {\r\n        return Slot;\r\n    }\r\n}();\n\nvar bind = Slot.bind, noContext = Slot.noContext;\r\nfunction setTimeoutWithContext(callback, delay) {\r\n    return setTimeout(bind(callback), delay);\r\n}\r\n// Turn any generator function into an async function (using yield instead\r\n// of await), with context automatically preserved across yields.\r\nfunction asyncFromGen(genFn) {\r\n    return function () {\r\n        var gen = genFn.apply(this, arguments);\r\n        var boundNext = bind(gen.next);\r\n        var boundThrow = bind(gen.throw);\r\n        return new Promise(function (resolve, reject) {\r\n            function invoke(method, argument) {\r\n                try {\r\n                    var result = method.call(gen, argument);\r\n                }\r\n                catch (error) {\r\n                    return reject(error);\r\n                }\r\n                var next = result.done ? resolve : invokeNext;\r\n                if (isPromiseLike(result.value)) {\r\n                    result.value.then(next, result.done ? reject : invokeThrow);\r\n                }\r\n                else {\r\n                    next(result.value);\r\n                }\r\n            }\r\n            var invokeNext = function (value) { return invoke(boundNext, value); };\r\n            var invokeThrow = function (error) { return invoke(boundThrow, error); };\r\n            invokeNext();\r\n        });\r\n    };\r\n}\r\nfunction isPromiseLike(value) {\r\n    return value && typeof value.then === \"function\";\r\n}\r\n// If you use the fibers npm package to implement coroutines in Node.js,\r\n// you should call this function at least once to ensure context management\r\n// remains coherent across any yields.\r\nvar wrappedFibers = [];\r\nfunction wrapYieldingFiberMethods(Fiber) {\r\n    // There can be only one implementation of Fiber per process, so this array\r\n    // should never grow longer than one element.\r\n    if (wrappedFibers.indexOf(Fiber) < 0) {\r\n        var wrap = function (obj, method) {\r\n            var fn = obj[method];\r\n            obj[method] = function () {\r\n                return noContext(fn, arguments, this);\r\n            };\r\n        };\r\n        // These methods can yield, according to\r\n        // https://github.com/laverdet/node-fibers/blob/ddebed9b8ae3883e57f822e2108e6943e5c8d2a8/fibers.js#L97-L100\r\n        wrap(Fiber, \"yield\");\r\n        wrap(Fiber.prototype, \"run\");\r\n        wrap(Fiber.prototype, \"throwInto\");\r\n        wrappedFibers.push(Fiber);\r\n    }\r\n    return Fiber;\r\n}\n\nexport { Slot, asyncFromGen, bind, noContext, setTimeoutWithContext as setTimeout, wrapYieldingFiberMethods };\n//# sourceMappingURL=context.esm.js.map\n","import { Slot } from '@wry/context';\nexport { asyncFromGen, bind as bindContext, noContext, setTimeout } from '@wry/context';\n\nfunction defaultDispose() { }\r\nvar Cache = /** @class */ (function () {\r\n    function Cache(max, dispose) {\r\n        if (max === void 0) { max = Infinity; }\r\n        if (dispose === void 0) { dispose = defaultDispose; }\r\n        this.max = max;\r\n        this.dispose = dispose;\r\n        this.map = new Map();\r\n        this.newest = null;\r\n        this.oldest = null;\r\n    }\r\n    Cache.prototype.has = function (key) {\r\n        return this.map.has(key);\r\n    };\r\n    Cache.prototype.get = function (key) {\r\n        var entry = this.getEntry(key);\r\n        return entry && entry.value;\r\n    };\r\n    Cache.prototype.getEntry = function (key) {\r\n        var entry = this.map.get(key);\r\n        if (entry && entry !== this.newest) {\r\n            var older = entry.older, newer = entry.newer;\r\n            if (newer) {\r\n                newer.older = older;\r\n            }\r\n            if (older) {\r\n                older.newer = newer;\r\n            }\r\n            entry.older = this.newest;\r\n            entry.older.newer = entry;\r\n            entry.newer = null;\r\n            this.newest = entry;\r\n            if (entry === this.oldest) {\r\n                this.oldest = newer;\r\n            }\r\n        }\r\n        return entry;\r\n    };\r\n    Cache.prototype.set = function (key, value) {\r\n        var entry = this.getEntry(key);\r\n        if (entry) {\r\n            return entry.value = value;\r\n        }\r\n        entry = {\r\n            key: key,\r\n            value: value,\r\n            newer: null,\r\n            older: this.newest\r\n        };\r\n        if (this.newest) {\r\n            this.newest.newer = entry;\r\n        }\r\n        this.newest = entry;\r\n        this.oldest = this.oldest || entry;\r\n        this.map.set(key, entry);\r\n        return entry.value;\r\n    };\r\n    Cache.prototype.clean = function () {\r\n        while (this.oldest && this.map.size > this.max) {\r\n            this.delete(this.oldest.key);\r\n        }\r\n    };\r\n    Cache.prototype.delete = function (key) {\r\n        var entry = this.map.get(key);\r\n        if (entry) {\r\n            if (entry === this.newest) {\r\n                this.newest = entry.older;\r\n            }\r\n            if (entry === this.oldest) {\r\n                this.oldest = entry.newer;\r\n            }\r\n            if (entry.newer) {\r\n                entry.newer.older = entry.older;\r\n            }\r\n            if (entry.older) {\r\n                entry.older.newer = entry.newer;\r\n            }\r\n            this.map.delete(key);\r\n            this.dispose(entry.value, key);\r\n            return true;\r\n        }\r\n        return false;\r\n    };\r\n    return Cache;\r\n}());\n\nvar parentEntrySlot = new Slot();\n\nvar reusableEmptyArray = [];\r\nvar emptySetPool = [];\r\nvar POOL_TARGET_SIZE = 100;\r\n// Since this package might be used browsers, we should avoid using the\r\n// Node built-in assert module.\r\nfunction assert(condition, optionalMessage) {\r\n    if (!condition) {\r\n        throw new Error(optionalMessage || \"assertion failure\");\r\n    }\r\n}\r\nfunction valueIs(a, b) {\r\n    var len = a.length;\r\n    return (\r\n    // Unknown values are not equal to each other.\r\n    len > 0 &&\r\n        // Both values must be ordinary (or both exceptional) to be equal.\r\n        len === b.length &&\r\n        // The underlying value or exception must be the same.\r\n        a[len - 1] === b[len - 1]);\r\n}\r\nfunction valueGet(value) {\r\n    switch (value.length) {\r\n        case 0: throw new Error(\"unknown value\");\r\n        case 1: return value[0];\r\n        case 2: throw value[1];\r\n    }\r\n}\r\nfunction valueCopy(value) {\r\n    return value.slice(0);\r\n}\r\nvar Entry = /** @class */ (function () {\r\n    function Entry(fn, args) {\r\n        this.fn = fn;\r\n        this.args = args;\r\n        this.parents = new Set();\r\n        this.childValues = new Map();\r\n        // When this Entry has children that are dirty, this property becomes\r\n        // a Set containing other Entry objects, borrowed from emptySetPool.\r\n        // When the set becomes empty, it gets recycled back to emptySetPool.\r\n        this.dirtyChildren = null;\r\n        this.dirty = true;\r\n        this.recomputing = false;\r\n        this.value = [];\r\n        ++Entry.count;\r\n    }\r\n    // This is the most important method of the Entry API, because it\r\n    // determines whether the cached this.value can be returned immediately,\r\n    // or must be recomputed. The overall performance of the caching system\r\n    // depends on the truth of the following observations: (1) this.dirty is\r\n    // usually false, (2) this.dirtyChildren is usually null/empty, and thus\r\n    // (3) valueGet(this.value) is usually returned without recomputation.\r\n    Entry.prototype.recompute = function () {\r\n        assert(!this.recomputing, \"already recomputing\");\r\n        if (!rememberParent(this) && maybeReportOrphan(this)) {\r\n            // The recipient of the entry.reportOrphan callback decided to dispose\r\n            // of this orphan entry by calling entry.dispose(), so we don't need to\r\n            // (and should not) proceed with the recomputation.\r\n            return void 0;\r\n        }\r\n        return mightBeDirty(this)\r\n            ? reallyRecompute(this)\r\n            : valueGet(this.value);\r\n    };\r\n    Entry.prototype.setDirty = function () {\r\n        if (this.dirty)\r\n            return;\r\n        this.dirty = true;\r\n        this.value.length = 0;\r\n        reportDirty(this);\r\n        // We can go ahead and unsubscribe here, since any further dirty\r\n        // notifications we receive will be redundant, and unsubscribing may\r\n        // free up some resources, e.g. file watchers.\r\n        maybeUnsubscribe(this);\r\n    };\r\n    Entry.prototype.dispose = function () {\r\n        var _this = this;\r\n        forgetChildren(this).forEach(maybeReportOrphan);\r\n        maybeUnsubscribe(this);\r\n        // Because this entry has been kicked out of the cache (in index.js),\r\n        // we've lost the ability to find out if/when this entry becomes dirty,\r\n        // whether that happens through a subscription, because of a direct call\r\n        // to entry.setDirty(), or because one of its children becomes dirty.\r\n        // Because of this loss of future information, we have to assume the\r\n        // worst (that this entry might have become dirty very soon), so we must\r\n        // immediately mark this entry's parents as dirty. Normally we could\r\n        // just call entry.setDirty() rather than calling parent.setDirty() for\r\n        // each parent, but that would leave this entry in parent.childValues\r\n        // and parent.dirtyChildren, which would prevent the child from being\r\n        // truly forgotten.\r\n        this.parents.forEach(function (parent) {\r\n            parent.setDirty();\r\n            forgetChild(parent, _this);\r\n        });\r\n    };\r\n    Entry.count = 0;\r\n    return Entry;\r\n}());\r\nfunction rememberParent(child) {\r\n    var parent = parentEntrySlot.getValue();\r\n    if (parent) {\r\n        child.parents.add(parent);\r\n        if (!parent.childValues.has(child)) {\r\n            parent.childValues.set(child, []);\r\n        }\r\n        if (mightBeDirty(child)) {\r\n            reportDirtyChild(parent, child);\r\n        }\r\n        else {\r\n            reportCleanChild(parent, child);\r\n        }\r\n        return parent;\r\n    }\r\n}\r\nfunction reallyRecompute(entry) {\r\n    // Since this recomputation is likely to re-remember some of this\r\n    // entry's children, we forget our children here but do not call\r\n    // maybeReportOrphan until after the recomputation finishes.\r\n    var originalChildren = forgetChildren(entry);\r\n    // Set entry as the parent entry while calling recomputeNewValue(entry).\r\n    parentEntrySlot.withValue(entry, recomputeNewValue, [entry]);\r\n    if (maybeSubscribe(entry)) {\r\n        // If we successfully recomputed entry.value and did not fail to\r\n        // (re)subscribe, then this Entry is no longer explicitly dirty.\r\n        setClean(entry);\r\n    }\r\n    // Now that we've had a chance to re-remember any children that were\r\n    // involved in the recomputation, we can safely report any orphan\r\n    // children that remain.\r\n    originalChildren.forEach(maybeReportOrphan);\r\n    return valueGet(entry.value);\r\n}\r\nfunction recomputeNewValue(entry) {\r\n    entry.recomputing = true;\r\n    // Set entry.value as unknown.\r\n    entry.value.length = 0;\r\n    try {\r\n        // If entry.fn succeeds, entry.value will become a normal Value.\r\n        entry.value[0] = entry.fn.apply(null, entry.args);\r\n    }\r\n    catch (e) {\r\n        // If entry.fn throws, entry.value will become exceptional.\r\n        entry.value[1] = e;\r\n    }\r\n    // Either way, this line is always reached.\r\n    entry.recomputing = false;\r\n}\r\nfunction mightBeDirty(entry) {\r\n    return entry.dirty || !!(entry.dirtyChildren && entry.dirtyChildren.size);\r\n}\r\nfunction setClean(entry) {\r\n    entry.dirty = false;\r\n    if (mightBeDirty(entry)) {\r\n        // This Entry may still have dirty children, in which case we can't\r\n        // let our parents know we're clean just yet.\r\n        return;\r\n    }\r\n    reportClean(entry);\r\n}\r\nfunction reportDirty(child) {\r\n    child.parents.forEach(function (parent) { return reportDirtyChild(parent, child); });\r\n}\r\nfunction reportClean(child) {\r\n    child.parents.forEach(function (parent) { return reportCleanChild(parent, child); });\r\n}\r\n// Let a parent Entry know that one of its children may be dirty.\r\nfunction reportDirtyChild(parent, child) {\r\n    // Must have called rememberParent(child) before calling\r\n    // reportDirtyChild(parent, child).\r\n    assert(parent.childValues.has(child));\r\n    assert(mightBeDirty(child));\r\n    if (!parent.dirtyChildren) {\r\n        parent.dirtyChildren = emptySetPool.pop() || new Set;\r\n    }\r\n    else if (parent.dirtyChildren.has(child)) {\r\n        // If we already know this child is dirty, then we must have already\r\n        // informed our own parents that we are dirty, so we can terminate\r\n        // the recursion early.\r\n        return;\r\n    }\r\n    parent.dirtyChildren.add(child);\r\n    reportDirty(parent);\r\n}\r\n// Let a parent Entry know that one of its children is no longer dirty.\r\nfunction reportCleanChild(parent, child) {\r\n    // Must have called rememberChild(child) before calling\r\n    // reportCleanChild(parent, child).\r\n    assert(parent.childValues.has(child));\r\n    assert(!mightBeDirty(child));\r\n    var childValue = parent.childValues.get(child);\r\n    if (childValue.length === 0) {\r\n        parent.childValues.set(child, valueCopy(child.value));\r\n    }\r\n    else if (!valueIs(childValue, child.value)) {\r\n        parent.setDirty();\r\n    }\r\n    removeDirtyChild(parent, child);\r\n    if (mightBeDirty(parent)) {\r\n        return;\r\n    }\r\n    reportClean(parent);\r\n}\r\nfunction removeDirtyChild(parent, child) {\r\n    var dc = parent.dirtyChildren;\r\n    if (dc) {\r\n        dc.delete(child);\r\n        if (dc.size === 0) {\r\n            if (emptySetPool.length < POOL_TARGET_SIZE) {\r\n                emptySetPool.push(dc);\r\n            }\r\n            parent.dirtyChildren = null;\r\n        }\r\n    }\r\n}\r\n// If the given entry has a reportOrphan method, and no remaining parents,\r\n// call entry.reportOrphan and return true iff it returns true. The\r\n// reportOrphan function should return true to indicate entry.dispose()\r\n// has been called, and the entry has been removed from any other caches\r\n// (see index.js for the only current example).\r\nfunction maybeReportOrphan(entry) {\r\n    return entry.parents.size === 0 &&\r\n        typeof entry.reportOrphan === \"function\" &&\r\n        entry.reportOrphan() === true;\r\n}\r\n// Removes all children from this entry and returns an array of the\r\n// removed children.\r\nfunction forgetChildren(parent) {\r\n    var children = reusableEmptyArray;\r\n    if (parent.childValues.size > 0) {\r\n        children = [];\r\n        parent.childValues.forEach(function (_value, child) {\r\n            forgetChild(parent, child);\r\n            children.push(child);\r\n        });\r\n    }\r\n    // After we forget all our children, this.dirtyChildren must be empty\r\n    // and therefore must have been reset to null.\r\n    assert(parent.dirtyChildren === null);\r\n    return children;\r\n}\r\nfunction forgetChild(parent, child) {\r\n    child.parents.delete(parent);\r\n    parent.childValues.delete(child);\r\n    removeDirtyChild(parent, child);\r\n}\r\nfunction maybeSubscribe(entry) {\r\n    if (typeof entry.subscribe === \"function\") {\r\n        try {\r\n            maybeUnsubscribe(entry); // Prevent double subscriptions.\r\n            entry.unsubscribe = entry.subscribe.apply(null, entry.args);\r\n        }\r\n        catch (e) {\r\n            // If this Entry has a subscribe function and it threw an exception\r\n            // (or an unsubscribe function it previously returned now throws),\r\n            // return false to indicate that we were not able to subscribe (or\r\n            // unsubscribe), and this Entry should remain dirty.\r\n            entry.setDirty();\r\n            return false;\r\n        }\r\n    }\r\n    // Returning true indicates either that there was no entry.subscribe\r\n    // function or that it succeeded.\r\n    return true;\r\n}\r\nfunction maybeUnsubscribe(entry) {\r\n    var unsubscribe = entry.unsubscribe;\r\n    if (typeof unsubscribe === \"function\") {\r\n        entry.unsubscribe = void 0;\r\n        unsubscribe();\r\n    }\r\n}\n\n// A trie data structure that holds object keys weakly, yet can also hold\r\n// non-object keys, unlike the native `WeakMap`.\r\nvar KeyTrie = /** @class */ (function () {\r\n    function KeyTrie(weakness) {\r\n        this.weakness = weakness;\r\n    }\r\n    KeyTrie.prototype.lookup = function () {\r\n        var array = [];\r\n        for (var _i = 0; _i < arguments.length; _i++) {\r\n            array[_i] = arguments[_i];\r\n        }\r\n        return this.lookupArray(array);\r\n    };\r\n    KeyTrie.prototype.lookupArray = function (array) {\r\n        var node = this;\r\n        array.forEach(function (key) { return node = node.getChildTrie(key); });\r\n        return node.data || (node.data = Object.create(null));\r\n    };\r\n    KeyTrie.prototype.getChildTrie = function (key) {\r\n        var map = this.weakness && isObjRef(key)\r\n            ? this.weak || (this.weak = new WeakMap())\r\n            : this.strong || (this.strong = new Map());\r\n        var child = map.get(key);\r\n        if (!child)\r\n            map.set(key, child = new KeyTrie(this.weakness));\r\n        return child;\r\n    };\r\n    return KeyTrie;\r\n}());\r\nfunction isObjRef(value) {\r\n    switch (typeof value) {\r\n        case \"object\":\r\n            if (value === null)\r\n                break;\r\n        // Fall through to return true...\r\n        case \"function\":\r\n            return true;\r\n    }\r\n    return false;\r\n}\n\n// The defaultMakeCacheKey function is remarkably powerful, because it gives\r\n// a unique object for any shallow-identical list of arguments. If you need\r\n// to implement a custom makeCacheKey function, you may find it helpful to\r\n// delegate the final work to defaultMakeCacheKey, which is why we export it\r\n// here. However, you may want to avoid defaultMakeCacheKey if your runtime\r\n// does not support WeakMap, or you have the ability to return a string key.\r\n// In those cases, just write your own custom makeCacheKey functions.\r\nvar keyTrie = new KeyTrie(typeof WeakMap === \"function\");\r\nfunction defaultMakeCacheKey() {\r\n    var args = [];\r\n    for (var _i = 0; _i < arguments.length; _i++) {\r\n        args[_i] = arguments[_i];\r\n    }\r\n    return keyTrie.lookupArray(args);\r\n}\r\nvar caches = new Set();\r\nfunction wrap(originalFunction, options) {\r\n    if (options === void 0) { options = Object.create(null); }\r\n    var cache = new Cache(options.max || Math.pow(2, 16), function (entry) { return entry.dispose(); });\r\n    var disposable = !!options.disposable;\r\n    var makeCacheKey = options.makeCacheKey || defaultMakeCacheKey;\r\n    function optimistic() {\r\n        if (disposable && !parentEntrySlot.hasValue()) {\r\n            // If there's no current parent computation, and this wrapped\r\n            // function is disposable (meaning we don't care about entry.value,\r\n            // just dependency tracking), then we can short-cut everything else\r\n            // in this function, because entry.recompute() is going to recycle\r\n            // the entry object without recomputing anything, anyway.\r\n            return void 0;\r\n        }\r\n        var key = makeCacheKey.apply(null, arguments);\r\n        if (key === void 0) {\r\n            return originalFunction.apply(null, arguments);\r\n        }\r\n        var args = Array.prototype.slice.call(arguments);\r\n        var entry = cache.get(key);\r\n        if (entry) {\r\n            entry.args = args;\r\n        }\r\n        else {\r\n            entry = new Entry(originalFunction, args);\r\n            cache.set(key, entry);\r\n            entry.subscribe = options.subscribe;\r\n            if (disposable) {\r\n                entry.reportOrphan = function () { return cache.delete(key); };\r\n            }\r\n        }\r\n        var value = entry.recompute();\r\n        // Move this entry to the front of the least-recently used queue,\r\n        // since we just finished computing its value.\r\n        cache.set(key, entry);\r\n        caches.add(cache);\r\n        // Clean up any excess entries in the cache, but only if there is no\r\n        // active parent entry, meaning we're not in the middle of a larger\r\n        // computation that might be flummoxed by the cleaning.\r\n        if (!parentEntrySlot.hasValue()) {\r\n            caches.forEach(function (cache) { return cache.clean(); });\r\n            caches.clear();\r\n        }\r\n        // If options.disposable is truthy, the caller of wrap is telling us\r\n        // they don't care about the result of entry.recompute(), so we should\r\n        // avoid returning the value, so it won't be accidentally used.\r\n        return disposable ? void 0 : value;\r\n    }\r\n    optimistic.dirty = function () {\r\n        var key = makeCacheKey.apply(null, arguments);\r\n        var child = key !== void 0 && cache.get(key);\r\n        if (child) {\r\n            child.setDirty();\r\n        }\r\n    };\r\n    return optimistic;\r\n}\n\nexport { KeyTrie, defaultMakeCacheKey, wrap };\n//# sourceMappingURL=bundle.esm.js.map\n","import { __assign, __extends } from 'tslib';\nimport { ApolloCache } from 'apollo-cache';\nimport { isTest, getQueryDefinition, assign, getDefaultValues, isEqual, getMainDefinition, getFragmentDefinitions, createFragmentMap, shouldInclude, isField, resultKeyNameFromField, isInlineFragment, mergeDeepArray, argumentsObjectFromField, getDirectiveInfoFromField, maybeDeepFreeze, isIdValue, getStoreKeyName, toIdValue, isJsonValue, canUseWeakMap, getOperationDefinition, isProduction, storeKeyNameFromField, addTypenameToDocument } from 'apollo-utilities';\nimport { wrap, KeyTrie } from 'optimism';\nimport { invariant, InvariantError } from 'ts-invariant';\n\nvar haveWarned = false;\nfunction shouldWarn() {\n    var answer = !haveWarned;\n    if (!isTest()) {\n        haveWarned = true;\n    }\n    return answer;\n}\nvar HeuristicFragmentMatcher = (function () {\n    function HeuristicFragmentMatcher() {\n    }\n    HeuristicFragmentMatcher.prototype.ensureReady = function () {\n        return Promise.resolve();\n    };\n    HeuristicFragmentMatcher.prototype.canBypassInit = function () {\n        return true;\n    };\n    HeuristicFragmentMatcher.prototype.match = function (idValue, typeCondition, context) {\n        var obj = context.store.get(idValue.id);\n        var isRootQuery = idValue.id === 'ROOT_QUERY';\n        if (!obj) {\n            return isRootQuery;\n        }\n        var _a = obj.__typename, __typename = _a === void 0 ? isRootQuery && 'Query' : _a;\n        if (!__typename) {\n            if (shouldWarn()) {\n                process.env.NODE_ENV === \"production\" || invariant.warn(\"You're using fragments in your queries, but either don't have the addTypename:\\n  true option set in Apollo Client, or you are trying to write a fragment to the store without the __typename.\\n   Please turn on the addTypename option and include __typename when writing fragments so that Apollo Client\\n   can accurately match fragments.\");\n                process.env.NODE_ENV === \"production\" || invariant.warn('Could not find __typename on Fragment ', typeCondition, obj);\n                process.env.NODE_ENV === \"production\" || invariant.warn(\"DEPRECATION WARNING: using fragments without __typename is unsupported behavior \" +\n                    \"and will be removed in future versions of Apollo client. You should fix this and set addTypename to true now.\");\n            }\n            return 'heuristic';\n        }\n        if (__typename === typeCondition) {\n            return true;\n        }\n        if (shouldWarn()) {\n            process.env.NODE_ENV === \"production\" || invariant.error('You are using the simple (heuristic) fragment matcher, but your ' +\n                'queries contain union or interface types. Apollo Client will not be ' +\n                'able to accurately map fragments. To make this error go away, use ' +\n                'the `IntrospectionFragmentMatcher` as described in the docs: ' +\n                'https://www.apollographql.com/docs/react/advanced/fragments.html#fragment-matcher');\n        }\n        return 'heuristic';\n    };\n    return HeuristicFragmentMatcher;\n}());\nvar IntrospectionFragmentMatcher = (function () {\n    function IntrospectionFragmentMatcher(options) {\n        if (options && options.introspectionQueryResultData) {\n            this.possibleTypesMap = this.parseIntrospectionResult(options.introspectionQueryResultData);\n            this.isReady = true;\n        }\n        else {\n            this.isReady = false;\n        }\n        this.match = this.match.bind(this);\n    }\n    IntrospectionFragmentMatcher.prototype.match = function (idValue, typeCondition, context) {\n        process.env.NODE_ENV === \"production\" ? invariant(this.isReady, 2) : invariant(this.isReady, 'FragmentMatcher.match() was called before FragmentMatcher.init()');\n        var obj = context.store.get(idValue.id);\n        var isRootQuery = idValue.id === 'ROOT_QUERY';\n        if (!obj) {\n            return isRootQuery;\n        }\n        var _a = obj.__typename, __typename = _a === void 0 ? isRootQuery && 'Query' : _a;\n        process.env.NODE_ENV === \"production\" ? invariant(__typename, 3) : invariant(__typename, \"Cannot match fragment because __typename property is missing: \" + JSON.stringify(obj));\n        if (__typename === typeCondition) {\n            return true;\n        }\n        var implementingTypes = this.possibleTypesMap[typeCondition];\n        if (__typename &&\n            implementingTypes &&\n            implementingTypes.indexOf(__typename) > -1) {\n            return true;\n        }\n        return false;\n    };\n    IntrospectionFragmentMatcher.prototype.parseIntrospectionResult = function (introspectionResultData) {\n        var typeMap = {};\n        introspectionResultData.__schema.types.forEach(function (type) {\n            if (type.kind === 'UNION' || type.kind === 'INTERFACE') {\n                typeMap[type.name] = type.possibleTypes.map(function (implementingType) { return implementingType.name; });\n            }\n        });\n        return typeMap;\n    };\n    return IntrospectionFragmentMatcher;\n}());\n\nvar hasOwn = Object.prototype.hasOwnProperty;\nvar DepTrackingCache = (function () {\n    function DepTrackingCache(data) {\n        var _this = this;\n        if (data === void 0) { data = Object.create(null); }\n        this.data = data;\n        this.depend = wrap(function (dataId) { return _this.data[dataId]; }, {\n            disposable: true,\n            makeCacheKey: function (dataId) {\n                return dataId;\n            },\n        });\n    }\n    DepTrackingCache.prototype.toObject = function () {\n        return this.data;\n    };\n    DepTrackingCache.prototype.get = function (dataId) {\n        this.depend(dataId);\n        return this.data[dataId];\n    };\n    DepTrackingCache.prototype.set = function (dataId, value) {\n        var oldValue = this.data[dataId];\n        if (value !== oldValue) {\n            this.data[dataId] = value;\n            this.depend.dirty(dataId);\n        }\n    };\n    DepTrackingCache.prototype.delete = function (dataId) {\n        if (hasOwn.call(this.data, dataId)) {\n            delete this.data[dataId];\n            this.depend.dirty(dataId);\n        }\n    };\n    DepTrackingCache.prototype.clear = function () {\n        this.replace(null);\n    };\n    DepTrackingCache.prototype.replace = function (newData) {\n        var _this = this;\n        if (newData) {\n            Object.keys(newData).forEach(function (dataId) {\n                _this.set(dataId, newData[dataId]);\n            });\n            Object.keys(this.data).forEach(function (dataId) {\n                if (!hasOwn.call(newData, dataId)) {\n                    _this.delete(dataId);\n                }\n            });\n        }\n        else {\n            Object.keys(this.data).forEach(function (dataId) {\n                _this.delete(dataId);\n            });\n        }\n    };\n    return DepTrackingCache;\n}());\nfunction defaultNormalizedCacheFactory(seed) {\n    return new DepTrackingCache(seed);\n}\n\nvar StoreReader = (function () {\n    function StoreReader(_a) {\n        var _this = this;\n        var _b = _a === void 0 ? {} : _a, _c = _b.cacheKeyRoot, cacheKeyRoot = _c === void 0 ? new KeyTrie(canUseWeakMap) : _c, _d = _b.freezeResults, freezeResults = _d === void 0 ? false : _d;\n        var _e = this, executeStoreQuery = _e.executeStoreQuery, executeSelectionSet = _e.executeSelectionSet, executeSubSelectedArray = _e.executeSubSelectedArray;\n        this.freezeResults = freezeResults;\n        this.executeStoreQuery = wrap(function (options) {\n            return executeStoreQuery.call(_this, options);\n        }, {\n            makeCacheKey: function (_a) {\n                var query = _a.query, rootValue = _a.rootValue, contextValue = _a.contextValue, variableValues = _a.variableValues, fragmentMatcher = _a.fragmentMatcher;\n                if (contextValue.store instanceof DepTrackingCache) {\n                    return cacheKeyRoot.lookup(contextValue.store, query, fragmentMatcher, JSON.stringify(variableValues), rootValue.id);\n                }\n            }\n        });\n        this.executeSelectionSet = wrap(function (options) {\n            return executeSelectionSet.call(_this, options);\n        }, {\n            makeCacheKey: function (_a) {\n                var selectionSet = _a.selectionSet, rootValue = _a.rootValue, execContext = _a.execContext;\n                if (execContext.contextValue.store instanceof DepTrackingCache) {\n                    return cacheKeyRoot.lookup(execContext.contextValue.store, selectionSet, execContext.fragmentMatcher, JSON.stringify(execContext.variableValues), rootValue.id);\n                }\n            }\n        });\n        this.executeSubSelectedArray = wrap(function (options) {\n            return executeSubSelectedArray.call(_this, options);\n        }, {\n            makeCacheKey: function (_a) {\n                var field = _a.field, array = _a.array, execContext = _a.execContext;\n                if (execContext.contextValue.store instanceof DepTrackingCache) {\n                    return cacheKeyRoot.lookup(execContext.contextValue.store, field, array, JSON.stringify(execContext.variableValues));\n                }\n            }\n        });\n    }\n    StoreReader.prototype.readQueryFromStore = function (options) {\n        return this.diffQueryAgainstStore(__assign(__assign({}, options), { returnPartialData: false })).result;\n    };\n    StoreReader.prototype.diffQueryAgainstStore = function (_a) {\n        var store = _a.store, query = _a.query, variables = _a.variables, previousResult = _a.previousResult, _b = _a.returnPartialData, returnPartialData = _b === void 0 ? true : _b, _c = _a.rootId, rootId = _c === void 0 ? 'ROOT_QUERY' : _c, fragmentMatcherFunction = _a.fragmentMatcherFunction, config = _a.config;\n        var queryDefinition = getQueryDefinition(query);\n        variables = assign({}, getDefaultValues(queryDefinition), variables);\n        var context = {\n            store: store,\n            dataIdFromObject: config && config.dataIdFromObject,\n            cacheRedirects: (config && config.cacheRedirects) || {},\n        };\n        var execResult = this.executeStoreQuery({\n            query: query,\n            rootValue: {\n                type: 'id',\n                id: rootId,\n                generated: true,\n                typename: 'Query',\n            },\n            contextValue: context,\n            variableValues: variables,\n            fragmentMatcher: fragmentMatcherFunction,\n        });\n        var hasMissingFields = execResult.missing && execResult.missing.length > 0;\n        if (hasMissingFields && !returnPartialData) {\n            execResult.missing.forEach(function (info) {\n                if (info.tolerable)\n                    return;\n                throw process.env.NODE_ENV === \"production\" ? new InvariantError(8) : new InvariantError(\"Can't find field \" + info.fieldName + \" on object \" + JSON.stringify(info.object, null, 2) + \".\");\n            });\n        }\n        if (previousResult) {\n            if (isEqual(previousResult, execResult.result)) {\n                execResult.result = previousResult;\n            }\n        }\n        return {\n            result: execResult.result,\n            complete: !hasMissingFields,\n        };\n    };\n    StoreReader.prototype.executeStoreQuery = function (_a) {\n        var query = _a.query, rootValue = _a.rootValue, contextValue = _a.contextValue, variableValues = _a.variableValues, _b = _a.fragmentMatcher, fragmentMatcher = _b === void 0 ? defaultFragmentMatcher : _b;\n        var mainDefinition = getMainDefinition(query);\n        var fragments = getFragmentDefinitions(query);\n        var fragmentMap = createFragmentMap(fragments);\n        var execContext = {\n            query: query,\n            fragmentMap: fragmentMap,\n            contextValue: contextValue,\n            variableValues: variableValues,\n            fragmentMatcher: fragmentMatcher,\n        };\n        return this.executeSelectionSet({\n            selectionSet: mainDefinition.selectionSet,\n            rootValue: rootValue,\n            execContext: execContext,\n        });\n    };\n    StoreReader.prototype.executeSelectionSet = function (_a) {\n        var _this = this;\n        var selectionSet = _a.selectionSet, rootValue = _a.rootValue, execContext = _a.execContext;\n        var fragmentMap = execContext.fragmentMap, contextValue = execContext.contextValue, variables = execContext.variableValues;\n        var finalResult = { result: null };\n        var objectsToMerge = [];\n        var object = contextValue.store.get(rootValue.id);\n        var typename = (object && object.__typename) ||\n            (rootValue.id === 'ROOT_QUERY' && 'Query') ||\n            void 0;\n        function handleMissing(result) {\n            var _a;\n            if (result.missing) {\n                finalResult.missing = finalResult.missing || [];\n                (_a = finalResult.missing).push.apply(_a, result.missing);\n            }\n            return result.result;\n        }\n        selectionSet.selections.forEach(function (selection) {\n            var _a;\n            if (!shouldInclude(selection, variables)) {\n                return;\n            }\n            if (isField(selection)) {\n                var fieldResult = handleMissing(_this.executeField(object, typename, selection, execContext));\n                if (typeof fieldResult !== 'undefined') {\n                    objectsToMerge.push((_a = {},\n                        _a[resultKeyNameFromField(selection)] = fieldResult,\n                        _a));\n                }\n            }\n            else {\n                var fragment = void 0;\n                if (isInlineFragment(selection)) {\n                    fragment = selection;\n                }\n                else {\n                    fragment = fragmentMap[selection.name.value];\n                    if (!fragment) {\n                        throw process.env.NODE_ENV === \"production\" ? new InvariantError(9) : new InvariantError(\"No fragment named \" + selection.name.value);\n                    }\n                }\n                var typeCondition = fragment.typeCondition && fragment.typeCondition.name.value;\n                var match = !typeCondition ||\n                    execContext.fragmentMatcher(rootValue, typeCondition, contextValue);\n                if (match) {\n                    var fragmentExecResult = _this.executeSelectionSet({\n                        selectionSet: fragment.selectionSet,\n                        rootValue: rootValue,\n                        execContext: execContext,\n                    });\n                    if (match === 'heuristic' && fragmentExecResult.missing) {\n                        fragmentExecResult = __assign(__assign({}, fragmentExecResult), { missing: fragmentExecResult.missing.map(function (info) {\n                                return __assign(__assign({}, info), { tolerable: true });\n                            }) });\n                    }\n                    objectsToMerge.push(handleMissing(fragmentExecResult));\n                }\n            }\n        });\n        finalResult.result = mergeDeepArray(objectsToMerge);\n        if (this.freezeResults && process.env.NODE_ENV !== 'production') {\n            Object.freeze(finalResult.result);\n        }\n        return finalResult;\n    };\n    StoreReader.prototype.executeField = function (object, typename, field, execContext) {\n        var variables = execContext.variableValues, contextValue = execContext.contextValue;\n        var fieldName = field.name.value;\n        var args = argumentsObjectFromField(field, variables);\n        var info = {\n            resultKey: resultKeyNameFromField(field),\n            directives: getDirectiveInfoFromField(field, variables),\n        };\n        var readStoreResult = readStoreResolver(object, typename, fieldName, args, contextValue, info);\n        if (Array.isArray(readStoreResult.result)) {\n            return this.combineExecResults(readStoreResult, this.executeSubSelectedArray({\n                field: field,\n                array: readStoreResult.result,\n                execContext: execContext,\n            }));\n        }\n        if (!field.selectionSet) {\n            assertSelectionSetForIdValue(field, readStoreResult.result);\n            if (this.freezeResults && process.env.NODE_ENV !== 'production') {\n                maybeDeepFreeze(readStoreResult);\n            }\n            return readStoreResult;\n        }\n        if (readStoreResult.result == null) {\n            return readStoreResult;\n        }\n        return this.combineExecResults(readStoreResult, this.executeSelectionSet({\n            selectionSet: field.selectionSet,\n            rootValue: readStoreResult.result,\n            execContext: execContext,\n        }));\n    };\n    StoreReader.prototype.combineExecResults = function () {\n        var execResults = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            execResults[_i] = arguments[_i];\n        }\n        var missing;\n        execResults.forEach(function (execResult) {\n            if (execResult.missing) {\n                missing = missing || [];\n                missing.push.apply(missing, execResult.missing);\n            }\n        });\n        return {\n            result: execResults.pop().result,\n            missing: missing,\n        };\n    };\n    StoreReader.prototype.executeSubSelectedArray = function (_a) {\n        var _this = this;\n        var field = _a.field, array = _a.array, execContext = _a.execContext;\n        var missing;\n        function handleMissing(childResult) {\n            if (childResult.missing) {\n                missing = missing || [];\n                missing.push.apply(missing, childResult.missing);\n            }\n            return childResult.result;\n        }\n        array = array.map(function (item) {\n            if (item === null) {\n                return null;\n            }\n            if (Array.isArray(item)) {\n                return handleMissing(_this.executeSubSelectedArray({\n                    field: field,\n                    array: item,\n                    execContext: execContext,\n                }));\n            }\n            if (field.selectionSet) {\n                return handleMissing(_this.executeSelectionSet({\n                    selectionSet: field.selectionSet,\n                    rootValue: item,\n                    execContext: execContext,\n                }));\n            }\n            assertSelectionSetForIdValue(field, item);\n            return item;\n        });\n        if (this.freezeResults && process.env.NODE_ENV !== 'production') {\n            Object.freeze(array);\n        }\n        return { result: array, missing: missing };\n    };\n    return StoreReader;\n}());\nfunction assertSelectionSetForIdValue(field, value) {\n    if (!field.selectionSet && isIdValue(value)) {\n        throw process.env.NODE_ENV === \"production\" ? new InvariantError(10) : new InvariantError(\"Missing selection set for object of type \" + value.typename + \" returned for query field \" + field.name.value);\n    }\n}\nfunction defaultFragmentMatcher() {\n    return true;\n}\nfunction assertIdValue(idValue) {\n    process.env.NODE_ENV === \"production\" ? invariant(isIdValue(idValue), 11) : invariant(isIdValue(idValue), \"Encountered a sub-selection on the query, but the store doesn't have an object reference. This should never happen during normal use unless you have custom code that is directly manipulating the store; please file an issue.\");\n}\nfunction readStoreResolver(object, typename, fieldName, args, context, _a) {\n    var resultKey = _a.resultKey, directives = _a.directives;\n    var storeKeyName = fieldName;\n    if (args || directives) {\n        storeKeyName = getStoreKeyName(storeKeyName, args, directives);\n    }\n    var fieldValue = void 0;\n    if (object) {\n        fieldValue = object[storeKeyName];\n        if (typeof fieldValue === 'undefined' &&\n            context.cacheRedirects &&\n            typeof typename === 'string') {\n            var type = context.cacheRedirects[typename];\n            if (type) {\n                var resolver = type[fieldName];\n                if (resolver) {\n                    fieldValue = resolver(object, args, {\n                        getCacheKey: function (storeObj) {\n                            var id = context.dataIdFromObject(storeObj);\n                            return id && toIdValue({\n                                id: id,\n                                typename: storeObj.__typename,\n                            });\n                        },\n                    });\n                }\n            }\n        }\n    }\n    if (typeof fieldValue === 'undefined') {\n        return {\n            result: fieldValue,\n            missing: [{\n                    object: object,\n                    fieldName: storeKeyName,\n                    tolerable: false,\n                }],\n        };\n    }\n    if (isJsonValue(fieldValue)) {\n        fieldValue = fieldValue.json;\n    }\n    return {\n        result: fieldValue,\n    };\n}\n\nvar ObjectCache = (function () {\n    function ObjectCache(data) {\n        if (data === void 0) { data = Object.create(null); }\n        this.data = data;\n    }\n    ObjectCache.prototype.toObject = function () {\n        return this.data;\n    };\n    ObjectCache.prototype.get = function (dataId) {\n        return this.data[dataId];\n    };\n    ObjectCache.prototype.set = function (dataId, value) {\n        this.data[dataId] = value;\n    };\n    ObjectCache.prototype.delete = function (dataId) {\n        this.data[dataId] = void 0;\n    };\n    ObjectCache.prototype.clear = function () {\n        this.data = Object.create(null);\n    };\n    ObjectCache.prototype.replace = function (newData) {\n        this.data = newData || Object.create(null);\n    };\n    return ObjectCache;\n}());\nfunction defaultNormalizedCacheFactory$1(seed) {\n    return new ObjectCache(seed);\n}\n\nvar WriteError = (function (_super) {\n    __extends(WriteError, _super);\n    function WriteError() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.type = 'WriteError';\n        return _this;\n    }\n    return WriteError;\n}(Error));\nfunction enhanceErrorWithDocument(error, document) {\n    var enhancedError = new WriteError(\"Error writing result to store for query:\\n \" + JSON.stringify(document));\n    enhancedError.message += '\\n' + error.message;\n    enhancedError.stack = error.stack;\n    return enhancedError;\n}\nvar StoreWriter = (function () {\n    function StoreWriter() {\n    }\n    StoreWriter.prototype.writeQueryToStore = function (_a) {\n        var query = _a.query, result = _a.result, _b = _a.store, store = _b === void 0 ? defaultNormalizedCacheFactory() : _b, variables = _a.variables, dataIdFromObject = _a.dataIdFromObject, fragmentMatcherFunction = _a.fragmentMatcherFunction;\n        return this.writeResultToStore({\n            dataId: 'ROOT_QUERY',\n            result: result,\n            document: query,\n            store: store,\n            variables: variables,\n            dataIdFromObject: dataIdFromObject,\n            fragmentMatcherFunction: fragmentMatcherFunction,\n        });\n    };\n    StoreWriter.prototype.writeResultToStore = function (_a) {\n        var dataId = _a.dataId, result = _a.result, document = _a.document, _b = _a.store, store = _b === void 0 ? defaultNormalizedCacheFactory() : _b, variables = _a.variables, dataIdFromObject = _a.dataIdFromObject, fragmentMatcherFunction = _a.fragmentMatcherFunction;\n        var operationDefinition = getOperationDefinition(document);\n        try {\n            return this.writeSelectionSetToStore({\n                result: result,\n                dataId: dataId,\n                selectionSet: operationDefinition.selectionSet,\n                context: {\n                    store: store,\n                    processedData: {},\n                    variables: assign({}, getDefaultValues(operationDefinition), variables),\n                    dataIdFromObject: dataIdFromObject,\n                    fragmentMap: createFragmentMap(getFragmentDefinitions(document)),\n                    fragmentMatcherFunction: fragmentMatcherFunction,\n                },\n            });\n        }\n        catch (e) {\n            throw enhanceErrorWithDocument(e, document);\n        }\n    };\n    StoreWriter.prototype.writeSelectionSetToStore = function (_a) {\n        var _this = this;\n        var result = _a.result, dataId = _a.dataId, selectionSet = _a.selectionSet, context = _a.context;\n        var variables = context.variables, store = context.store, fragmentMap = context.fragmentMap;\n        selectionSet.selections.forEach(function (selection) {\n            var _a;\n            if (!shouldInclude(selection, variables)) {\n                return;\n            }\n            if (isField(selection)) {\n                var resultFieldKey = resultKeyNameFromField(selection);\n                var value = result[resultFieldKey];\n                if (typeof value !== 'undefined') {\n                    _this.writeFieldToStore({\n                        dataId: dataId,\n                        value: value,\n                        field: selection,\n                        context: context,\n                    });\n                }\n                else {\n                    var isDefered = false;\n                    var isClient = false;\n                    if (selection.directives && selection.directives.length) {\n                        isDefered = selection.directives.some(function (directive) { return directive.name && directive.name.value === 'defer'; });\n                        isClient = selection.directives.some(function (directive) { return directive.name && directive.name.value === 'client'; });\n                    }\n                    if (!isDefered && !isClient && context.fragmentMatcherFunction) {\n                        process.env.NODE_ENV === \"production\" || invariant.warn(\"Missing field \" + resultFieldKey + \" in \" + JSON.stringify(result, null, 2).substring(0, 100));\n                    }\n                }\n            }\n            else {\n                var fragment = void 0;\n                if (isInlineFragment(selection)) {\n                    fragment = selection;\n                }\n                else {\n                    fragment = (fragmentMap || {})[selection.name.value];\n                    process.env.NODE_ENV === \"production\" ? invariant(fragment, 4) : invariant(fragment, \"No fragment named \" + selection.name.value + \".\");\n                }\n                var matches = true;\n                if (context.fragmentMatcherFunction && fragment.typeCondition) {\n                    var id = dataId || 'self';\n                    var idValue = toIdValue({ id: id, typename: undefined });\n                    var fakeContext = {\n                        store: new ObjectCache((_a = {}, _a[id] = result, _a)),\n                        cacheRedirects: {},\n                    };\n                    var match = context.fragmentMatcherFunction(idValue, fragment.typeCondition.name.value, fakeContext);\n                    if (!isProduction() && match === 'heuristic') {\n                        process.env.NODE_ENV === \"production\" || invariant.error('WARNING: heuristic fragment matching going on!');\n                    }\n                    matches = !!match;\n                }\n                if (matches) {\n                    _this.writeSelectionSetToStore({\n                        result: result,\n                        selectionSet: fragment.selectionSet,\n                        dataId: dataId,\n                        context: context,\n                    });\n                }\n            }\n        });\n        return store;\n    };\n    StoreWriter.prototype.writeFieldToStore = function (_a) {\n        var _b;\n        var field = _a.field, value = _a.value, dataId = _a.dataId, context = _a.context;\n        var variables = context.variables, dataIdFromObject = context.dataIdFromObject, store = context.store;\n        var storeValue;\n        var storeObject;\n        var storeFieldName = storeKeyNameFromField(field, variables);\n        if (!field.selectionSet || value === null) {\n            storeValue =\n                value != null && typeof value === 'object'\n                    ?\n                        { type: 'json', json: value }\n                    :\n                        value;\n        }\n        else if (Array.isArray(value)) {\n            var generatedId = dataId + \".\" + storeFieldName;\n            storeValue = this.processArrayValue(value, generatedId, field.selectionSet, context);\n        }\n        else {\n            var valueDataId = dataId + \".\" + storeFieldName;\n            var generated = true;\n            if (!isGeneratedId(valueDataId)) {\n                valueDataId = '$' + valueDataId;\n            }\n            if (dataIdFromObject) {\n                var semanticId = dataIdFromObject(value);\n                process.env.NODE_ENV === \"production\" ? invariant(!semanticId || !isGeneratedId(semanticId), 5) : invariant(!semanticId || !isGeneratedId(semanticId), 'IDs returned by dataIdFromObject cannot begin with the \"$\" character.');\n                if (semanticId ||\n                    (typeof semanticId === 'number' && semanticId === 0)) {\n                    valueDataId = semanticId;\n                    generated = false;\n                }\n            }\n            if (!isDataProcessed(valueDataId, field, context.processedData)) {\n                this.writeSelectionSetToStore({\n                    dataId: valueDataId,\n                    result: value,\n                    selectionSet: field.selectionSet,\n                    context: context,\n                });\n            }\n            var typename = value.__typename;\n            storeValue = toIdValue({ id: valueDataId, typename: typename }, generated);\n            storeObject = store.get(dataId);\n            var escapedId = storeObject && storeObject[storeFieldName];\n            if (escapedId !== storeValue && isIdValue(escapedId)) {\n                var hadTypename = escapedId.typename !== undefined;\n                var hasTypename = typename !== undefined;\n                var typenameChanged = hadTypename && hasTypename && escapedId.typename !== typename;\n                process.env.NODE_ENV === \"production\" ? invariant(!generated || escapedId.generated || typenameChanged, 6) : invariant(!generated || escapedId.generated || typenameChanged, \"Store error: the application attempted to write an object with no provided id but the store already contains an id of \" + escapedId.id + \" for this object. The selectionSet that was trying to be written is:\\n\" + JSON.stringify(field));\n                process.env.NODE_ENV === \"production\" ? invariant(!hadTypename || hasTypename, 7) : invariant(!hadTypename || hasTypename, \"Store error: the application attempted to write an object with no provided typename but the store already contains an object with typename of \" + escapedId.typename + \" for the object of id \" + escapedId.id + \". The selectionSet that was trying to be written is:\\n\" + JSON.stringify(field));\n                if (escapedId.generated) {\n                    if (typenameChanged) {\n                        if (!generated) {\n                            store.delete(escapedId.id);\n                        }\n                    }\n                    else {\n                        mergeWithGenerated(escapedId.id, storeValue.id, store);\n                    }\n                }\n            }\n        }\n        storeObject = store.get(dataId);\n        if (!storeObject || !isEqual(storeValue, storeObject[storeFieldName])) {\n            store.set(dataId, __assign(__assign({}, storeObject), (_b = {}, _b[storeFieldName] = storeValue, _b)));\n        }\n    };\n    StoreWriter.prototype.processArrayValue = function (value, generatedId, selectionSet, context) {\n        var _this = this;\n        return value.map(function (item, index) {\n            if (item === null) {\n                return null;\n            }\n            var itemDataId = generatedId + \".\" + index;\n            if (Array.isArray(item)) {\n                return _this.processArrayValue(item, itemDataId, selectionSet, context);\n            }\n            var generated = true;\n            if (context.dataIdFromObject) {\n                var semanticId = context.dataIdFromObject(item);\n                if (semanticId) {\n                    itemDataId = semanticId;\n                    generated = false;\n                }\n            }\n            if (!isDataProcessed(itemDataId, selectionSet, context.processedData)) {\n                _this.writeSelectionSetToStore({\n                    dataId: itemDataId,\n                    result: item,\n                    selectionSet: selectionSet,\n                    context: context,\n                });\n            }\n            return toIdValue({ id: itemDataId, typename: item.__typename }, generated);\n        });\n    };\n    return StoreWriter;\n}());\nfunction isGeneratedId(id) {\n    return id[0] === '$';\n}\nfunction mergeWithGenerated(generatedKey, realKey, cache) {\n    if (generatedKey === realKey) {\n        return false;\n    }\n    var generated = cache.get(generatedKey);\n    var real = cache.get(realKey);\n    var madeChanges = false;\n    Object.keys(generated).forEach(function (key) {\n        var value = generated[key];\n        var realValue = real[key];\n        if (isIdValue(value) &&\n            isGeneratedId(value.id) &&\n            isIdValue(realValue) &&\n            !isEqual(value, realValue) &&\n            mergeWithGenerated(value.id, realValue.id, cache)) {\n            madeChanges = true;\n        }\n    });\n    cache.delete(generatedKey);\n    var newRealValue = __assign(__assign({}, generated), real);\n    if (isEqual(newRealValue, real)) {\n        return madeChanges;\n    }\n    cache.set(realKey, newRealValue);\n    return true;\n}\nfunction isDataProcessed(dataId, field, processedData) {\n    if (!processedData) {\n        return false;\n    }\n    if (processedData[dataId]) {\n        if (processedData[dataId].indexOf(field) >= 0) {\n            return true;\n        }\n        else {\n            processedData[dataId].push(field);\n        }\n    }\n    else {\n        processedData[dataId] = [field];\n    }\n    return false;\n}\n\nvar defaultConfig = {\n    fragmentMatcher: new HeuristicFragmentMatcher(),\n    dataIdFromObject: defaultDataIdFromObject,\n    addTypename: true,\n    resultCaching: true,\n    freezeResults: false,\n};\nfunction defaultDataIdFromObject(result) {\n    if (result.__typename) {\n        if (result.id !== undefined) {\n            return result.__typename + \":\" + result.id;\n        }\n        if (result._id !== undefined) {\n            return result.__typename + \":\" + result._id;\n        }\n    }\n    return null;\n}\nvar hasOwn$1 = Object.prototype.hasOwnProperty;\nvar OptimisticCacheLayer = (function (_super) {\n    __extends(OptimisticCacheLayer, _super);\n    function OptimisticCacheLayer(optimisticId, parent, transaction) {\n        var _this = _super.call(this, Object.create(null)) || this;\n        _this.optimisticId = optimisticId;\n        _this.parent = parent;\n        _this.transaction = transaction;\n        return _this;\n    }\n    OptimisticCacheLayer.prototype.toObject = function () {\n        return __assign(__assign({}, this.parent.toObject()), this.data);\n    };\n    OptimisticCacheLayer.prototype.get = function (dataId) {\n        return hasOwn$1.call(this.data, dataId)\n            ? this.data[dataId]\n            : this.parent.get(dataId);\n    };\n    return OptimisticCacheLayer;\n}(ObjectCache));\nvar InMemoryCache = (function (_super) {\n    __extends(InMemoryCache, _super);\n    function InMemoryCache(config) {\n        if (config === void 0) { config = {}; }\n        var _this = _super.call(this) || this;\n        _this.watches = new Set();\n        _this.typenameDocumentCache = new Map();\n        _this.cacheKeyRoot = new KeyTrie(canUseWeakMap);\n        _this.silenceBroadcast = false;\n        _this.config = __assign(__assign({}, defaultConfig), config);\n        if (_this.config.customResolvers) {\n            process.env.NODE_ENV === \"production\" || invariant.warn('customResolvers have been renamed to cacheRedirects. Please update your config as we will be deprecating customResolvers in the next major version.');\n            _this.config.cacheRedirects = _this.config.customResolvers;\n        }\n        if (_this.config.cacheResolvers) {\n            process.env.NODE_ENV === \"production\" || invariant.warn('cacheResolvers have been renamed to cacheRedirects. Please update your config as we will be deprecating cacheResolvers in the next major version.');\n            _this.config.cacheRedirects = _this.config.cacheResolvers;\n        }\n        _this.addTypename = !!_this.config.addTypename;\n        _this.data = _this.config.resultCaching\n            ? new DepTrackingCache()\n            : new ObjectCache();\n        _this.optimisticData = _this.data;\n        _this.storeWriter = new StoreWriter();\n        _this.storeReader = new StoreReader({\n            cacheKeyRoot: _this.cacheKeyRoot,\n            freezeResults: config.freezeResults,\n        });\n        var cache = _this;\n        var maybeBroadcastWatch = cache.maybeBroadcastWatch;\n        _this.maybeBroadcastWatch = wrap(function (c) {\n            return maybeBroadcastWatch.call(_this, c);\n        }, {\n            makeCacheKey: function (c) {\n                if (c.optimistic) {\n                    return;\n                }\n                if (c.previousResult) {\n                    return;\n                }\n                if (cache.data instanceof DepTrackingCache) {\n                    return cache.cacheKeyRoot.lookup(c.query, JSON.stringify(c.variables));\n                }\n            }\n        });\n        return _this;\n    }\n    InMemoryCache.prototype.restore = function (data) {\n        if (data)\n            this.data.replace(data);\n        return this;\n    };\n    InMemoryCache.prototype.extract = function (optimistic) {\n        if (optimistic === void 0) { optimistic = false; }\n        return (optimistic ? this.optimisticData : this.data).toObject();\n    };\n    InMemoryCache.prototype.read = function (options) {\n        if (typeof options.rootId === 'string' &&\n            typeof this.data.get(options.rootId) === 'undefined') {\n            return null;\n        }\n        var fragmentMatcher = this.config.fragmentMatcher;\n        var fragmentMatcherFunction = fragmentMatcher && fragmentMatcher.match;\n        return this.storeReader.readQueryFromStore({\n            store: options.optimistic ? this.optimisticData : this.data,\n            query: this.transformDocument(options.query),\n            variables: options.variables,\n            rootId: options.rootId,\n            fragmentMatcherFunction: fragmentMatcherFunction,\n            previousResult: options.previousResult,\n            config: this.config,\n        }) || null;\n    };\n    InMemoryCache.prototype.write = function (write) {\n        var fragmentMatcher = this.config.fragmentMatcher;\n        var fragmentMatcherFunction = fragmentMatcher && fragmentMatcher.match;\n        this.storeWriter.writeResultToStore({\n            dataId: write.dataId,\n            result: write.result,\n            variables: write.variables,\n            document: this.transformDocument(write.query),\n            store: this.data,\n            dataIdFromObject: this.config.dataIdFromObject,\n            fragmentMatcherFunction: fragmentMatcherFunction,\n        });\n        this.broadcastWatches();\n    };\n    InMemoryCache.prototype.diff = function (query) {\n        var fragmentMatcher = this.config.fragmentMatcher;\n        var fragmentMatcherFunction = fragmentMatcher && fragmentMatcher.match;\n        return this.storeReader.diffQueryAgainstStore({\n            store: query.optimistic ? this.optimisticData : this.data,\n            query: this.transformDocument(query.query),\n            variables: query.variables,\n            returnPartialData: query.returnPartialData,\n            previousResult: query.previousResult,\n            fragmentMatcherFunction: fragmentMatcherFunction,\n            config: this.config,\n        });\n    };\n    InMemoryCache.prototype.watch = function (watch) {\n        var _this = this;\n        this.watches.add(watch);\n        return function () {\n            _this.watches.delete(watch);\n        };\n    };\n    InMemoryCache.prototype.evict = function (query) {\n        throw process.env.NODE_ENV === \"production\" ? new InvariantError(1) : new InvariantError(\"eviction is not implemented on InMemory Cache\");\n    };\n    InMemoryCache.prototype.reset = function () {\n        this.data.clear();\n        this.broadcastWatches();\n        return Promise.resolve();\n    };\n    InMemoryCache.prototype.removeOptimistic = function (idToRemove) {\n        var toReapply = [];\n        var removedCount = 0;\n        var layer = this.optimisticData;\n        while (layer instanceof OptimisticCacheLayer) {\n            if (layer.optimisticId === idToRemove) {\n                ++removedCount;\n            }\n            else {\n                toReapply.push(layer);\n            }\n            layer = layer.parent;\n        }\n        if (removedCount > 0) {\n            this.optimisticData = layer;\n            while (toReapply.length > 0) {\n                var layer_1 = toReapply.pop();\n                this.performTransaction(layer_1.transaction, layer_1.optimisticId);\n            }\n            this.broadcastWatches();\n        }\n    };\n    InMemoryCache.prototype.performTransaction = function (transaction, optimisticId) {\n        var _a = this, data = _a.data, silenceBroadcast = _a.silenceBroadcast;\n        this.silenceBroadcast = true;\n        if (typeof optimisticId === 'string') {\n            this.data = this.optimisticData = new OptimisticCacheLayer(optimisticId, this.optimisticData, transaction);\n        }\n        try {\n            transaction(this);\n        }\n        finally {\n            this.silenceBroadcast = silenceBroadcast;\n            this.data = data;\n        }\n        this.broadcastWatches();\n    };\n    InMemoryCache.prototype.recordOptimisticTransaction = function (transaction, id) {\n        return this.performTransaction(transaction, id);\n    };\n    InMemoryCache.prototype.transformDocument = function (document) {\n        if (this.addTypename) {\n            var result = this.typenameDocumentCache.get(document);\n            if (!result) {\n                result = addTypenameToDocument(document);\n                this.typenameDocumentCache.set(document, result);\n                this.typenameDocumentCache.set(result, result);\n            }\n            return result;\n        }\n        return document;\n    };\n    InMemoryCache.prototype.broadcastWatches = function () {\n        var _this = this;\n        if (!this.silenceBroadcast) {\n            this.watches.forEach(function (c) { return _this.maybeBroadcastWatch(c); });\n        }\n    };\n    InMemoryCache.prototype.maybeBroadcastWatch = function (c) {\n        c.callback(this.diff({\n            query: c.query,\n            variables: c.variables,\n            previousResult: c.previousResult && c.previousResult(),\n            optimistic: c.optimistic,\n        }));\n    };\n    return InMemoryCache;\n}(ApolloCache));\n\nexport { HeuristicFragmentMatcher, InMemoryCache, IntrospectionFragmentMatcher, ObjectCache, StoreReader, StoreWriter, WriteError, assertIdValue, defaultDataIdFromObject, defaultNormalizedCacheFactory$1 as defaultNormalizedCacheFactory, enhanceErrorWithDocument };\n//# sourceMappingURL=bundle.esm.js.map\n","/**\n * Produces the value of a block string from its parsed raw value, similar to\n * CoffeeScript's block string, Python's docstring trim or Ruby's strip_heredoc.\n *\n * This implements the GraphQL spec's BlockStringValue() static algorithm.\n *\n * @internal\n */\nexport function dedentBlockStringValue(rawString) {\n  // Expand a block string's raw value into independent lines.\n  var lines = rawString.split(/\\r\\n|[\\n\\r]/g); // Remove common indentation from all lines but first.\n\n  var commonIndent = getBlockStringIndentation(lines);\n\n  if (commonIndent !== 0) {\n    for (var i = 1; i < lines.length; i++) {\n      lines[i] = lines[i].slice(commonIndent);\n    }\n  } // Remove leading and trailing blank lines.\n\n\n  while (lines.length > 0 && isBlank(lines[0])) {\n    lines.shift();\n  }\n\n  while (lines.length > 0 && isBlank(lines[lines.length - 1])) {\n    lines.pop();\n  } // Return a string of the lines joined with U+000A.\n\n\n  return lines.join('\\n');\n}\n/**\n * @internal\n */\n\nexport function getBlockStringIndentation(lines) {\n  var commonIndent = null;\n\n  for (var i = 1; i < lines.length; i++) {\n    var line = lines[i];\n    var indent = leadingWhitespace(line);\n\n    if (indent === line.length) {\n      continue; // skip empty lines\n    }\n\n    if (commonIndent === null || indent < commonIndent) {\n      commonIndent = indent;\n\n      if (commonIndent === 0) {\n        break;\n      }\n    }\n  }\n\n  return commonIndent === null ? 0 : commonIndent;\n}\n\nfunction leadingWhitespace(str) {\n  var i = 0;\n\n  while (i < str.length && (str[i] === ' ' || str[i] === '\\t')) {\n    i++;\n  }\n\n  return i;\n}\n\nfunction isBlank(str) {\n  return leadingWhitespace(str) === str.length;\n}\n/**\n * Print a block string in the indented block form by adding a leading and\n * trailing blank line. However, if a block string starts with whitespace and is\n * a single-line, adding a leading blank line would strip that whitespace.\n *\n * @internal\n */\n\n\nexport function printBlockString(value) {\n  var indentation = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : '';\n  var preferMultipleLines = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n  var isSingleLine = value.indexOf('\\n') === -1;\n  var hasLeadingSpace = value[0] === ' ' || value[0] === '\\t';\n  var hasTrailingQuote = value[value.length - 1] === '\"';\n  var printAsMultipleLines = !isSingleLine || hasTrailingQuote || preferMultipleLines;\n  var result = ''; // Format a multi-line block quote to account for leading space.\n\n  if (printAsMultipleLines && !(isSingleLine && hasLeadingSpace)) {\n    result += '\\n' + indentation;\n  }\n\n  result += indentation ? value.replace(/\\n/g, '\\n' + indentation) : value;\n\n  if (printAsMultipleLines) {\n    result += '\\n';\n  }\n\n  return '\"\"\"' + result.replace(/\"\"\"/g, '\\\\\"\"\"') + '\"\"\"';\n}\n","import { visit } from \"./visitor.mjs\";\nimport { printBlockString } from \"./blockString.mjs\";\n/**\n * Converts an AST into a string, using one set of reasonable\n * formatting rules.\n */\n\nexport function print(ast) {\n  return visit(ast, {\n    leave: printDocASTReducer\n  });\n} // TODO: provide better type coverage in future\n\nvar printDocASTReducer = {\n  Name: function Name(node) {\n    return node.value;\n  },\n  Variable: function Variable(node) {\n    return '$' + node.name;\n  },\n  // Document\n  Document: function Document(node) {\n    return join(node.definitions, '\\n\\n') + '\\n';\n  },\n  OperationDefinition: function OperationDefinition(node) {\n    var op = node.operation;\n    var name = node.name;\n    var varDefs = wrap('(', join(node.variableDefinitions, ', '), ')');\n    var directives = join(node.directives, ' ');\n    var selectionSet = node.selectionSet; // Anonymous queries with no directives or variable definitions can use\n    // the query short form.\n\n    return !name && !directives && !varDefs && op === 'query' ? selectionSet : join([op, join([name, varDefs]), directives, selectionSet], ' ');\n  },\n  VariableDefinition: function VariableDefinition(_ref) {\n    var variable = _ref.variable,\n        type = _ref.type,\n        defaultValue = _ref.defaultValue,\n        directives = _ref.directives;\n    return variable + ': ' + type + wrap(' = ', defaultValue) + wrap(' ', join(directives, ' '));\n  },\n  SelectionSet: function SelectionSet(_ref2) {\n    var selections = _ref2.selections;\n    return block(selections);\n  },\n  Field: function Field(_ref3) {\n    var alias = _ref3.alias,\n        name = _ref3.name,\n        args = _ref3.arguments,\n        directives = _ref3.directives,\n        selectionSet = _ref3.selectionSet;\n    return join([wrap('', alias, ': ') + name + wrap('(', join(args, ', '), ')'), join(directives, ' '), selectionSet], ' ');\n  },\n  Argument: function Argument(_ref4) {\n    var name = _ref4.name,\n        value = _ref4.value;\n    return name + ': ' + value;\n  },\n  // Fragments\n  FragmentSpread: function FragmentSpread(_ref5) {\n    var name = _ref5.name,\n        directives = _ref5.directives;\n    return '...' + name + wrap(' ', join(directives, ' '));\n  },\n  InlineFragment: function InlineFragment(_ref6) {\n    var typeCondition = _ref6.typeCondition,\n        directives = _ref6.directives,\n        selectionSet = _ref6.selectionSet;\n    return join(['...', wrap('on ', typeCondition), join(directives, ' '), selectionSet], ' ');\n  },\n  FragmentDefinition: function FragmentDefinition(_ref7) {\n    var name = _ref7.name,\n        typeCondition = _ref7.typeCondition,\n        variableDefinitions = _ref7.variableDefinitions,\n        directives = _ref7.directives,\n        selectionSet = _ref7.selectionSet;\n    return (// Note: fragment variable definitions are experimental and may be changed\n      // or removed in the future.\n      \"fragment \".concat(name).concat(wrap('(', join(variableDefinitions, ', '), ')'), \" \") + \"on \".concat(typeCondition, \" \").concat(wrap('', join(directives, ' '), ' ')) + selectionSet\n    );\n  },\n  // Value\n  IntValue: function IntValue(_ref8) {\n    var value = _ref8.value;\n    return value;\n  },\n  FloatValue: function FloatValue(_ref9) {\n    var value = _ref9.value;\n    return value;\n  },\n  StringValue: function StringValue(_ref10, key) {\n    var value = _ref10.value,\n        isBlockString = _ref10.block;\n    return isBlockString ? printBlockString(value, key === 'description' ? '' : '  ') : JSON.stringify(value);\n  },\n  BooleanValue: function BooleanValue(_ref11) {\n    var value = _ref11.value;\n    return value ? 'true' : 'false';\n  },\n  NullValue: function NullValue() {\n    return 'null';\n  },\n  EnumValue: function EnumValue(_ref12) {\n    var value = _ref12.value;\n    return value;\n  },\n  ListValue: function ListValue(_ref13) {\n    var values = _ref13.values;\n    return '[' + join(values, ', ') + ']';\n  },\n  ObjectValue: function ObjectValue(_ref14) {\n    var fields = _ref14.fields;\n    return '{' + join(fields, ', ') + '}';\n  },\n  ObjectField: function ObjectField(_ref15) {\n    var name = _ref15.name,\n        value = _ref15.value;\n    return name + ': ' + value;\n  },\n  // Directive\n  Directive: function Directive(_ref16) {\n    var name = _ref16.name,\n        args = _ref16.arguments;\n    return '@' + name + wrap('(', join(args, ', '), ')');\n  },\n  // Type\n  NamedType: function NamedType(_ref17) {\n    var name = _ref17.name;\n    return name;\n  },\n  ListType: function ListType(_ref18) {\n    var type = _ref18.type;\n    return '[' + type + ']';\n  },\n  NonNullType: function NonNullType(_ref19) {\n    var type = _ref19.type;\n    return type + '!';\n  },\n  // Type System Definitions\n  SchemaDefinition: addDescription(function (_ref20) {\n    var directives = _ref20.directives,\n        operationTypes = _ref20.operationTypes;\n    return join(['schema', join(directives, ' '), block(operationTypes)], ' ');\n  }),\n  OperationTypeDefinition: function OperationTypeDefinition(_ref21) {\n    var operation = _ref21.operation,\n        type = _ref21.type;\n    return operation + ': ' + type;\n  },\n  ScalarTypeDefinition: addDescription(function (_ref22) {\n    var name = _ref22.name,\n        directives = _ref22.directives;\n    return join(['scalar', name, join(directives, ' ')], ' ');\n  }),\n  ObjectTypeDefinition: addDescription(function (_ref23) {\n    var name = _ref23.name,\n        interfaces = _ref23.interfaces,\n        directives = _ref23.directives,\n        fields = _ref23.fields;\n    return join(['type', name, wrap('implements ', join(interfaces, ' & ')), join(directives, ' '), block(fields)], ' ');\n  }),\n  FieldDefinition: addDescription(function (_ref24) {\n    var name = _ref24.name,\n        args = _ref24.arguments,\n        type = _ref24.type,\n        directives = _ref24.directives;\n    return name + (hasMultilineItems(args) ? wrap('(\\n', indent(join(args, '\\n')), '\\n)') : wrap('(', join(args, ', '), ')')) + ': ' + type + wrap(' ', join(directives, ' '));\n  }),\n  InputValueDefinition: addDescription(function (_ref25) {\n    var name = _ref25.name,\n        type = _ref25.type,\n        defaultValue = _ref25.defaultValue,\n        directives = _ref25.directives;\n    return join([name + ': ' + type, wrap('= ', defaultValue), join(directives, ' ')], ' ');\n  }),\n  InterfaceTypeDefinition: addDescription(function (_ref26) {\n    var name = _ref26.name,\n        interfaces = _ref26.interfaces,\n        directives = _ref26.directives,\n        fields = _ref26.fields;\n    return join(['interface', name, wrap('implements ', join(interfaces, ' & ')), join(directives, ' '), block(fields)], ' ');\n  }),\n  UnionTypeDefinition: addDescription(function (_ref27) {\n    var name = _ref27.name,\n        directives = _ref27.directives,\n        types = _ref27.types;\n    return join(['union', name, join(directives, ' '), types && types.length !== 0 ? '= ' + join(types, ' | ') : ''], ' ');\n  }),\n  EnumTypeDefinition: addDescription(function (_ref28) {\n    var name = _ref28.name,\n        directives = _ref28.directives,\n        values = _ref28.values;\n    return join(['enum', name, join(directives, ' '), block(values)], ' ');\n  }),\n  EnumValueDefinition: addDescription(function (_ref29) {\n    var name = _ref29.name,\n        directives = _ref29.directives;\n    return join([name, join(directives, ' ')], ' ');\n  }),\n  InputObjectTypeDefinition: addDescription(function (_ref30) {\n    var name = _ref30.name,\n        directives = _ref30.directives,\n        fields = _ref30.fields;\n    return join(['input', name, join(directives, ' '), block(fields)], ' ');\n  }),\n  DirectiveDefinition: addDescription(function (_ref31) {\n    var name = _ref31.name,\n        args = _ref31.arguments,\n        repeatable = _ref31.repeatable,\n        locations = _ref31.locations;\n    return 'directive @' + name + (hasMultilineItems(args) ? wrap('(\\n', indent(join(args, '\\n')), '\\n)') : wrap('(', join(args, ', '), ')')) + (repeatable ? ' repeatable' : '') + ' on ' + join(locations, ' | ');\n  }),\n  SchemaExtension: function SchemaExtension(_ref32) {\n    var directives = _ref32.directives,\n        operationTypes = _ref32.operationTypes;\n    return join(['extend schema', join(directives, ' '), block(operationTypes)], ' ');\n  },\n  ScalarTypeExtension: function ScalarTypeExtension(_ref33) {\n    var name = _ref33.name,\n        directives = _ref33.directives;\n    return join(['extend scalar', name, join(directives, ' ')], ' ');\n  },\n  ObjectTypeExtension: function ObjectTypeExtension(_ref34) {\n    var name = _ref34.name,\n        interfaces = _ref34.interfaces,\n        directives = _ref34.directives,\n        fields = _ref34.fields;\n    return join(['extend type', name, wrap('implements ', join(interfaces, ' & ')), join(directives, ' '), block(fields)], ' ');\n  },\n  InterfaceTypeExtension: function InterfaceTypeExtension(_ref35) {\n    var name = _ref35.name,\n        interfaces = _ref35.interfaces,\n        directives = _ref35.directives,\n        fields = _ref35.fields;\n    return join(['extend interface', name, wrap('implements ', join(interfaces, ' & ')), join(directives, ' '), block(fields)], ' ');\n  },\n  UnionTypeExtension: function UnionTypeExtension(_ref36) {\n    var name = _ref36.name,\n        directives = _ref36.directives,\n        types = _ref36.types;\n    return join(['extend union', name, join(directives, ' '), types && types.length !== 0 ? '= ' + join(types, ' | ') : ''], ' ');\n  },\n  EnumTypeExtension: function EnumTypeExtension(_ref37) {\n    var name = _ref37.name,\n        directives = _ref37.directives,\n        values = _ref37.values;\n    return join(['extend enum', name, join(directives, ' '), block(values)], ' ');\n  },\n  InputObjectTypeExtension: function InputObjectTypeExtension(_ref38) {\n    var name = _ref38.name,\n        directives = _ref38.directives,\n        fields = _ref38.fields;\n    return join(['extend input', name, join(directives, ' '), block(fields)], ' ');\n  }\n};\n\nfunction addDescription(cb) {\n  return function (node) {\n    return join([node.description, cb(node)], '\\n');\n  };\n}\n/**\n * Given maybeArray, print an empty string if it is null or empty, otherwise\n * print all items together separated by separator if provided\n */\n\n\nfunction join(maybeArray) {\n  var _maybeArray$filter$jo;\n\n  var separator = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : '';\n  return (_maybeArray$filter$jo = maybeArray === null || maybeArray === void 0 ? void 0 : maybeArray.filter(function (x) {\n    return x;\n  }).join(separator)) !== null && _maybeArray$filter$jo !== void 0 ? _maybeArray$filter$jo : '';\n}\n/**\n * Given array, print each item on its own line, wrapped in an\n * indented \"{ }\" block.\n */\n\n\nfunction block(array) {\n  return array && array.length !== 0 ? '{\\n' + indent(join(array, '\\n')) + '\\n}' : '';\n}\n/**\n * If maybeString is not null or empty, then wrap with start and end, otherwise\n * print an empty string.\n */\n\n\nfunction wrap(start, maybeString) {\n  var end = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : '';\n  return maybeString ? start + maybeString + end : '';\n}\n\nfunction indent(maybeString) {\n  return maybeString && '  ' + maybeString.replace(/\\n/g, '\\n  ');\n}\n\nfunction isMultiline(string) {\n  return string.indexOf('\\n') !== -1;\n}\n\nfunction hasMultilineItems(maybeArray) {\n  return maybeArray && maybeArray.some(isMultiline);\n}\n","import { __assign } from 'tslib';\nimport { print } from 'graphql/language/printer';\nimport { InvariantError } from 'ts-invariant';\n\nvar defaultHttpOptions = {\n    includeQuery: true,\n    includeExtensions: false,\n};\nvar defaultHeaders = {\n    accept: '*/*',\n    'content-type': 'application/json',\n};\nvar defaultOptions = {\n    method: 'POST',\n};\nvar fallbackHttpConfig = {\n    http: defaultHttpOptions,\n    headers: defaultHeaders,\n    options: defaultOptions,\n};\nvar throwServerError = function (response, result, message) {\n    var error = new Error(message);\n    error.name = 'ServerError';\n    error.response = response;\n    error.statusCode = response.status;\n    error.result = result;\n    throw error;\n};\nvar parseAndCheckHttpResponse = function (operations) { return function (response) {\n    return (response\n        .text()\n        .then(function (bodyText) {\n        try {\n            return JSON.parse(bodyText);\n        }\n        catch (err) {\n            var parseError = err;\n            parseError.name = 'ServerParseError';\n            parseError.response = response;\n            parseError.statusCode = response.status;\n            parseError.bodyText = bodyText;\n            return Promise.reject(parseError);\n        }\n    })\n        .then(function (result) {\n        if (response.status >= 300) {\n            throwServerError(response, result, \"Response not successful: Received status code \" + response.status);\n        }\n        if (!Array.isArray(result) &&\n            !result.hasOwnProperty('data') &&\n            !result.hasOwnProperty('errors')) {\n            throwServerError(response, result, \"Server response was missing for query '\" + (Array.isArray(operations)\n                ? operations.map(function (op) { return op.operationName; })\n                : operations.operationName) + \"'.\");\n        }\n        return result;\n    }));\n}; };\nvar checkFetcher = function (fetcher) {\n    if (!fetcher && typeof fetch === 'undefined') {\n        var library = 'unfetch';\n        if (typeof window === 'undefined')\n            library = 'node-fetch';\n        throw process.env.NODE_ENV === \"production\" ? new InvariantError(1) : new InvariantError(\"\\nfetch is not found globally and no fetcher passed, to fix pass a fetch for\\nyour environment like https://www.npmjs.com/package/\" + library + \".\\n\\nFor example:\\nimport fetch from '\" + library + \"';\\nimport { createHttpLink } from 'apollo-link-http';\\n\\nconst link = createHttpLink({ uri: '/graphql', fetch: fetch });\");\n    }\n};\nvar createSignalIfSupported = function () {\n    if (typeof AbortController === 'undefined')\n        return { controller: false, signal: false };\n    var controller = new AbortController();\n    var signal = controller.signal;\n    return { controller: controller, signal: signal };\n};\nvar selectHttpOptionsAndBody = function (operation, fallbackConfig) {\n    var configs = [];\n    for (var _i = 2; _i < arguments.length; _i++) {\n        configs[_i - 2] = arguments[_i];\n    }\n    var options = __assign({}, fallbackConfig.options, { headers: fallbackConfig.headers, credentials: fallbackConfig.credentials });\n    var http = fallbackConfig.http;\n    configs.forEach(function (config) {\n        options = __assign({}, options, config.options, { headers: __assign({}, options.headers, config.headers) });\n        if (config.credentials)\n            options.credentials = config.credentials;\n        http = __assign({}, http, config.http);\n    });\n    var operationName = operation.operationName, extensions = operation.extensions, variables = operation.variables, query = operation.query;\n    var body = { operationName: operationName, variables: variables };\n    if (http.includeExtensions)\n        body.extensions = extensions;\n    if (http.includeQuery)\n        body.query = print(query);\n    return {\n        options: options,\n        body: body,\n    };\n};\nvar serializeFetchParameter = function (p, label) {\n    var serialized;\n    try {\n        serialized = JSON.stringify(p);\n    }\n    catch (e) {\n        var parseError = process.env.NODE_ENV === \"production\" ? new InvariantError(2) : new InvariantError(\"Network request failed. \" + label + \" is not serializable: \" + e.message);\n        parseError.parseError = e;\n        throw parseError;\n    }\n    return serialized;\n};\nvar selectURI = function (operation, fallbackURI) {\n    var context = operation.getContext();\n    var contextURI = context.uri;\n    if (contextURI) {\n        return contextURI;\n    }\n    else if (typeof fallbackURI === 'function') {\n        return fallbackURI(operation);\n    }\n    else {\n        return fallbackURI || '/graphql';\n    }\n};\n\nexport { checkFetcher, createSignalIfSupported, fallbackHttpConfig, parseAndCheckHttpResponse, selectHttpOptionsAndBody, selectURI, serializeFetchParameter, throwServerError };\n//# sourceMappingURL=bundle.esm.js.map\n","import { __rest, __assign, __extends } from 'tslib';\nimport { ApolloLink, fromError, Observable } from 'apollo-link';\nimport { checkFetcher, selectURI, selectHttpOptionsAndBody, fallbackHttpConfig, createSignalIfSupported, serializeFetchParameter, parseAndCheckHttpResponse } from 'apollo-link-http-common';\n\nvar createHttpLink = function (linkOptions) {\n    if (linkOptions === void 0) { linkOptions = {}; }\n    var _a = linkOptions.uri, uri = _a === void 0 ? '/graphql' : _a, fetcher = linkOptions.fetch, includeExtensions = linkOptions.includeExtensions, useGETForQueries = linkOptions.useGETForQueries, requestOptions = __rest(linkOptions, [\"uri\", \"fetch\", \"includeExtensions\", \"useGETForQueries\"]);\n    checkFetcher(fetcher);\n    if (!fetcher) {\n        fetcher = fetch;\n    }\n    var linkConfig = {\n        http: { includeExtensions: includeExtensions },\n        options: requestOptions.fetchOptions,\n        credentials: requestOptions.credentials,\n        headers: requestOptions.headers,\n    };\n    return new ApolloLink(function (operation) {\n        var chosenURI = selectURI(operation, uri);\n        var context = operation.getContext();\n        var clientAwarenessHeaders = {};\n        if (context.clientAwareness) {\n            var _a = context.clientAwareness, name_1 = _a.name, version = _a.version;\n            if (name_1) {\n                clientAwarenessHeaders['apollographql-client-name'] = name_1;\n            }\n            if (version) {\n                clientAwarenessHeaders['apollographql-client-version'] = version;\n            }\n        }\n        var contextHeaders = __assign({}, clientAwarenessHeaders, context.headers);\n        var contextConfig = {\n            http: context.http,\n            options: context.fetchOptions,\n            credentials: context.credentials,\n            headers: contextHeaders,\n        };\n        var _b = selectHttpOptionsAndBody(operation, fallbackHttpConfig, linkConfig, contextConfig), options = _b.options, body = _b.body;\n        var controller;\n        if (!options.signal) {\n            var _c = createSignalIfSupported(), _controller = _c.controller, signal = _c.signal;\n            controller = _controller;\n            if (controller)\n                options.signal = signal;\n        }\n        var definitionIsMutation = function (d) {\n            return d.kind === 'OperationDefinition' && d.operation === 'mutation';\n        };\n        if (useGETForQueries &&\n            !operation.query.definitions.some(definitionIsMutation)) {\n            options.method = 'GET';\n        }\n        if (options.method === 'GET') {\n            var _d = rewriteURIForGET(chosenURI, body), newURI = _d.newURI, parseError = _d.parseError;\n            if (parseError) {\n                return fromError(parseError);\n            }\n            chosenURI = newURI;\n        }\n        else {\n            try {\n                options.body = serializeFetchParameter(body, 'Payload');\n            }\n            catch (parseError) {\n                return fromError(parseError);\n            }\n        }\n        return new Observable(function (observer) {\n            fetcher(chosenURI, options)\n                .then(function (response) {\n                operation.setContext({ response: response });\n                return response;\n            })\n                .then(parseAndCheckHttpResponse(operation))\n                .then(function (result) {\n                observer.next(result);\n                observer.complete();\n                return result;\n            })\n                .catch(function (err) {\n                if (err.name === 'AbortError')\n                    return;\n                if (err.result && err.result.errors && err.result.data) {\n                    observer.next(err.result);\n                }\n                observer.error(err);\n            });\n            return function () {\n                if (controller)\n                    controller.abort();\n            };\n        });\n    });\n};\nfunction rewriteURIForGET(chosenURI, body) {\n    var queryParams = [];\n    var addQueryParam = function (key, value) {\n        queryParams.push(key + \"=\" + encodeURIComponent(value));\n    };\n    if ('query' in body) {\n        addQueryParam('query', body.query);\n    }\n    if (body.operationName) {\n        addQueryParam('operationName', body.operationName);\n    }\n    if (body.variables) {\n        var serializedVariables = void 0;\n        try {\n            serializedVariables = serializeFetchParameter(body.variables, 'Variables map');\n        }\n        catch (parseError) {\n            return { parseError: parseError };\n        }\n        addQueryParam('variables', serializedVariables);\n    }\n    if (body.extensions) {\n        var serializedExtensions = void 0;\n        try {\n            serializedExtensions = serializeFetchParameter(body.extensions, 'Extensions map');\n        }\n        catch (parseError) {\n            return { parseError: parseError };\n        }\n        addQueryParam('extensions', serializedExtensions);\n    }\n    var fragment = '', preFragment = chosenURI;\n    var fragmentStart = chosenURI.indexOf('#');\n    if (fragmentStart !== -1) {\n        fragment = chosenURI.substr(fragmentStart);\n        preFragment = chosenURI.substr(0, fragmentStart);\n    }\n    var queryParamsPrefix = preFragment.indexOf('?') === -1 ? '?' : '&';\n    var newURI = preFragment + queryParamsPrefix + queryParams.join('&') + fragment;\n    return { newURI: newURI };\n}\nvar HttpLink = (function (_super) {\n    __extends(HttpLink, _super);\n    function HttpLink(opts) {\n        return _super.call(this, createHttpLink(opts).request) || this;\n    }\n    return HttpLink;\n}(ApolloLink));\n\nexport { HttpLink, createHttpLink };\n//# sourceMappingURL=bundle.esm.js.map\n","import { __extends } from 'tslib';\nimport { ApolloLink, Observable } from 'apollo-link';\n\nfunction onError(errorHandler) {\n    return new ApolloLink(function (operation, forward) {\n        return new Observable(function (observer) {\n            var sub;\n            var retriedSub;\n            var retriedResult;\n            try {\n                sub = forward(operation).subscribe({\n                    next: function (result) {\n                        if (result.errors) {\n                            retriedResult = errorHandler({\n                                graphQLErrors: result.errors,\n                                response: result,\n                                operation: operation,\n                                forward: forward,\n                            });\n                            if (retriedResult) {\n                                retriedSub = retriedResult.subscribe({\n                                    next: observer.next.bind(observer),\n                                    error: observer.error.bind(observer),\n                                    complete: observer.complete.bind(observer),\n                                });\n                                return;\n                            }\n                        }\n                        observer.next(result);\n                    },\n                    error: function (networkError) {\n                        retriedResult = errorHandler({\n                            operation: operation,\n                            networkError: networkError,\n                            graphQLErrors: networkError &&\n                                networkError.result &&\n                                networkError.result.errors,\n                            forward: forward,\n                        });\n                        if (retriedResult) {\n                            retriedSub = retriedResult.subscribe({\n                                next: observer.next.bind(observer),\n                                error: observer.error.bind(observer),\n                                complete: observer.complete.bind(observer),\n                            });\n                            return;\n                        }\n                        observer.error(networkError);\n                    },\n                    complete: function () {\n                        if (!retriedResult) {\n                            observer.complete.bind(observer)();\n                        }\n                    },\n                });\n            }\n            catch (e) {\n                errorHandler({ networkError: e, operation: operation, forward: forward });\n                observer.error(e);\n            }\n            return function () {\n                if (sub)\n                    sub.unsubscribe();\n                if (retriedSub)\n                    sub.unsubscribe();\n            };\n        });\n    });\n}\nvar ErrorLink = (function (_super) {\n    __extends(ErrorLink, _super);\n    function ErrorLink(errorHandler) {\n        var _this = _super.call(this) || this;\n        _this.link = onError(errorHandler);\n        return _this;\n    }\n    ErrorLink.prototype.request = function (operation, forward) {\n        return this.link.request(operation, forward);\n    };\n    return ErrorLink;\n}(ApolloLink));\n\nexport { ErrorLink, onError };\n//# sourceMappingURL=bundle.esm.js.map\n","export default function devAssert(condition, message) {\n  var booleanCondition = Boolean(condition);\n  /* istanbul ignore else (see transformation done in './resources/inlineInvariant.js') */\n\n  if (!booleanCondition) {\n    throw new Error(message);\n  }\n}\n","function _typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\n/**\n * Return true if `value` is object-like. A value is object-like if it's not\n * `null` and has a `typeof` result of \"object\".\n */\nexport default function isObjectLike(value) {\n  return _typeof(value) == 'object' && value !== null;\n}\n","// In ES2015 (or a polyfilled) environment, this will be Symbol.iterator\n\n/* istanbul ignore next (See: https://github.com/graphql/graphql-js/issues/2317) */\nexport var SYMBOL_ITERATOR = typeof Symbol === 'function' ? Symbol.iterator : '@@iterator'; // In ES2017 (or a polyfilled) environment, this will be Symbol.asyncIterator\n\n/* istanbul ignore next (See: https://github.com/graphql/graphql-js/issues/2317) */\n\nexport var SYMBOL_ASYNC_ITERATOR = // $FlowFixMe Flow doesn't define `Symbol.asyncIterator` yet\ntypeof Symbol === 'function' ? Symbol.asyncIterator : '@@asyncIterator';\n/* istanbul ignore next (See: https://github.com/graphql/graphql-js/issues/2317) */\n\nexport var SYMBOL_TO_STRING_TAG = // $FlowFixMe Flow doesn't define `Symbol.toStringTag` yet\ntypeof Symbol === 'function' ? Symbol.toStringTag : '@@toStringTag';\n","/**\n * Represents a location in a Source.\n */\n\n/**\n * Takes a Source and a UTF-8 character offset, and returns the corresponding\n * line and column as a SourceLocation.\n */\nexport function getLocation(source, position) {\n  var lineRegexp = /\\r\\n|[\\n\\r]/g;\n  var line = 1;\n  var column = position + 1;\n  var match;\n\n  while ((match = lineRegexp.exec(source.body)) && match.index < position) {\n    line += 1;\n    column = position + 1 - (match.index + match[0].length);\n  }\n\n  return {\n    line: line,\n    column: column\n  };\n}\n","import { getLocation } from \"./location.mjs\";\n/**\n * Render a helpful description of the location in the GraphQL Source document.\n */\n\nexport function printLocation(location) {\n  return printSourceLocation(location.source, getLocation(location.source, location.start));\n}\n/**\n * Render a helpful description of the location in the GraphQL Source document.\n */\n\nexport function printSourceLocation(source, sourceLocation) {\n  var firstLineColumnOffset = source.locationOffset.column - 1;\n  var body = whitespace(firstLineColumnOffset) + source.body;\n  var lineIndex = sourceLocation.line - 1;\n  var lineOffset = source.locationOffset.line - 1;\n  var lineNum = sourceLocation.line + lineOffset;\n  var columnOffset = sourceLocation.line === 1 ? firstLineColumnOffset : 0;\n  var columnNum = sourceLocation.column + columnOffset;\n  var locationStr = \"\".concat(source.name, \":\").concat(lineNum, \":\").concat(columnNum, \"\\n\");\n  var lines = body.split(/\\r\\n|[\\n\\r]/g);\n  var locationLine = lines[lineIndex]; // Special case for minified documents\n\n  if (locationLine.length > 120) {\n    var subLineIndex = Math.floor(columnNum / 80);\n    var subLineColumnNum = columnNum % 80;\n    var subLines = [];\n\n    for (var i = 0; i < locationLine.length; i += 80) {\n      subLines.push(locationLine.slice(i, i + 80));\n    }\n\n    return locationStr + printPrefixedLines([[\"\".concat(lineNum), subLines[0]]].concat(subLines.slice(1, subLineIndex + 1).map(function (subLine) {\n      return ['', subLine];\n    }), [[' ', whitespace(subLineColumnNum - 1) + '^'], ['', subLines[subLineIndex + 1]]]));\n  }\n\n  return locationStr + printPrefixedLines([// Lines specified like this: [\"prefix\", \"string\"],\n  [\"\".concat(lineNum - 1), lines[lineIndex - 1]], [\"\".concat(lineNum), locationLine], ['', whitespace(columnNum - 1) + '^'], [\"\".concat(lineNum + 1), lines[lineIndex + 1]]]);\n}\n\nfunction printPrefixedLines(lines) {\n  var existingLines = lines.filter(function (_ref) {\n    var _ = _ref[0],\n        line = _ref[1];\n    return line !== undefined;\n  });\n  var padLen = Math.max.apply(Math, existingLines.map(function (_ref2) {\n    var prefix = _ref2[0];\n    return prefix.length;\n  }));\n  return existingLines.map(function (_ref3) {\n    var prefix = _ref3[0],\n        line = _ref3[1];\n    return leftPad(padLen, prefix) + (line ? ' | ' + line : ' |');\n  }).join('\\n');\n}\n\nfunction whitespace(len) {\n  return Array(len + 1).join(' ');\n}\n\nfunction leftPad(len, str) {\n  return whitespace(len - str.length) + str;\n}\n","function _typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _createSuper(Derived) { return function () { var Super = _getPrototypeOf(Derived), result; if (_isNativeReflectConstruct()) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _wrapNativeSuper(Class) { var _cache = typeof Map === \"function\" ? new Map() : undefined; _wrapNativeSuper = function _wrapNativeSuper(Class) { if (Class === null || !_isNativeFunction(Class)) return Class; if (typeof Class !== \"function\") { throw new TypeError(\"Super expression must either be null or a function\"); } if (typeof _cache !== \"undefined\") { if (_cache.has(Class)) return _cache.get(Class); _cache.set(Class, Wrapper); } function Wrapper() { return _construct(Class, arguments, _getPrototypeOf(this).constructor); } Wrapper.prototype = Object.create(Class.prototype, { constructor: { value: Wrapper, enumerable: false, writable: true, configurable: true } }); return _setPrototypeOf(Wrapper, Class); }; return _wrapNativeSuper(Class); }\n\nfunction _construct(Parent, args, Class) { if (_isNativeReflectConstruct()) { _construct = Reflect.construct; } else { _construct = function _construct(Parent, args, Class) { var a = [null]; a.push.apply(a, args); var Constructor = Function.bind.apply(Parent, a); var instance = new Constructor(); if (Class) _setPrototypeOf(instance, Class.prototype); return instance; }; } return _construct.apply(null, arguments); }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nfunction _isNativeFunction(fn) { return Function.toString.call(fn).indexOf(\"[native code]\") !== -1; }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\n// FIXME:\n// flowlint uninitialized-instance-property:off\nimport isObjectLike from \"../jsutils/isObjectLike.mjs\";\nimport { SYMBOL_TO_STRING_TAG } from \"../polyfills/symbols.mjs\";\nimport { getLocation } from \"../language/location.mjs\";\nimport { printLocation, printSourceLocation } from \"../language/printLocation.mjs\";\n/**\n * A GraphQLError describes an Error found during the parse, validate, or\n * execute phases of performing a GraphQL operation. In addition to a message\n * and stack trace, it also includes information about the locations in a\n * GraphQL document and/or execution result that correspond to the Error.\n */\n\nexport var GraphQLError = /*#__PURE__*/function (_Error) {\n  _inherits(GraphQLError, _Error);\n\n  var _super = _createSuper(GraphQLError);\n\n  /**\n   * A message describing the Error for debugging purposes.\n   *\n   * Enumerable, and appears in the result of JSON.stringify().\n   *\n   * Note: should be treated as readonly, despite invariant usage.\n   */\n\n  /**\n   * An array of { line, column } locations within the source GraphQL document\n   * which correspond to this error.\n   *\n   * Errors during validation often contain multiple locations, for example to\n   * point out two things with the same name. Errors during execution include a\n   * single location, the field which produced the error.\n   *\n   * Enumerable, and appears in the result of JSON.stringify().\n   */\n\n  /**\n   * An array describing the JSON-path into the execution response which\n   * corresponds to this error. Only included for errors during execution.\n   *\n   * Enumerable, and appears in the result of JSON.stringify().\n   */\n\n  /**\n   * An array of GraphQL AST Nodes corresponding to this error.\n   */\n\n  /**\n   * The source GraphQL document for the first location of this error.\n   *\n   * Note that if this Error represents more than one node, the source may not\n   * represent nodes after the first node.\n   */\n\n  /**\n   * An array of character offsets within the source GraphQL document\n   * which correspond to this error.\n   */\n\n  /**\n   * The original error thrown from a field resolver during execution.\n   */\n\n  /**\n   * Extension fields to add to the formatted error.\n   */\n  function GraphQLError(message, nodes, source, positions, path, originalError, extensions) {\n    var _locations2, _source2, _positions2, _extensions2;\n\n    var _this;\n\n    _classCallCheck(this, GraphQLError);\n\n    _this = _super.call(this, message); // Compute list of blame nodes.\n\n    var _nodes = Array.isArray(nodes) ? nodes.length !== 0 ? nodes : undefined : nodes ? [nodes] : undefined; // Compute locations in the source for the given nodes/positions.\n\n\n    var _source = source;\n\n    if (!_source && _nodes) {\n      var _nodes$0$loc;\n\n      _source = (_nodes$0$loc = _nodes[0].loc) === null || _nodes$0$loc === void 0 ? void 0 : _nodes$0$loc.source;\n    }\n\n    var _positions = positions;\n\n    if (!_positions && _nodes) {\n      _positions = _nodes.reduce(function (list, node) {\n        if (node.loc) {\n          list.push(node.loc.start);\n        }\n\n        return list;\n      }, []);\n    }\n\n    if (_positions && _positions.length === 0) {\n      _positions = undefined;\n    }\n\n    var _locations;\n\n    if (positions && source) {\n      _locations = positions.map(function (pos) {\n        return getLocation(source, pos);\n      });\n    } else if (_nodes) {\n      _locations = _nodes.reduce(function (list, node) {\n        if (node.loc) {\n          list.push(getLocation(node.loc.source, node.loc.start));\n        }\n\n        return list;\n      }, []);\n    }\n\n    var _extensions = extensions;\n\n    if (_extensions == null && originalError != null) {\n      var originalExtensions = originalError.extensions;\n\n      if (isObjectLike(originalExtensions)) {\n        _extensions = originalExtensions;\n      }\n    }\n\n    Object.defineProperties(_assertThisInitialized(_this), {\n      name: {\n        value: 'GraphQLError'\n      },\n      message: {\n        value: message,\n        // By being enumerable, JSON.stringify will include `message` in the\n        // resulting output. This ensures that the simplest possible GraphQL\n        // service adheres to the spec.\n        enumerable: true,\n        writable: true\n      },\n      locations: {\n        // Coercing falsy values to undefined ensures they will not be included\n        // in JSON.stringify() when not provided.\n        value: (_locations2 = _locations) !== null && _locations2 !== void 0 ? _locations2 : undefined,\n        // By being enumerable, JSON.stringify will include `locations` in the\n        // resulting output. This ensures that the simplest possible GraphQL\n        // service adheres to the spec.\n        enumerable: _locations != null\n      },\n      path: {\n        // Coercing falsy values to undefined ensures they will not be included\n        // in JSON.stringify() when not provided.\n        value: path !== null && path !== void 0 ? path : undefined,\n        // By being enumerable, JSON.stringify will include `path` in the\n        // resulting output. This ensures that the simplest possible GraphQL\n        // service adheres to the spec.\n        enumerable: path != null\n      },\n      nodes: {\n        value: _nodes !== null && _nodes !== void 0 ? _nodes : undefined\n      },\n      source: {\n        value: (_source2 = _source) !== null && _source2 !== void 0 ? _source2 : undefined\n      },\n      positions: {\n        value: (_positions2 = _positions) !== null && _positions2 !== void 0 ? _positions2 : undefined\n      },\n      originalError: {\n        value: originalError\n      },\n      extensions: {\n        // Coercing falsy values to undefined ensures they will not be included\n        // in JSON.stringify() when not provided.\n        value: (_extensions2 = _extensions) !== null && _extensions2 !== void 0 ? _extensions2 : undefined,\n        // By being enumerable, JSON.stringify will include `path` in the\n        // resulting output. This ensures that the simplest possible GraphQL\n        // service adheres to the spec.\n        enumerable: _extensions != null\n      }\n    }); // Include (non-enumerable) stack trace.\n\n    if (originalError === null || originalError === void 0 ? void 0 : originalError.stack) {\n      Object.defineProperty(_assertThisInitialized(_this), 'stack', {\n        value: originalError.stack,\n        writable: true,\n        configurable: true\n      });\n      return _possibleConstructorReturn(_this);\n    }\n    /* istanbul ignore next (See: https://github.com/graphql/graphql-js/issues/2317) */\n\n\n    if (Error.captureStackTrace) {\n      Error.captureStackTrace(_assertThisInitialized(_this), GraphQLError);\n    } else {\n      Object.defineProperty(_assertThisInitialized(_this), 'stack', {\n        value: Error().stack,\n        writable: true,\n        configurable: true\n      });\n    }\n\n    return _this;\n  }\n\n  _createClass(GraphQLError, [{\n    key: \"toString\",\n    value: function toString() {\n      return printError(this);\n    } // FIXME: workaround to not break chai comparisons, should be remove in v16\n    // $FlowFixMe Flow doesn't support computed properties yet\n\n  }, {\n    key: SYMBOL_TO_STRING_TAG,\n    get: function get() {\n      return 'Object';\n    }\n  }]);\n\n  return GraphQLError;\n}( /*#__PURE__*/_wrapNativeSuper(Error));\n/**\n * Prints a GraphQLError to a string, representing useful location information\n * about the error's position in the source.\n */\n\nexport function printError(error) {\n  var output = error.message;\n\n  if (error.nodes) {\n    for (var _i2 = 0, _error$nodes2 = error.nodes; _i2 < _error$nodes2.length; _i2++) {\n      var node = _error$nodes2[_i2];\n\n      if (node.loc) {\n        output += '\\n\\n' + printLocation(node.loc);\n      }\n    }\n  } else if (error.source && error.locations) {\n    for (var _i4 = 0, _error$locations2 = error.locations; _i4 < _error$locations2.length; _i4++) {\n      var location = _error$locations2[_i4];\n      output += '\\n\\n' + printSourceLocation(error.source, location);\n    }\n  }\n\n  return output;\n}\n","import { GraphQLError } from \"./GraphQLError.mjs\";\n/**\n * Produces a GraphQLError representing a syntax error, containing useful\n * descriptive information about the syntax error's position in the source.\n */\n\nexport function syntaxError(source, position, description) {\n  return new GraphQLError(\"Syntax Error: \".concat(description), undefined, source, [position]);\n}\n","/**\n * The set of allowed kind values for AST nodes.\n */\nexport var Kind = Object.freeze({\n  // Name\n  NAME: 'Name',\n  // Document\n  DOCUMENT: 'Document',\n  OPERATION_DEFINITION: 'OperationDefinition',\n  VARIABLE_DEFINITION: 'VariableDefinition',\n  SELECTION_SET: 'SelectionSet',\n  FIELD: 'Field',\n  ARGUMENT: 'Argument',\n  // Fragments\n  FRAGMENT_SPREAD: 'FragmentSpread',\n  INLINE_FRAGMENT: 'InlineFragment',\n  FRAGMENT_DEFINITION: 'FragmentDefinition',\n  // Values\n  VARIABLE: 'Variable',\n  INT: 'IntValue',\n  FLOAT: 'FloatValue',\n  STRING: 'StringValue',\n  BOOLEAN: 'BooleanValue',\n  NULL: 'NullValue',\n  ENUM: 'EnumValue',\n  LIST: 'ListValue',\n  OBJECT: 'ObjectValue',\n  OBJECT_FIELD: 'ObjectField',\n  // Directives\n  DIRECTIVE: 'Directive',\n  // Types\n  NAMED_TYPE: 'NamedType',\n  LIST_TYPE: 'ListType',\n  NON_NULL_TYPE: 'NonNullType',\n  // Type System Definitions\n  SCHEMA_DEFINITION: 'SchemaDefinition',\n  OPERATION_TYPE_DEFINITION: 'OperationTypeDefinition',\n  // Type Definitions\n  SCALAR_TYPE_DEFINITION: 'ScalarTypeDefinition',\n  OBJECT_TYPE_DEFINITION: 'ObjectTypeDefinition',\n  FIELD_DEFINITION: 'FieldDefinition',\n  INPUT_VALUE_DEFINITION: 'InputValueDefinition',\n  INTERFACE_TYPE_DEFINITION: 'InterfaceTypeDefinition',\n  UNION_TYPE_DEFINITION: 'UnionTypeDefinition',\n  ENUM_TYPE_DEFINITION: 'EnumTypeDefinition',\n  ENUM_VALUE_DEFINITION: 'EnumValueDefinition',\n  INPUT_OBJECT_TYPE_DEFINITION: 'InputObjectTypeDefinition',\n  // Directive Definitions\n  DIRECTIVE_DEFINITION: 'DirectiveDefinition',\n  // Type System Extensions\n  SCHEMA_EXTENSION: 'SchemaExtension',\n  // Type Extensions\n  SCALAR_TYPE_EXTENSION: 'ScalarTypeExtension',\n  OBJECT_TYPE_EXTENSION: 'ObjectTypeExtension',\n  INTERFACE_TYPE_EXTENSION: 'InterfaceTypeExtension',\n  UNION_TYPE_EXTENSION: 'UnionTypeExtension',\n  ENUM_TYPE_EXTENSION: 'EnumTypeExtension',\n  INPUT_OBJECT_TYPE_EXTENSION: 'InputObjectTypeExtension'\n});\n/**\n * The enum type representing the possible kind values of AST nodes.\n */\n","function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nimport { SYMBOL_TO_STRING_TAG } from \"../polyfills/symbols.mjs\";\nimport devAssert from \"../jsutils/devAssert.mjs\";\n\n/**\n * A representation of source input to GraphQL.\n * `name` and `locationOffset` are optional. They are useful for clients who\n * store GraphQL documents in source files; for example, if the GraphQL input\n * starts at line 40 in a file named Foo.graphql, it might be useful for name to\n * be \"Foo.graphql\" and location to be `{ line: 40, column: 0 }`.\n * line and column in locationOffset are 1-indexed\n */\nexport var Source = /*#__PURE__*/function () {\n  function Source(body) {\n    var name = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 'GraphQL request';\n    var locationOffset = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {\n      line: 1,\n      column: 1\n    };\n    this.body = body;\n    this.name = name;\n    this.locationOffset = locationOffset;\n    this.locationOffset.line > 0 || devAssert(0, 'line in locationOffset is 1-indexed and must be positive.');\n    this.locationOffset.column > 0 || devAssert(0, 'column in locationOffset is 1-indexed and must be positive.');\n  } // $FlowFixMe Flow doesn't support computed properties yet\n\n\n  _createClass(Source, [{\n    key: SYMBOL_TO_STRING_TAG,\n    get: function get() {\n      return 'Source';\n    }\n  }]);\n\n  return Source;\n}();\n","/**\n * The set of allowed directive location values.\n */\nexport var DirectiveLocation = Object.freeze({\n  // Request Definitions\n  QUERY: 'QUERY',\n  MUTATION: 'MUTATION',\n  SUBSCRIPTION: 'SUBSCRIPTION',\n  FIELD: 'FIELD',\n  FRAGMENT_DEFINITION: 'FRAGMENT_DEFINITION',\n  FRAGMENT_SPREAD: 'FRAGMENT_SPREAD',\n  INLINE_FRAGMENT: 'INLINE_FRAGMENT',\n  VARIABLE_DEFINITION: 'VARIABLE_DEFINITION',\n  // Type System Definitions\n  SCHEMA: 'SCHEMA',\n  SCALAR: 'SCALAR',\n  OBJECT: 'OBJECT',\n  FIELD_DEFINITION: 'FIELD_DEFINITION',\n  ARGUMENT_DEFINITION: 'ARGUMENT_DEFINITION',\n  INTERFACE: 'INTERFACE',\n  UNION: 'UNION',\n  ENUM: 'ENUM',\n  ENUM_VALUE: 'ENUM_VALUE',\n  INPUT_OBJECT: 'INPUT_OBJECT',\n  INPUT_FIELD_DEFINITION: 'INPUT_FIELD_DEFINITION'\n});\n/**\n * The enum type representing the directive location values.\n */\n","/**\n * An exported enum describing the different kinds of tokens that the\n * lexer emits.\n */\nexport var TokenKind = Object.freeze({\n  SOF: '<SOF>',\n  EOF: '<EOF>',\n  BANG: '!',\n  DOLLAR: '$',\n  AMP: '&',\n  PAREN_L: '(',\n  PAREN_R: ')',\n  SPREAD: '...',\n  COLON: ':',\n  EQUALS: '=',\n  AT: '@',\n  BRACKET_L: '[',\n  BRACKET_R: ']',\n  BRACE_L: '{',\n  PIPE: '|',\n  BRACE_R: '}',\n  NAME: 'Name',\n  INT: 'Int',\n  FLOAT: 'Float',\n  STRING: 'String',\n  BLOCK_STRING: 'BlockString',\n  COMMENT: 'Comment'\n});\n/**\n * The enum type representing the token kinds values.\n */\n","import { syntaxError } from \"../error/syntaxError.mjs\";\nimport { Token } from \"./ast.mjs\";\nimport { dedentBlockStringValue } from \"./blockString.mjs\";\nimport { TokenKind } from \"./tokenKind.mjs\";\n/**\n * Given a Source object, creates a Lexer for that source.\n * A Lexer is a stateful stream generator in that every time\n * it is advanced, it returns the next token in the Source. Assuming the\n * source lexes, the final Token emitted by the lexer will be of kind\n * EOF, after which the lexer will repeatedly return the same EOF token\n * whenever called.\n */\n\nexport var Lexer = /*#__PURE__*/function () {\n  /**\n   * The previously focused non-ignored token.\n   */\n\n  /**\n   * The currently focused non-ignored token.\n   */\n\n  /**\n   * The (1-indexed) line containing the current token.\n   */\n\n  /**\n   * The character offset at which the current line begins.\n   */\n  function Lexer(source) {\n    var startOfFileToken = new Token(TokenKind.SOF, 0, 0, 0, 0, null);\n    this.source = source;\n    this.lastToken = startOfFileToken;\n    this.token = startOfFileToken;\n    this.line = 1;\n    this.lineStart = 0;\n  }\n  /**\n   * Advances the token stream to the next non-ignored token.\n   */\n\n\n  var _proto = Lexer.prototype;\n\n  _proto.advance = function advance() {\n    this.lastToken = this.token;\n    var token = this.token = this.lookahead();\n    return token;\n  }\n  /**\n   * Looks ahead and returns the next non-ignored token, but does not change\n   * the state of Lexer.\n   */\n  ;\n\n  _proto.lookahead = function lookahead() {\n    var token = this.token;\n\n    if (token.kind !== TokenKind.EOF) {\n      do {\n        var _token$next;\n\n        // Note: next is only mutable during parsing, so we cast to allow this.\n        token = (_token$next = token.next) !== null && _token$next !== void 0 ? _token$next : token.next = readToken(this, token);\n      } while (token.kind === TokenKind.COMMENT);\n    }\n\n    return token;\n  };\n\n  return Lexer;\n}();\n/**\n * @internal\n */\n\nexport function isPunctuatorTokenKind(kind) {\n  return kind === TokenKind.BANG || kind === TokenKind.DOLLAR || kind === TokenKind.AMP || kind === TokenKind.PAREN_L || kind === TokenKind.PAREN_R || kind === TokenKind.SPREAD || kind === TokenKind.COLON || kind === TokenKind.EQUALS || kind === TokenKind.AT || kind === TokenKind.BRACKET_L || kind === TokenKind.BRACKET_R || kind === TokenKind.BRACE_L || kind === TokenKind.PIPE || kind === TokenKind.BRACE_R;\n}\n\nfunction printCharCode(code) {\n  return (// NaN/undefined represents access beyond the end of the file.\n    isNaN(code) ? TokenKind.EOF : // Trust JSON for ASCII.\n    code < 0x007f ? JSON.stringify(String.fromCharCode(code)) : // Otherwise print the escaped form.\n    \"\\\"\\\\u\".concat(('00' + code.toString(16).toUpperCase()).slice(-4), \"\\\"\")\n  );\n}\n/**\n * Gets the next token from the source starting at the given position.\n *\n * This skips over whitespace until it finds the next lexable token, then lexes\n * punctuators immediately or calls the appropriate helper function for more\n * complicated tokens.\n */\n\n\nfunction readToken(lexer, prev) {\n  var source = lexer.source;\n  var body = source.body;\n  var bodyLength = body.length;\n  var pos = positionAfterWhitespace(body, prev.end, lexer);\n  var line = lexer.line;\n  var col = 1 + pos - lexer.lineStart;\n\n  if (pos >= bodyLength) {\n    return new Token(TokenKind.EOF, bodyLength, bodyLength, line, col, prev);\n  }\n\n  var code = body.charCodeAt(pos); // SourceCharacter\n\n  switch (code) {\n    // !\n    case 33:\n      return new Token(TokenKind.BANG, pos, pos + 1, line, col, prev);\n    // #\n\n    case 35:\n      return readComment(source, pos, line, col, prev);\n    // $\n\n    case 36:\n      return new Token(TokenKind.DOLLAR, pos, pos + 1, line, col, prev);\n    // &\n\n    case 38:\n      return new Token(TokenKind.AMP, pos, pos + 1, line, col, prev);\n    // (\n\n    case 40:\n      return new Token(TokenKind.PAREN_L, pos, pos + 1, line, col, prev);\n    // )\n\n    case 41:\n      return new Token(TokenKind.PAREN_R, pos, pos + 1, line, col, prev);\n    // .\n\n    case 46:\n      if (body.charCodeAt(pos + 1) === 46 && body.charCodeAt(pos + 2) === 46) {\n        return new Token(TokenKind.SPREAD, pos, pos + 3, line, col, prev);\n      }\n\n      break;\n    // :\n\n    case 58:\n      return new Token(TokenKind.COLON, pos, pos + 1, line, col, prev);\n    // =\n\n    case 61:\n      return new Token(TokenKind.EQUALS, pos, pos + 1, line, col, prev);\n    // @\n\n    case 64:\n      return new Token(TokenKind.AT, pos, pos + 1, line, col, prev);\n    // [\n\n    case 91:\n      return new Token(TokenKind.BRACKET_L, pos, pos + 1, line, col, prev);\n    // ]\n\n    case 93:\n      return new Token(TokenKind.BRACKET_R, pos, pos + 1, line, col, prev);\n    // {\n\n    case 123:\n      return new Token(TokenKind.BRACE_L, pos, pos + 1, line, col, prev);\n    // |\n\n    case 124:\n      return new Token(TokenKind.PIPE, pos, pos + 1, line, col, prev);\n    // }\n\n    case 125:\n      return new Token(TokenKind.BRACE_R, pos, pos + 1, line, col, prev);\n    // A-Z _ a-z\n\n    case 65:\n    case 66:\n    case 67:\n    case 68:\n    case 69:\n    case 70:\n    case 71:\n    case 72:\n    case 73:\n    case 74:\n    case 75:\n    case 76:\n    case 77:\n    case 78:\n    case 79:\n    case 80:\n    case 81:\n    case 82:\n    case 83:\n    case 84:\n    case 85:\n    case 86:\n    case 87:\n    case 88:\n    case 89:\n    case 90:\n    case 95:\n    case 97:\n    case 98:\n    case 99:\n    case 100:\n    case 101:\n    case 102:\n    case 103:\n    case 104:\n    case 105:\n    case 106:\n    case 107:\n    case 108:\n    case 109:\n    case 110:\n    case 111:\n    case 112:\n    case 113:\n    case 114:\n    case 115:\n    case 116:\n    case 117:\n    case 118:\n    case 119:\n    case 120:\n    case 121:\n    case 122:\n      return readName(source, pos, line, col, prev);\n    // - 0-9\n\n    case 45:\n    case 48:\n    case 49:\n    case 50:\n    case 51:\n    case 52:\n    case 53:\n    case 54:\n    case 55:\n    case 56:\n    case 57:\n      return readNumber(source, pos, code, line, col, prev);\n    // \"\n\n    case 34:\n      if (body.charCodeAt(pos + 1) === 34 && body.charCodeAt(pos + 2) === 34) {\n        return readBlockString(source, pos, line, col, prev, lexer);\n      }\n\n      return readString(source, pos, line, col, prev);\n  }\n\n  throw syntaxError(source, pos, unexpectedCharacterMessage(code));\n}\n/**\n * Report a message that an unexpected character was encountered.\n */\n\n\nfunction unexpectedCharacterMessage(code) {\n  if (code < 0x0020 && code !== 0x0009 && code !== 0x000a && code !== 0x000d) {\n    return \"Cannot contain the invalid character \".concat(printCharCode(code), \".\");\n  }\n\n  if (code === 39) {\n    // '\n    return 'Unexpected single quote character (\\'), did you mean to use a double quote (\")?';\n  }\n\n  return \"Cannot parse the unexpected character \".concat(printCharCode(code), \".\");\n}\n/**\n * Reads from body starting at startPosition until it finds a non-whitespace\n * character, then returns the position of that character for lexing.\n */\n\n\nfunction positionAfterWhitespace(body, startPosition, lexer) {\n  var bodyLength = body.length;\n  var position = startPosition;\n\n  while (position < bodyLength) {\n    var code = body.charCodeAt(position); // tab | space | comma | BOM\n\n    if (code === 9 || code === 32 || code === 44 || code === 0xfeff) {\n      ++position;\n    } else if (code === 10) {\n      // new line\n      ++position;\n      ++lexer.line;\n      lexer.lineStart = position;\n    } else if (code === 13) {\n      // carriage return\n      if (body.charCodeAt(position + 1) === 10) {\n        position += 2;\n      } else {\n        ++position;\n      }\n\n      ++lexer.line;\n      lexer.lineStart = position;\n    } else {\n      break;\n    }\n  }\n\n  return position;\n}\n/**\n * Reads a comment token from the source file.\n *\n * #[\\u0009\\u0020-\\uFFFF]*\n */\n\n\nfunction readComment(source, start, line, col, prev) {\n  var body = source.body;\n  var code;\n  var position = start;\n\n  do {\n    code = body.charCodeAt(++position);\n  } while (!isNaN(code) && ( // SourceCharacter but not LineTerminator\n  code > 0x001f || code === 0x0009));\n\n  return new Token(TokenKind.COMMENT, start, position, line, col, prev, body.slice(start + 1, position));\n}\n/**\n * Reads a number token from the source file, either a float\n * or an int depending on whether a decimal point appears.\n *\n * Int:   -?(0|[1-9][0-9]*)\n * Float: -?(0|[1-9][0-9]*)(\\.[0-9]+)?((E|e)(+|-)?[0-9]+)?\n */\n\n\nfunction readNumber(source, start, firstCode, line, col, prev) {\n  var body = source.body;\n  var code = firstCode;\n  var position = start;\n  var isFloat = false;\n\n  if (code === 45) {\n    // -\n    code = body.charCodeAt(++position);\n  }\n\n  if (code === 48) {\n    // 0\n    code = body.charCodeAt(++position);\n\n    if (code >= 48 && code <= 57) {\n      throw syntaxError(source, position, \"Invalid number, unexpected digit after 0: \".concat(printCharCode(code), \".\"));\n    }\n  } else {\n    position = readDigits(source, position, code);\n    code = body.charCodeAt(position);\n  }\n\n  if (code === 46) {\n    // .\n    isFloat = true;\n    code = body.charCodeAt(++position);\n    position = readDigits(source, position, code);\n    code = body.charCodeAt(position);\n  }\n\n  if (code === 69 || code === 101) {\n    // E e\n    isFloat = true;\n    code = body.charCodeAt(++position);\n\n    if (code === 43 || code === 45) {\n      // + -\n      code = body.charCodeAt(++position);\n    }\n\n    position = readDigits(source, position, code);\n    code = body.charCodeAt(position);\n  } // Numbers cannot be followed by . or NameStart\n\n\n  if (code === 46 || isNameStart(code)) {\n    throw syntaxError(source, position, \"Invalid number, expected digit but got: \".concat(printCharCode(code), \".\"));\n  }\n\n  return new Token(isFloat ? TokenKind.FLOAT : TokenKind.INT, start, position, line, col, prev, body.slice(start, position));\n}\n/**\n * Returns the new position in the source after reading digits.\n */\n\n\nfunction readDigits(source, start, firstCode) {\n  var body = source.body;\n  var position = start;\n  var code = firstCode;\n\n  if (code >= 48 && code <= 57) {\n    // 0 - 9\n    do {\n      code = body.charCodeAt(++position);\n    } while (code >= 48 && code <= 57); // 0 - 9\n\n\n    return position;\n  }\n\n  throw syntaxError(source, position, \"Invalid number, expected digit but got: \".concat(printCharCode(code), \".\"));\n}\n/**\n * Reads a string token from the source file.\n *\n * \"([^\"\\\\\\u000A\\u000D]|(\\\\(u[0-9a-fA-F]{4}|[\"\\\\/bfnrt])))*\"\n */\n\n\nfunction readString(source, start, line, col, prev) {\n  var body = source.body;\n  var position = start + 1;\n  var chunkStart = position;\n  var code = 0;\n  var value = '';\n\n  while (position < body.length && !isNaN(code = body.charCodeAt(position)) && // not LineTerminator\n  code !== 0x000a && code !== 0x000d) {\n    // Closing Quote (\")\n    if (code === 34) {\n      value += body.slice(chunkStart, position);\n      return new Token(TokenKind.STRING, start, position + 1, line, col, prev, value);\n    } // SourceCharacter\n\n\n    if (code < 0x0020 && code !== 0x0009) {\n      throw syntaxError(source, position, \"Invalid character within String: \".concat(printCharCode(code), \".\"));\n    }\n\n    ++position;\n\n    if (code === 92) {\n      // \\\n      value += body.slice(chunkStart, position - 1);\n      code = body.charCodeAt(position);\n\n      switch (code) {\n        case 34:\n          value += '\"';\n          break;\n\n        case 47:\n          value += '/';\n          break;\n\n        case 92:\n          value += '\\\\';\n          break;\n\n        case 98:\n          value += '\\b';\n          break;\n\n        case 102:\n          value += '\\f';\n          break;\n\n        case 110:\n          value += '\\n';\n          break;\n\n        case 114:\n          value += '\\r';\n          break;\n\n        case 116:\n          value += '\\t';\n          break;\n\n        case 117:\n          {\n            // uXXXX\n            var charCode = uniCharCode(body.charCodeAt(position + 1), body.charCodeAt(position + 2), body.charCodeAt(position + 3), body.charCodeAt(position + 4));\n\n            if (charCode < 0) {\n              var invalidSequence = body.slice(position + 1, position + 5);\n              throw syntaxError(source, position, \"Invalid character escape sequence: \\\\u\".concat(invalidSequence, \".\"));\n            }\n\n            value += String.fromCharCode(charCode);\n            position += 4;\n            break;\n          }\n\n        default:\n          throw syntaxError(source, position, \"Invalid character escape sequence: \\\\\".concat(String.fromCharCode(code), \".\"));\n      }\n\n      ++position;\n      chunkStart = position;\n    }\n  }\n\n  throw syntaxError(source, position, 'Unterminated string.');\n}\n/**\n * Reads a block string token from the source file.\n *\n * \"\"\"(\"?\"?(\\\\\"\"\"|\\\\(?!=\"\"\")|[^\"\\\\]))*\"\"\"\n */\n\n\nfunction readBlockString(source, start, line, col, prev, lexer) {\n  var body = source.body;\n  var position = start + 3;\n  var chunkStart = position;\n  var code = 0;\n  var rawValue = '';\n\n  while (position < body.length && !isNaN(code = body.charCodeAt(position))) {\n    // Closing Triple-Quote (\"\"\")\n    if (code === 34 && body.charCodeAt(position + 1) === 34 && body.charCodeAt(position + 2) === 34) {\n      rawValue += body.slice(chunkStart, position);\n      return new Token(TokenKind.BLOCK_STRING, start, position + 3, line, col, prev, dedentBlockStringValue(rawValue));\n    } // SourceCharacter\n\n\n    if (code < 0x0020 && code !== 0x0009 && code !== 0x000a && code !== 0x000d) {\n      throw syntaxError(source, position, \"Invalid character within String: \".concat(printCharCode(code), \".\"));\n    }\n\n    if (code === 10) {\n      // new line\n      ++position;\n      ++lexer.line;\n      lexer.lineStart = position;\n    } else if (code === 13) {\n      // carriage return\n      if (body.charCodeAt(position + 1) === 10) {\n        position += 2;\n      } else {\n        ++position;\n      }\n\n      ++lexer.line;\n      lexer.lineStart = position;\n    } else if ( // Escape Triple-Quote (\\\"\"\")\n    code === 92 && body.charCodeAt(position + 1) === 34 && body.charCodeAt(position + 2) === 34 && body.charCodeAt(position + 3) === 34) {\n      rawValue += body.slice(chunkStart, position) + '\"\"\"';\n      position += 4;\n      chunkStart = position;\n    } else {\n      ++position;\n    }\n  }\n\n  throw syntaxError(source, position, 'Unterminated string.');\n}\n/**\n * Converts four hexadecimal chars to the integer that the\n * string represents. For example, uniCharCode('0','0','0','f')\n * will return 15, and uniCharCode('0','0','f','f') returns 255.\n *\n * Returns a negative number on error, if a char was invalid.\n *\n * This is implemented by noting that char2hex() returns -1 on error,\n * which means the result of ORing the char2hex() will also be negative.\n */\n\n\nfunction uniCharCode(a, b, c, d) {\n  return char2hex(a) << 12 | char2hex(b) << 8 | char2hex(c) << 4 | char2hex(d);\n}\n/**\n * Converts a hex character to its integer value.\n * '0' becomes 0, '9' becomes 9\n * 'A' becomes 10, 'F' becomes 15\n * 'a' becomes 10, 'f' becomes 15\n *\n * Returns -1 on error.\n */\n\n\nfunction char2hex(a) {\n  return a >= 48 && a <= 57 ? a - 48 // 0-9\n  : a >= 65 && a <= 70 ? a - 55 // A-F\n  : a >= 97 && a <= 102 ? a - 87 // a-f\n  : -1;\n}\n/**\n * Reads an alphanumeric + underscore name from the source.\n *\n * [_A-Za-z][_0-9A-Za-z]*\n */\n\n\nfunction readName(source, start, line, col, prev) {\n  var body = source.body;\n  var bodyLength = body.length;\n  var position = start + 1;\n  var code = 0;\n\n  while (position !== bodyLength && !isNaN(code = body.charCodeAt(position)) && (code === 95 || // _\n  code >= 48 && code <= 57 || // 0-9\n  code >= 65 && code <= 90 || // A-Z\n  code >= 97 && code <= 122) // a-z\n  ) {\n    ++position;\n  }\n\n  return new Token(TokenKind.NAME, start, position, line, col, prev, body.slice(start, position));\n} // _ A-Z a-z\n\n\nfunction isNameStart(code) {\n  return code === 95 || code >= 65 && code <= 90 || code >= 97 && code <= 122;\n}\n","import inspect from \"../jsutils/inspect.mjs\";\nimport devAssert from \"../jsutils/devAssert.mjs\";\nimport { syntaxError } from \"../error/syntaxError.mjs\";\nimport { Kind } from \"./kinds.mjs\";\nimport { Source } from \"./source.mjs\";\nimport { DirectiveLocation } from \"./directiveLocation.mjs\";\nimport { TokenKind } from \"./tokenKind.mjs\";\nimport { Lexer, isPunctuatorTokenKind } from \"./lexer.mjs\";\nimport { Location } from \"./ast.mjs\";\n/**\n * Configuration options to control parser behavior\n */\n\n/**\n * Given a GraphQL source, parses it into a Document.\n * Throws GraphQLError if a syntax error is encountered.\n */\nexport function parse(source, options) {\n  var parser = new Parser(source, options);\n  return parser.parseDocument();\n}\n/**\n * Given a string containing a GraphQL value (ex. `[42]`), parse the AST for\n * that value.\n * Throws GraphQLError if a syntax error is encountered.\n *\n * This is useful within tools that operate upon GraphQL Values directly and\n * in isolation of complete GraphQL documents.\n *\n * Consider providing the results to the utility function: valueFromAST().\n */\n\nexport function parseValue(source, options) {\n  var parser = new Parser(source, options);\n  parser.expectToken(TokenKind.SOF);\n  var value = parser.parseValueLiteral(false);\n  parser.expectToken(TokenKind.EOF);\n  return value;\n}\n/**\n * Given a string containing a GraphQL Type (ex. `[Int!]`), parse the AST for\n * that type.\n * Throws GraphQLError if a syntax error is encountered.\n *\n * This is useful within tools that operate upon GraphQL Types directly and\n * in isolation of complete GraphQL documents.\n *\n * Consider providing the results to the utility function: typeFromAST().\n */\n\nexport function parseType(source, options) {\n  var parser = new Parser(source, options);\n  parser.expectToken(TokenKind.SOF);\n  var type = parser.parseTypeReference();\n  parser.expectToken(TokenKind.EOF);\n  return type;\n}\n\nvar Parser = /*#__PURE__*/function () {\n  function Parser(source, options) {\n    var sourceObj = typeof source === 'string' ? new Source(source) : source;\n    sourceObj instanceof Source || devAssert(0, \"Must provide Source. Received: \".concat(inspect(sourceObj), \".\"));\n    this._lexer = new Lexer(sourceObj);\n    this._options = options;\n  }\n  /**\n   * Converts a name lex token into a name parse node.\n   */\n\n\n  var _proto = Parser.prototype;\n\n  _proto.parseName = function parseName() {\n    var token = this.expectToken(TokenKind.NAME);\n    return {\n      kind: Kind.NAME,\n      value: token.value,\n      loc: this.loc(token)\n    };\n  } // Implements the parsing rules in the Document section.\n\n  /**\n   * Document : Definition+\n   */\n  ;\n\n  _proto.parseDocument = function parseDocument() {\n    var start = this._lexer.token;\n    return {\n      kind: Kind.DOCUMENT,\n      definitions: this.many(TokenKind.SOF, this.parseDefinition, TokenKind.EOF),\n      loc: this.loc(start)\n    };\n  }\n  /**\n   * Definition :\n   *   - ExecutableDefinition\n   *   - TypeSystemDefinition\n   *   - TypeSystemExtension\n   *\n   * ExecutableDefinition :\n   *   - OperationDefinition\n   *   - FragmentDefinition\n   */\n  ;\n\n  _proto.parseDefinition = function parseDefinition() {\n    if (this.peek(TokenKind.NAME)) {\n      switch (this._lexer.token.value) {\n        case 'query':\n        case 'mutation':\n        case 'subscription':\n          return this.parseOperationDefinition();\n\n        case 'fragment':\n          return this.parseFragmentDefinition();\n\n        case 'schema':\n        case 'scalar':\n        case 'type':\n        case 'interface':\n        case 'union':\n        case 'enum':\n        case 'input':\n        case 'directive':\n          return this.parseTypeSystemDefinition();\n\n        case 'extend':\n          return this.parseTypeSystemExtension();\n      }\n    } else if (this.peek(TokenKind.BRACE_L)) {\n      return this.parseOperationDefinition();\n    } else if (this.peekDescription()) {\n      return this.parseTypeSystemDefinition();\n    }\n\n    throw this.unexpected();\n  } // Implements the parsing rules in the Operations section.\n\n  /**\n   * OperationDefinition :\n   *  - SelectionSet\n   *  - OperationType Name? VariableDefinitions? Directives? SelectionSet\n   */\n  ;\n\n  _proto.parseOperationDefinition = function parseOperationDefinition() {\n    var start = this._lexer.token;\n\n    if (this.peek(TokenKind.BRACE_L)) {\n      return {\n        kind: Kind.OPERATION_DEFINITION,\n        operation: 'query',\n        name: undefined,\n        variableDefinitions: [],\n        directives: [],\n        selectionSet: this.parseSelectionSet(),\n        loc: this.loc(start)\n      };\n    }\n\n    var operation = this.parseOperationType();\n    var name;\n\n    if (this.peek(TokenKind.NAME)) {\n      name = this.parseName();\n    }\n\n    return {\n      kind: Kind.OPERATION_DEFINITION,\n      operation: operation,\n      name: name,\n      variableDefinitions: this.parseVariableDefinitions(),\n      directives: this.parseDirectives(false),\n      selectionSet: this.parseSelectionSet(),\n      loc: this.loc(start)\n    };\n  }\n  /**\n   * OperationType : one of query mutation subscription\n   */\n  ;\n\n  _proto.parseOperationType = function parseOperationType() {\n    var operationToken = this.expectToken(TokenKind.NAME);\n\n    switch (operationToken.value) {\n      case 'query':\n        return 'query';\n\n      case 'mutation':\n        return 'mutation';\n\n      case 'subscription':\n        return 'subscription';\n    }\n\n    throw this.unexpected(operationToken);\n  }\n  /**\n   * VariableDefinitions : ( VariableDefinition+ )\n   */\n  ;\n\n  _proto.parseVariableDefinitions = function parseVariableDefinitions() {\n    return this.optionalMany(TokenKind.PAREN_L, this.parseVariableDefinition, TokenKind.PAREN_R);\n  }\n  /**\n   * VariableDefinition : Variable : Type DefaultValue? Directives[Const]?\n   */\n  ;\n\n  _proto.parseVariableDefinition = function parseVariableDefinition() {\n    var start = this._lexer.token;\n    return {\n      kind: Kind.VARIABLE_DEFINITION,\n      variable: this.parseVariable(),\n      type: (this.expectToken(TokenKind.COLON), this.parseTypeReference()),\n      defaultValue: this.expectOptionalToken(TokenKind.EQUALS) ? this.parseValueLiteral(true) : undefined,\n      directives: this.parseDirectives(true),\n      loc: this.loc(start)\n    };\n  }\n  /**\n   * Variable : $ Name\n   */\n  ;\n\n  _proto.parseVariable = function parseVariable() {\n    var start = this._lexer.token;\n    this.expectToken(TokenKind.DOLLAR);\n    return {\n      kind: Kind.VARIABLE,\n      name: this.parseName(),\n      loc: this.loc(start)\n    };\n  }\n  /**\n   * SelectionSet : { Selection+ }\n   */\n  ;\n\n  _proto.parseSelectionSet = function parseSelectionSet() {\n    var start = this._lexer.token;\n    return {\n      kind: Kind.SELECTION_SET,\n      selections: this.many(TokenKind.BRACE_L, this.parseSelection, TokenKind.BRACE_R),\n      loc: this.loc(start)\n    };\n  }\n  /**\n   * Selection :\n   *   - Field\n   *   - FragmentSpread\n   *   - InlineFragment\n   */\n  ;\n\n  _proto.parseSelection = function parseSelection() {\n    return this.peek(TokenKind.SPREAD) ? this.parseFragment() : this.parseField();\n  }\n  /**\n   * Field : Alias? Name Arguments? Directives? SelectionSet?\n   *\n   * Alias : Name :\n   */\n  ;\n\n  _proto.parseField = function parseField() {\n    var start = this._lexer.token;\n    var nameOrAlias = this.parseName();\n    var alias;\n    var name;\n\n    if (this.expectOptionalToken(TokenKind.COLON)) {\n      alias = nameOrAlias;\n      name = this.parseName();\n    } else {\n      name = nameOrAlias;\n    }\n\n    return {\n      kind: Kind.FIELD,\n      alias: alias,\n      name: name,\n      arguments: this.parseArguments(false),\n      directives: this.parseDirectives(false),\n      selectionSet: this.peek(TokenKind.BRACE_L) ? this.parseSelectionSet() : undefined,\n      loc: this.loc(start)\n    };\n  }\n  /**\n   * Arguments[Const] : ( Argument[?Const]+ )\n   */\n  ;\n\n  _proto.parseArguments = function parseArguments(isConst) {\n    var item = isConst ? this.parseConstArgument : this.parseArgument;\n    return this.optionalMany(TokenKind.PAREN_L, item, TokenKind.PAREN_R);\n  }\n  /**\n   * Argument[Const] : Name : Value[?Const]\n   */\n  ;\n\n  _proto.parseArgument = function parseArgument() {\n    var start = this._lexer.token;\n    var name = this.parseName();\n    this.expectToken(TokenKind.COLON);\n    return {\n      kind: Kind.ARGUMENT,\n      name: name,\n      value: this.parseValueLiteral(false),\n      loc: this.loc(start)\n    };\n  };\n\n  _proto.parseConstArgument = function parseConstArgument() {\n    var start = this._lexer.token;\n    return {\n      kind: Kind.ARGUMENT,\n      name: this.parseName(),\n      value: (this.expectToken(TokenKind.COLON), this.parseValueLiteral(true)),\n      loc: this.loc(start)\n    };\n  } // Implements the parsing rules in the Fragments section.\n\n  /**\n   * Corresponds to both FragmentSpread and InlineFragment in the spec.\n   *\n   * FragmentSpread : ... FragmentName Directives?\n   *\n   * InlineFragment : ... TypeCondition? Directives? SelectionSet\n   */\n  ;\n\n  _proto.parseFragment = function parseFragment() {\n    var start = this._lexer.token;\n    this.expectToken(TokenKind.SPREAD);\n    var hasTypeCondition = this.expectOptionalKeyword('on');\n\n    if (!hasTypeCondition && this.peek(TokenKind.NAME)) {\n      return {\n        kind: Kind.FRAGMENT_SPREAD,\n        name: this.parseFragmentName(),\n        directives: this.parseDirectives(false),\n        loc: this.loc(start)\n      };\n    }\n\n    return {\n      kind: Kind.INLINE_FRAGMENT,\n      typeCondition: hasTypeCondition ? this.parseNamedType() : undefined,\n      directives: this.parseDirectives(false),\n      selectionSet: this.parseSelectionSet(),\n      loc: this.loc(start)\n    };\n  }\n  /**\n   * FragmentDefinition :\n   *   - fragment FragmentName on TypeCondition Directives? SelectionSet\n   *\n   * TypeCondition : NamedType\n   */\n  ;\n\n  _proto.parseFragmentDefinition = function parseFragmentDefinition() {\n    var _this$_options;\n\n    var start = this._lexer.token;\n    this.expectKeyword('fragment'); // Experimental support for defining variables within fragments changes\n    // the grammar of FragmentDefinition:\n    //   - fragment FragmentName VariableDefinitions? on TypeCondition Directives? SelectionSet\n\n    if (((_this$_options = this._options) === null || _this$_options === void 0 ? void 0 : _this$_options.experimentalFragmentVariables) === true) {\n      return {\n        kind: Kind.FRAGMENT_DEFINITION,\n        name: this.parseFragmentName(),\n        variableDefinitions: this.parseVariableDefinitions(),\n        typeCondition: (this.expectKeyword('on'), this.parseNamedType()),\n        directives: this.parseDirectives(false),\n        selectionSet: this.parseSelectionSet(),\n        loc: this.loc(start)\n      };\n    }\n\n    return {\n      kind: Kind.FRAGMENT_DEFINITION,\n      name: this.parseFragmentName(),\n      typeCondition: (this.expectKeyword('on'), this.parseNamedType()),\n      directives: this.parseDirectives(false),\n      selectionSet: this.parseSelectionSet(),\n      loc: this.loc(start)\n    };\n  }\n  /**\n   * FragmentName : Name but not `on`\n   */\n  ;\n\n  _proto.parseFragmentName = function parseFragmentName() {\n    if (this._lexer.token.value === 'on') {\n      throw this.unexpected();\n    }\n\n    return this.parseName();\n  } // Implements the parsing rules in the Values section.\n\n  /**\n   * Value[Const] :\n   *   - [~Const] Variable\n   *   - IntValue\n   *   - FloatValue\n   *   - StringValue\n   *   - BooleanValue\n   *   - NullValue\n   *   - EnumValue\n   *   - ListValue[?Const]\n   *   - ObjectValue[?Const]\n   *\n   * BooleanValue : one of `true` `false`\n   *\n   * NullValue : `null`\n   *\n   * EnumValue : Name but not `true`, `false` or `null`\n   */\n  ;\n\n  _proto.parseValueLiteral = function parseValueLiteral(isConst) {\n    var token = this._lexer.token;\n\n    switch (token.kind) {\n      case TokenKind.BRACKET_L:\n        return this.parseList(isConst);\n\n      case TokenKind.BRACE_L:\n        return this.parseObject(isConst);\n\n      case TokenKind.INT:\n        this._lexer.advance();\n\n        return {\n          kind: Kind.INT,\n          value: token.value,\n          loc: this.loc(token)\n        };\n\n      case TokenKind.FLOAT:\n        this._lexer.advance();\n\n        return {\n          kind: Kind.FLOAT,\n          value: token.value,\n          loc: this.loc(token)\n        };\n\n      case TokenKind.STRING:\n      case TokenKind.BLOCK_STRING:\n        return this.parseStringLiteral();\n\n      case TokenKind.NAME:\n        this._lexer.advance();\n\n        switch (token.value) {\n          case 'true':\n            return {\n              kind: Kind.BOOLEAN,\n              value: true,\n              loc: this.loc(token)\n            };\n\n          case 'false':\n            return {\n              kind: Kind.BOOLEAN,\n              value: false,\n              loc: this.loc(token)\n            };\n\n          case 'null':\n            return {\n              kind: Kind.NULL,\n              loc: this.loc(token)\n            };\n\n          default:\n            return {\n              kind: Kind.ENUM,\n              value: token.value,\n              loc: this.loc(token)\n            };\n        }\n\n      case TokenKind.DOLLAR:\n        if (!isConst) {\n          return this.parseVariable();\n        }\n\n        break;\n    }\n\n    throw this.unexpected();\n  };\n\n  _proto.parseStringLiteral = function parseStringLiteral() {\n    var token = this._lexer.token;\n\n    this._lexer.advance();\n\n    return {\n      kind: Kind.STRING,\n      value: token.value,\n      block: token.kind === TokenKind.BLOCK_STRING,\n      loc: this.loc(token)\n    };\n  }\n  /**\n   * ListValue[Const] :\n   *   - [ ]\n   *   - [ Value[?Const]+ ]\n   */\n  ;\n\n  _proto.parseList = function parseList(isConst) {\n    var _this = this;\n\n    var start = this._lexer.token;\n\n    var item = function item() {\n      return _this.parseValueLiteral(isConst);\n    };\n\n    return {\n      kind: Kind.LIST,\n      values: this.any(TokenKind.BRACKET_L, item, TokenKind.BRACKET_R),\n      loc: this.loc(start)\n    };\n  }\n  /**\n   * ObjectValue[Const] :\n   *   - { }\n   *   - { ObjectField[?Const]+ }\n   */\n  ;\n\n  _proto.parseObject = function parseObject(isConst) {\n    var _this2 = this;\n\n    var start = this._lexer.token;\n\n    var item = function item() {\n      return _this2.parseObjectField(isConst);\n    };\n\n    return {\n      kind: Kind.OBJECT,\n      fields: this.any(TokenKind.BRACE_L, item, TokenKind.BRACE_R),\n      loc: this.loc(start)\n    };\n  }\n  /**\n   * ObjectField[Const] : Name : Value[?Const]\n   */\n  ;\n\n  _proto.parseObjectField = function parseObjectField(isConst) {\n    var start = this._lexer.token;\n    var name = this.parseName();\n    this.expectToken(TokenKind.COLON);\n    return {\n      kind: Kind.OBJECT_FIELD,\n      name: name,\n      value: this.parseValueLiteral(isConst),\n      loc: this.loc(start)\n    };\n  } // Implements the parsing rules in the Directives section.\n\n  /**\n   * Directives[Const] : Directive[?Const]+\n   */\n  ;\n\n  _proto.parseDirectives = function parseDirectives(isConst) {\n    var directives = [];\n\n    while (this.peek(TokenKind.AT)) {\n      directives.push(this.parseDirective(isConst));\n    }\n\n    return directives;\n  }\n  /**\n   * Directive[Const] : @ Name Arguments[?Const]?\n   */\n  ;\n\n  _proto.parseDirective = function parseDirective(isConst) {\n    var start = this._lexer.token;\n    this.expectToken(TokenKind.AT);\n    return {\n      kind: Kind.DIRECTIVE,\n      name: this.parseName(),\n      arguments: this.parseArguments(isConst),\n      loc: this.loc(start)\n    };\n  } // Implements the parsing rules in the Types section.\n\n  /**\n   * Type :\n   *   - NamedType\n   *   - ListType\n   *   - NonNullType\n   */\n  ;\n\n  _proto.parseTypeReference = function parseTypeReference() {\n    var start = this._lexer.token;\n    var type;\n\n    if (this.expectOptionalToken(TokenKind.BRACKET_L)) {\n      type = this.parseTypeReference();\n      this.expectToken(TokenKind.BRACKET_R);\n      type = {\n        kind: Kind.LIST_TYPE,\n        type: type,\n        loc: this.loc(start)\n      };\n    } else {\n      type = this.parseNamedType();\n    }\n\n    if (this.expectOptionalToken(TokenKind.BANG)) {\n      return {\n        kind: Kind.NON_NULL_TYPE,\n        type: type,\n        loc: this.loc(start)\n      };\n    }\n\n    return type;\n  }\n  /**\n   * NamedType : Name\n   */\n  ;\n\n  _proto.parseNamedType = function parseNamedType() {\n    var start = this._lexer.token;\n    return {\n      kind: Kind.NAMED_TYPE,\n      name: this.parseName(),\n      loc: this.loc(start)\n    };\n  } // Implements the parsing rules in the Type Definition section.\n\n  /**\n   * TypeSystemDefinition :\n   *   - SchemaDefinition\n   *   - TypeDefinition\n   *   - DirectiveDefinition\n   *\n   * TypeDefinition :\n   *   - ScalarTypeDefinition\n   *   - ObjectTypeDefinition\n   *   - InterfaceTypeDefinition\n   *   - UnionTypeDefinition\n   *   - EnumTypeDefinition\n   *   - InputObjectTypeDefinition\n   */\n  ;\n\n  _proto.parseTypeSystemDefinition = function parseTypeSystemDefinition() {\n    // Many definitions begin with a description and require a lookahead.\n    var keywordToken = this.peekDescription() ? this._lexer.lookahead() : this._lexer.token;\n\n    if (keywordToken.kind === TokenKind.NAME) {\n      switch (keywordToken.value) {\n        case 'schema':\n          return this.parseSchemaDefinition();\n\n        case 'scalar':\n          return this.parseScalarTypeDefinition();\n\n        case 'type':\n          return this.parseObjectTypeDefinition();\n\n        case 'interface':\n          return this.parseInterfaceTypeDefinition();\n\n        case 'union':\n          return this.parseUnionTypeDefinition();\n\n        case 'enum':\n          return this.parseEnumTypeDefinition();\n\n        case 'input':\n          return this.parseInputObjectTypeDefinition();\n\n        case 'directive':\n          return this.parseDirectiveDefinition();\n      }\n    }\n\n    throw this.unexpected(keywordToken);\n  };\n\n  _proto.peekDescription = function peekDescription() {\n    return this.peek(TokenKind.STRING) || this.peek(TokenKind.BLOCK_STRING);\n  }\n  /**\n   * Description : StringValue\n   */\n  ;\n\n  _proto.parseDescription = function parseDescription() {\n    if (this.peekDescription()) {\n      return this.parseStringLiteral();\n    }\n  }\n  /**\n   * SchemaDefinition : Description? schema Directives[Const]? { OperationTypeDefinition+ }\n   */\n  ;\n\n  _proto.parseSchemaDefinition = function parseSchemaDefinition() {\n    var start = this._lexer.token;\n    var description = this.parseDescription();\n    this.expectKeyword('schema');\n    var directives = this.parseDirectives(true);\n    var operationTypes = this.many(TokenKind.BRACE_L, this.parseOperationTypeDefinition, TokenKind.BRACE_R);\n    return {\n      kind: Kind.SCHEMA_DEFINITION,\n      description: description,\n      directives: directives,\n      operationTypes: operationTypes,\n      loc: this.loc(start)\n    };\n  }\n  /**\n   * OperationTypeDefinition : OperationType : NamedType\n   */\n  ;\n\n  _proto.parseOperationTypeDefinition = function parseOperationTypeDefinition() {\n    var start = this._lexer.token;\n    var operation = this.parseOperationType();\n    this.expectToken(TokenKind.COLON);\n    var type = this.parseNamedType();\n    return {\n      kind: Kind.OPERATION_TYPE_DEFINITION,\n      operation: operation,\n      type: type,\n      loc: this.loc(start)\n    };\n  }\n  /**\n   * ScalarTypeDefinition : Description? scalar Name Directives[Const]?\n   */\n  ;\n\n  _proto.parseScalarTypeDefinition = function parseScalarTypeDefinition() {\n    var start = this._lexer.token;\n    var description = this.parseDescription();\n    this.expectKeyword('scalar');\n    var name = this.parseName();\n    var directives = this.parseDirectives(true);\n    return {\n      kind: Kind.SCALAR_TYPE_DEFINITION,\n      description: description,\n      name: name,\n      directives: directives,\n      loc: this.loc(start)\n    };\n  }\n  /**\n   * ObjectTypeDefinition :\n   *   Description?\n   *   type Name ImplementsInterfaces? Directives[Const]? FieldsDefinition?\n   */\n  ;\n\n  _proto.parseObjectTypeDefinition = function parseObjectTypeDefinition() {\n    var start = this._lexer.token;\n    var description = this.parseDescription();\n    this.expectKeyword('type');\n    var name = this.parseName();\n    var interfaces = this.parseImplementsInterfaces();\n    var directives = this.parseDirectives(true);\n    var fields = this.parseFieldsDefinition();\n    return {\n      kind: Kind.OBJECT_TYPE_DEFINITION,\n      description: description,\n      name: name,\n      interfaces: interfaces,\n      directives: directives,\n      fields: fields,\n      loc: this.loc(start)\n    };\n  }\n  /**\n   * ImplementsInterfaces :\n   *   - implements `&`? NamedType\n   *   - ImplementsInterfaces & NamedType\n   */\n  ;\n\n  _proto.parseImplementsInterfaces = function parseImplementsInterfaces() {\n    var types = [];\n\n    if (this.expectOptionalKeyword('implements')) {\n      // Optional leading ampersand\n      this.expectOptionalToken(TokenKind.AMP);\n\n      do {\n        var _this$_options2;\n\n        types.push(this.parseNamedType());\n      } while (this.expectOptionalToken(TokenKind.AMP) || // Legacy support for the SDL?\n      ((_this$_options2 = this._options) === null || _this$_options2 === void 0 ? void 0 : _this$_options2.allowLegacySDLImplementsInterfaces) === true && this.peek(TokenKind.NAME));\n    }\n\n    return types;\n  }\n  /**\n   * FieldsDefinition : { FieldDefinition+ }\n   */\n  ;\n\n  _proto.parseFieldsDefinition = function parseFieldsDefinition() {\n    var _this$_options3;\n\n    // Legacy support for the SDL?\n    if (((_this$_options3 = this._options) === null || _this$_options3 === void 0 ? void 0 : _this$_options3.allowLegacySDLEmptyFields) === true && this.peek(TokenKind.BRACE_L) && this._lexer.lookahead().kind === TokenKind.BRACE_R) {\n      this._lexer.advance();\n\n      this._lexer.advance();\n\n      return [];\n    }\n\n    return this.optionalMany(TokenKind.BRACE_L, this.parseFieldDefinition, TokenKind.BRACE_R);\n  }\n  /**\n   * FieldDefinition :\n   *   - Description? Name ArgumentsDefinition? : Type Directives[Const]?\n   */\n  ;\n\n  _proto.parseFieldDefinition = function parseFieldDefinition() {\n    var start = this._lexer.token;\n    var description = this.parseDescription();\n    var name = this.parseName();\n    var args = this.parseArgumentDefs();\n    this.expectToken(TokenKind.COLON);\n    var type = this.parseTypeReference();\n    var directives = this.parseDirectives(true);\n    return {\n      kind: Kind.FIELD_DEFINITION,\n      description: description,\n      name: name,\n      arguments: args,\n      type: type,\n      directives: directives,\n      loc: this.loc(start)\n    };\n  }\n  /**\n   * ArgumentsDefinition : ( InputValueDefinition+ )\n   */\n  ;\n\n  _proto.parseArgumentDefs = function parseArgumentDefs() {\n    return this.optionalMany(TokenKind.PAREN_L, this.parseInputValueDef, TokenKind.PAREN_R);\n  }\n  /**\n   * InputValueDefinition :\n   *   - Description? Name : Type DefaultValue? Directives[Const]?\n   */\n  ;\n\n  _proto.parseInputValueDef = function parseInputValueDef() {\n    var start = this._lexer.token;\n    var description = this.parseDescription();\n    var name = this.parseName();\n    this.expectToken(TokenKind.COLON);\n    var type = this.parseTypeReference();\n    var defaultValue;\n\n    if (this.expectOptionalToken(TokenKind.EQUALS)) {\n      defaultValue = this.parseValueLiteral(true);\n    }\n\n    var directives = this.parseDirectives(true);\n    return {\n      kind: Kind.INPUT_VALUE_DEFINITION,\n      description: description,\n      name: name,\n      type: type,\n      defaultValue: defaultValue,\n      directives: directives,\n      loc: this.loc(start)\n    };\n  }\n  /**\n   * InterfaceTypeDefinition :\n   *   - Description? interface Name Directives[Const]? FieldsDefinition?\n   */\n  ;\n\n  _proto.parseInterfaceTypeDefinition = function parseInterfaceTypeDefinition() {\n    var start = this._lexer.token;\n    var description = this.parseDescription();\n    this.expectKeyword('interface');\n    var name = this.parseName();\n    var interfaces = this.parseImplementsInterfaces();\n    var directives = this.parseDirectives(true);\n    var fields = this.parseFieldsDefinition();\n    return {\n      kind: Kind.INTERFACE_TYPE_DEFINITION,\n      description: description,\n      name: name,\n      interfaces: interfaces,\n      directives: directives,\n      fields: fields,\n      loc: this.loc(start)\n    };\n  }\n  /**\n   * UnionTypeDefinition :\n   *   - Description? union Name Directives[Const]? UnionMemberTypes?\n   */\n  ;\n\n  _proto.parseUnionTypeDefinition = function parseUnionTypeDefinition() {\n    var start = this._lexer.token;\n    var description = this.parseDescription();\n    this.expectKeyword('union');\n    var name = this.parseName();\n    var directives = this.parseDirectives(true);\n    var types = this.parseUnionMemberTypes();\n    return {\n      kind: Kind.UNION_TYPE_DEFINITION,\n      description: description,\n      name: name,\n      directives: directives,\n      types: types,\n      loc: this.loc(start)\n    };\n  }\n  /**\n   * UnionMemberTypes :\n   *   - = `|`? NamedType\n   *   - UnionMemberTypes | NamedType\n   */\n  ;\n\n  _proto.parseUnionMemberTypes = function parseUnionMemberTypes() {\n    var types = [];\n\n    if (this.expectOptionalToken(TokenKind.EQUALS)) {\n      // Optional leading pipe\n      this.expectOptionalToken(TokenKind.PIPE);\n\n      do {\n        types.push(this.parseNamedType());\n      } while (this.expectOptionalToken(TokenKind.PIPE));\n    }\n\n    return types;\n  }\n  /**\n   * EnumTypeDefinition :\n   *   - Description? enum Name Directives[Const]? EnumValuesDefinition?\n   */\n  ;\n\n  _proto.parseEnumTypeDefinition = function parseEnumTypeDefinition() {\n    var start = this._lexer.token;\n    var description = this.parseDescription();\n    this.expectKeyword('enum');\n    var name = this.parseName();\n    var directives = this.parseDirectives(true);\n    var values = this.parseEnumValuesDefinition();\n    return {\n      kind: Kind.ENUM_TYPE_DEFINITION,\n      description: description,\n      name: name,\n      directives: directives,\n      values: values,\n      loc: this.loc(start)\n    };\n  }\n  /**\n   * EnumValuesDefinition : { EnumValueDefinition+ }\n   */\n  ;\n\n  _proto.parseEnumValuesDefinition = function parseEnumValuesDefinition() {\n    return this.optionalMany(TokenKind.BRACE_L, this.parseEnumValueDefinition, TokenKind.BRACE_R);\n  }\n  /**\n   * EnumValueDefinition : Description? EnumValue Directives[Const]?\n   *\n   * EnumValue : Name\n   */\n  ;\n\n  _proto.parseEnumValueDefinition = function parseEnumValueDefinition() {\n    var start = this._lexer.token;\n    var description = this.parseDescription();\n    var name = this.parseName();\n    var directives = this.parseDirectives(true);\n    return {\n      kind: Kind.ENUM_VALUE_DEFINITION,\n      description: description,\n      name: name,\n      directives: directives,\n      loc: this.loc(start)\n    };\n  }\n  /**\n   * InputObjectTypeDefinition :\n   *   - Description? input Name Directives[Const]? InputFieldsDefinition?\n   */\n  ;\n\n  _proto.parseInputObjectTypeDefinition = function parseInputObjectTypeDefinition() {\n    var start = this._lexer.token;\n    var description = this.parseDescription();\n    this.expectKeyword('input');\n    var name = this.parseName();\n    var directives = this.parseDirectives(true);\n    var fields = this.parseInputFieldsDefinition();\n    return {\n      kind: Kind.INPUT_OBJECT_TYPE_DEFINITION,\n      description: description,\n      name: name,\n      directives: directives,\n      fields: fields,\n      loc: this.loc(start)\n    };\n  }\n  /**\n   * InputFieldsDefinition : { InputValueDefinition+ }\n   */\n  ;\n\n  _proto.parseInputFieldsDefinition = function parseInputFieldsDefinition() {\n    return this.optionalMany(TokenKind.BRACE_L, this.parseInputValueDef, TokenKind.BRACE_R);\n  }\n  /**\n   * TypeSystemExtension :\n   *   - SchemaExtension\n   *   - TypeExtension\n   *\n   * TypeExtension :\n   *   - ScalarTypeExtension\n   *   - ObjectTypeExtension\n   *   - InterfaceTypeExtension\n   *   - UnionTypeExtension\n   *   - EnumTypeExtension\n   *   - InputObjectTypeDefinition\n   */\n  ;\n\n  _proto.parseTypeSystemExtension = function parseTypeSystemExtension() {\n    var keywordToken = this._lexer.lookahead();\n\n    if (keywordToken.kind === TokenKind.NAME) {\n      switch (keywordToken.value) {\n        case 'schema':\n          return this.parseSchemaExtension();\n\n        case 'scalar':\n          return this.parseScalarTypeExtension();\n\n        case 'type':\n          return this.parseObjectTypeExtension();\n\n        case 'interface':\n          return this.parseInterfaceTypeExtension();\n\n        case 'union':\n          return this.parseUnionTypeExtension();\n\n        case 'enum':\n          return this.parseEnumTypeExtension();\n\n        case 'input':\n          return this.parseInputObjectTypeExtension();\n      }\n    }\n\n    throw this.unexpected(keywordToken);\n  }\n  /**\n   * SchemaExtension :\n   *  - extend schema Directives[Const]? { OperationTypeDefinition+ }\n   *  - extend schema Directives[Const]\n   */\n  ;\n\n  _proto.parseSchemaExtension = function parseSchemaExtension() {\n    var start = this._lexer.token;\n    this.expectKeyword('extend');\n    this.expectKeyword('schema');\n    var directives = this.parseDirectives(true);\n    var operationTypes = this.optionalMany(TokenKind.BRACE_L, this.parseOperationTypeDefinition, TokenKind.BRACE_R);\n\n    if (directives.length === 0 && operationTypes.length === 0) {\n      throw this.unexpected();\n    }\n\n    return {\n      kind: Kind.SCHEMA_EXTENSION,\n      directives: directives,\n      operationTypes: operationTypes,\n      loc: this.loc(start)\n    };\n  }\n  /**\n   * ScalarTypeExtension :\n   *   - extend scalar Name Directives[Const]\n   */\n  ;\n\n  _proto.parseScalarTypeExtension = function parseScalarTypeExtension() {\n    var start = this._lexer.token;\n    this.expectKeyword('extend');\n    this.expectKeyword('scalar');\n    var name = this.parseName();\n    var directives = this.parseDirectives(true);\n\n    if (directives.length === 0) {\n      throw this.unexpected();\n    }\n\n    return {\n      kind: Kind.SCALAR_TYPE_EXTENSION,\n      name: name,\n      directives: directives,\n      loc: this.loc(start)\n    };\n  }\n  /**\n   * ObjectTypeExtension :\n   *  - extend type Name ImplementsInterfaces? Directives[Const]? FieldsDefinition\n   *  - extend type Name ImplementsInterfaces? Directives[Const]\n   *  - extend type Name ImplementsInterfaces\n   */\n  ;\n\n  _proto.parseObjectTypeExtension = function parseObjectTypeExtension() {\n    var start = this._lexer.token;\n    this.expectKeyword('extend');\n    this.expectKeyword('type');\n    var name = this.parseName();\n    var interfaces = this.parseImplementsInterfaces();\n    var directives = this.parseDirectives(true);\n    var fields = this.parseFieldsDefinition();\n\n    if (interfaces.length === 0 && directives.length === 0 && fields.length === 0) {\n      throw this.unexpected();\n    }\n\n    return {\n      kind: Kind.OBJECT_TYPE_EXTENSION,\n      name: name,\n      interfaces: interfaces,\n      directives: directives,\n      fields: fields,\n      loc: this.loc(start)\n    };\n  }\n  /**\n   * InterfaceTypeExtension :\n   *  - extend interface Name ImplementsInterfaces? Directives[Const]? FieldsDefinition\n   *  - extend interface Name ImplementsInterfaces? Directives[Const]\n   *  - extend interface Name ImplementsInterfaces\n   */\n  ;\n\n  _proto.parseInterfaceTypeExtension = function parseInterfaceTypeExtension() {\n    var start = this._lexer.token;\n    this.expectKeyword('extend');\n    this.expectKeyword('interface');\n    var name = this.parseName();\n    var interfaces = this.parseImplementsInterfaces();\n    var directives = this.parseDirectives(true);\n    var fields = this.parseFieldsDefinition();\n\n    if (interfaces.length === 0 && directives.length === 0 && fields.length === 0) {\n      throw this.unexpected();\n    }\n\n    return {\n      kind: Kind.INTERFACE_TYPE_EXTENSION,\n      name: name,\n      interfaces: interfaces,\n      directives: directives,\n      fields: fields,\n      loc: this.loc(start)\n    };\n  }\n  /**\n   * UnionTypeExtension :\n   *   - extend union Name Directives[Const]? UnionMemberTypes\n   *   - extend union Name Directives[Const]\n   */\n  ;\n\n  _proto.parseUnionTypeExtension = function parseUnionTypeExtension() {\n    var start = this._lexer.token;\n    this.expectKeyword('extend');\n    this.expectKeyword('union');\n    var name = this.parseName();\n    var directives = this.parseDirectives(true);\n    var types = this.parseUnionMemberTypes();\n\n    if (directives.length === 0 && types.length === 0) {\n      throw this.unexpected();\n    }\n\n    return {\n      kind: Kind.UNION_TYPE_EXTENSION,\n      name: name,\n      directives: directives,\n      types: types,\n      loc: this.loc(start)\n    };\n  }\n  /**\n   * EnumTypeExtension :\n   *   - extend enum Name Directives[Const]? EnumValuesDefinition\n   *   - extend enum Name Directives[Const]\n   */\n  ;\n\n  _proto.parseEnumTypeExtension = function parseEnumTypeExtension() {\n    var start = this._lexer.token;\n    this.expectKeyword('extend');\n    this.expectKeyword('enum');\n    var name = this.parseName();\n    var directives = this.parseDirectives(true);\n    var values = this.parseEnumValuesDefinition();\n\n    if (directives.length === 0 && values.length === 0) {\n      throw this.unexpected();\n    }\n\n    return {\n      kind: Kind.ENUM_TYPE_EXTENSION,\n      name: name,\n      directives: directives,\n      values: values,\n      loc: this.loc(start)\n    };\n  }\n  /**\n   * InputObjectTypeExtension :\n   *   - extend input Name Directives[Const]? InputFieldsDefinition\n   *   - extend input Name Directives[Const]\n   */\n  ;\n\n  _proto.parseInputObjectTypeExtension = function parseInputObjectTypeExtension() {\n    var start = this._lexer.token;\n    this.expectKeyword('extend');\n    this.expectKeyword('input');\n    var name = this.parseName();\n    var directives = this.parseDirectives(true);\n    var fields = this.parseInputFieldsDefinition();\n\n    if (directives.length === 0 && fields.length === 0) {\n      throw this.unexpected();\n    }\n\n    return {\n      kind: Kind.INPUT_OBJECT_TYPE_EXTENSION,\n      name: name,\n      directives: directives,\n      fields: fields,\n      loc: this.loc(start)\n    };\n  }\n  /**\n   * DirectiveDefinition :\n   *   - Description? directive @ Name ArgumentsDefinition? `repeatable`? on DirectiveLocations\n   */\n  ;\n\n  _proto.parseDirectiveDefinition = function parseDirectiveDefinition() {\n    var start = this._lexer.token;\n    var description = this.parseDescription();\n    this.expectKeyword('directive');\n    this.expectToken(TokenKind.AT);\n    var name = this.parseName();\n    var args = this.parseArgumentDefs();\n    var repeatable = this.expectOptionalKeyword('repeatable');\n    this.expectKeyword('on');\n    var locations = this.parseDirectiveLocations();\n    return {\n      kind: Kind.DIRECTIVE_DEFINITION,\n      description: description,\n      name: name,\n      arguments: args,\n      repeatable: repeatable,\n      locations: locations,\n      loc: this.loc(start)\n    };\n  }\n  /**\n   * DirectiveLocations :\n   *   - `|`? DirectiveLocation\n   *   - DirectiveLocations | DirectiveLocation\n   */\n  ;\n\n  _proto.parseDirectiveLocations = function parseDirectiveLocations() {\n    // Optional leading pipe\n    this.expectOptionalToken(TokenKind.PIPE);\n    var locations = [];\n\n    do {\n      locations.push(this.parseDirectiveLocation());\n    } while (this.expectOptionalToken(TokenKind.PIPE));\n\n    return locations;\n  }\n  /*\n   * DirectiveLocation :\n   *   - ExecutableDirectiveLocation\n   *   - TypeSystemDirectiveLocation\n   *\n   * ExecutableDirectiveLocation : one of\n   *   `QUERY`\n   *   `MUTATION`\n   *   `SUBSCRIPTION`\n   *   `FIELD`\n   *   `FRAGMENT_DEFINITION`\n   *   `FRAGMENT_SPREAD`\n   *   `INLINE_FRAGMENT`\n   *\n   * TypeSystemDirectiveLocation : one of\n   *   `SCHEMA`\n   *   `SCALAR`\n   *   `OBJECT`\n   *   `FIELD_DEFINITION`\n   *   `ARGUMENT_DEFINITION`\n   *   `INTERFACE`\n   *   `UNION`\n   *   `ENUM`\n   *   `ENUM_VALUE`\n   *   `INPUT_OBJECT`\n   *   `INPUT_FIELD_DEFINITION`\n   */\n  ;\n\n  _proto.parseDirectiveLocation = function parseDirectiveLocation() {\n    var start = this._lexer.token;\n    var name = this.parseName();\n\n    if (DirectiveLocation[name.value] !== undefined) {\n      return name;\n    }\n\n    throw this.unexpected(start);\n  } // Core parsing utility functions\n\n  /**\n   * Returns a location object, used to identify the place in\n   * the source that created a given parsed object.\n   */\n  ;\n\n  _proto.loc = function loc(startToken) {\n    var _this$_options4;\n\n    if (((_this$_options4 = this._options) === null || _this$_options4 === void 0 ? void 0 : _this$_options4.noLocation) !== true) {\n      return new Location(startToken, this._lexer.lastToken, this._lexer.source);\n    }\n  }\n  /**\n   * Determines if the next token is of a given kind\n   */\n  ;\n\n  _proto.peek = function peek(kind) {\n    return this._lexer.token.kind === kind;\n  }\n  /**\n   * If the next token is of the given kind, return that token after advancing\n   * the lexer. Otherwise, do not change the parser state and throw an error.\n   */\n  ;\n\n  _proto.expectToken = function expectToken(kind) {\n    var token = this._lexer.token;\n\n    if (token.kind === kind) {\n      this._lexer.advance();\n\n      return token;\n    }\n\n    throw syntaxError(this._lexer.source, token.start, \"Expected \".concat(getTokenKindDesc(kind), \", found \").concat(getTokenDesc(token), \".\"));\n  }\n  /**\n   * If the next token is of the given kind, return that token after advancing\n   * the lexer. Otherwise, do not change the parser state and return undefined.\n   */\n  ;\n\n  _proto.expectOptionalToken = function expectOptionalToken(kind) {\n    var token = this._lexer.token;\n\n    if (token.kind === kind) {\n      this._lexer.advance();\n\n      return token;\n    }\n\n    return undefined;\n  }\n  /**\n   * If the next token is a given keyword, advance the lexer.\n   * Otherwise, do not change the parser state and throw an error.\n   */\n  ;\n\n  _proto.expectKeyword = function expectKeyword(value) {\n    var token = this._lexer.token;\n\n    if (token.kind === TokenKind.NAME && token.value === value) {\n      this._lexer.advance();\n    } else {\n      throw syntaxError(this._lexer.source, token.start, \"Expected \\\"\".concat(value, \"\\\", found \").concat(getTokenDesc(token), \".\"));\n    }\n  }\n  /**\n   * If the next token is a given keyword, return \"true\" after advancing\n   * the lexer. Otherwise, do not change the parser state and return \"false\".\n   */\n  ;\n\n  _proto.expectOptionalKeyword = function expectOptionalKeyword(value) {\n    var token = this._lexer.token;\n\n    if (token.kind === TokenKind.NAME && token.value === value) {\n      this._lexer.advance();\n\n      return true;\n    }\n\n    return false;\n  }\n  /**\n   * Helper function for creating an error when an unexpected lexed token\n   * is encountered.\n   */\n  ;\n\n  _proto.unexpected = function unexpected(atToken) {\n    var token = atToken !== null && atToken !== void 0 ? atToken : this._lexer.token;\n    return syntaxError(this._lexer.source, token.start, \"Unexpected \".concat(getTokenDesc(token), \".\"));\n  }\n  /**\n   * Returns a possibly empty list of parse nodes, determined by\n   * the parseFn. This list begins with a lex token of openKind\n   * and ends with a lex token of closeKind. Advances the parser\n   * to the next lex token after the closing token.\n   */\n  ;\n\n  _proto.any = function any(openKind, parseFn, closeKind) {\n    this.expectToken(openKind);\n    var nodes = [];\n\n    while (!this.expectOptionalToken(closeKind)) {\n      nodes.push(parseFn.call(this));\n    }\n\n    return nodes;\n  }\n  /**\n   * Returns a list of parse nodes, determined by the parseFn.\n   * It can be empty only if open token is missing otherwise it will always\n   * return non-empty list that begins with a lex token of openKind and ends\n   * with a lex token of closeKind. Advances the parser to the next lex token\n   * after the closing token.\n   */\n  ;\n\n  _proto.optionalMany = function optionalMany(openKind, parseFn, closeKind) {\n    if (this.expectOptionalToken(openKind)) {\n      var nodes = [];\n\n      do {\n        nodes.push(parseFn.call(this));\n      } while (!this.expectOptionalToken(closeKind));\n\n      return nodes;\n    }\n\n    return [];\n  }\n  /**\n   * Returns a non-empty list of parse nodes, determined by\n   * the parseFn. This list begins with a lex token of openKind\n   * and ends with a lex token of closeKind. Advances the parser\n   * to the next lex token after the closing token.\n   */\n  ;\n\n  _proto.many = function many(openKind, parseFn, closeKind) {\n    this.expectToken(openKind);\n    var nodes = [];\n\n    do {\n      nodes.push(parseFn.call(this));\n    } while (!this.expectOptionalToken(closeKind));\n\n    return nodes;\n  };\n\n  return Parser;\n}();\n/**\n * A helper function to describe a token as a string for debugging\n */\n\n\nfunction getTokenDesc(token) {\n  var value = token.value;\n  return getTokenKindDesc(token.kind) + (value != null ? \" \\\"\".concat(value, \"\\\"\") : '');\n}\n/**\n * A helper function to describe a token kind as a string for debugging\n */\n\n\nfunction getTokenKindDesc(kind) {\n  return isPunctuatorTokenKind(kind) ? \"\\\"\".concat(kind, \"\\\"\") : kind;\n}\n","var parser = require('graphql/language/parser');\n\nvar parse = parser.parse;\n\n// Strip insignificant whitespace\n// Note that this could do a lot more, such as reorder fields etc.\nfunction normalize(string) {\n  return string.replace(/[\\s,]+/g, ' ').trim();\n}\n\n// A map docString -> graphql document\nvar docCache = {};\n\n// A map fragmentName -> [normalized source]\nvar fragmentSourceMap = {};\n\nfunction cacheKeyFromLoc(loc) {\n  return normalize(loc.source.body.substring(loc.start, loc.end));\n}\n\n// For testing.\nfunction resetCaches() {\n  docCache = {};\n  fragmentSourceMap = {};\n}\n\n// Take a unstripped parsed document (query/mutation or even fragment), and\n// check all fragment definitions, checking for name->source uniqueness.\n// We also want to make sure only unique fragments exist in the document.\nvar printFragmentWarnings = true;\nfunction processFragments(ast) {\n  var astFragmentMap = {};\n  var definitions = [];\n\n  for (var i = 0; i < ast.definitions.length; i++) {\n    var fragmentDefinition = ast.definitions[i];\n\n    if (fragmentDefinition.kind === 'FragmentDefinition') {\n      var fragmentName = fragmentDefinition.name.value;\n      var sourceKey = cacheKeyFromLoc(fragmentDefinition.loc);\n\n      // We know something about this fragment\n      if (fragmentSourceMap.hasOwnProperty(fragmentName) && !fragmentSourceMap[fragmentName][sourceKey]) {\n\n        // this is a problem because the app developer is trying to register another fragment with\n        // the same name as one previously registered. So, we tell them about it.\n        if (printFragmentWarnings) {\n          console.warn(\"Warning: fragment with name \" + fragmentName + \" already exists.\\n\"\n            + \"graphql-tag enforces all fragment names across your application to be unique; read more about\\n\"\n            + \"this in the docs: http://dev.apollodata.com/core/fragments.html#unique-names\");\n        }\n\n        fragmentSourceMap[fragmentName][sourceKey] = true;\n\n      } else if (!fragmentSourceMap.hasOwnProperty(fragmentName)) {\n        fragmentSourceMap[fragmentName] = {};\n        fragmentSourceMap[fragmentName][sourceKey] = true;\n      }\n\n      if (!astFragmentMap[sourceKey]) {\n        astFragmentMap[sourceKey] = true;\n        definitions.push(fragmentDefinition);\n      }\n    } else {\n      definitions.push(fragmentDefinition);\n    }\n  }\n\n  ast.definitions = definitions;\n  return ast;\n}\n\nfunction disableFragmentWarnings() {\n  printFragmentWarnings = false;\n}\n\nfunction stripLoc(doc, removeLocAtThisLevel) {\n  var docType = Object.prototype.toString.call(doc);\n\n  if (docType === '[object Array]') {\n    return doc.map(function (d) {\n      return stripLoc(d, removeLocAtThisLevel);\n    });\n  }\n\n  if (docType !== '[object Object]') {\n    throw new Error('Unexpected input.');\n  }\n\n  // We don't want to remove the root loc field so we can use it\n  // for fragment substitution (see below)\n  if (removeLocAtThisLevel && doc.loc) {\n    delete doc.loc;\n  }\n\n  // https://github.com/apollographql/graphql-tag/issues/40\n  if (doc.loc) {\n    delete doc.loc.startToken;\n    delete doc.loc.endToken;\n  }\n\n  var keys = Object.keys(doc);\n  var key;\n  var value;\n  var valueType;\n\n  for (key in keys) {\n    if (keys.hasOwnProperty(key)) {\n      value = doc[keys[key]];\n      valueType = Object.prototype.toString.call(value);\n\n      if (valueType === '[object Object]' || valueType === '[object Array]') {\n        doc[keys[key]] = stripLoc(value, true);\n      }\n    }\n  }\n\n  return doc;\n}\n\nvar experimentalFragmentVariables = false;\nfunction parseDocument(doc) {\n  var cacheKey = normalize(doc);\n\n  if (docCache[cacheKey]) {\n    return docCache[cacheKey];\n  }\n\n  var parsed = parse(doc, { experimentalFragmentVariables: experimentalFragmentVariables });\n  if (!parsed || parsed.kind !== 'Document') {\n    throw new Error('Not a valid GraphQL document.');\n  }\n\n  // check that all \"new\" fragments inside the documents are consistent with\n  // existing fragments of the same name\n  parsed = processFragments(parsed);\n  parsed = stripLoc(parsed, false);\n  docCache[cacheKey] = parsed;\n\n  return parsed;\n}\n\nfunction enableExperimentalFragmentVariables() {\n  experimentalFragmentVariables = true;\n}\n\nfunction disableExperimentalFragmentVariables() {\n  experimentalFragmentVariables = false;\n}\n\n// XXX This should eventually disallow arbitrary string interpolation, like Relay does\nfunction gql(/* arguments */) {\n  var args = Array.prototype.slice.call(arguments);\n\n  var literals = args[0];\n\n  // We always get literals[0] and then matching post literals for each arg given\n  var result = (typeof(literals) === \"string\") ? literals : literals[0];\n\n  for (var i = 1; i < args.length; i++) {\n    if (args[i] && args[i].kind && args[i].kind === 'Document') {\n      result += args[i].loc.source.body;\n    } else {\n      result += args[i];\n    }\n\n    result += literals[i];\n  }\n\n  return parseDocument(result);\n}\n\n// Support typescript, which isn't as nice as Babel about default exports\ngql.default = gql;\ngql.resetCaches = resetCaches;\ngql.disableFragmentWarnings = disableFragmentWarnings;\ngql.enableExperimentalFragmentVariables = enableExperimentalFragmentVariables;\ngql.disableExperimentalFragmentVariables = disableExperimentalFragmentVariables;\n\nmodule.exports = gql;\n","import { readable } from 'svelte/store';\n\nvar OBSERVABLE;\r\nfunction isObservable(value) {\r\n    // Lazy-load Symbol to give polyfills a chance to run\r\n    if (!OBSERVABLE) {\r\n        OBSERVABLE =\r\n            (typeof Symbol === 'function' && Symbol.observable) || '@@observable';\r\n    }\r\n    return value && value[OBSERVABLE] && value[OBSERVABLE]() === value;\r\n}\r\nfunction deferred(set, initial) {\r\n    var initialized = initial !== undefined;\r\n    var resolve;\r\n    var reject;\r\n    // Set initial value\r\n    set(initialized\r\n        ? initial\r\n        : new Promise(function (_resolve, _reject) {\r\n            resolve = _resolve;\r\n            reject = _reject;\r\n        }));\r\n    return {\r\n        fulfill: function (value) {\r\n            if (initialized)\r\n                return set(Promise.resolve(value));\r\n            initialized = true;\r\n            resolve(value);\r\n        },\r\n        reject: function (error) {\r\n            if (initialized)\r\n                return set(Promise.reject(error));\r\n            initialized = true;\r\n            reject(error);\r\n        }\r\n    };\r\n}\n\nvar noop = function () { };\r\nfunction observe(observable, initial) {\r\n    if (!isObservable(observable)) {\r\n        return readable(observable, noop);\r\n    }\r\n    return readable(undefined, function (set) {\r\n        var _a = deferred(set, initial), fulfill = _a.fulfill, reject = _a.reject;\r\n        var subscription = observable.subscribe({\r\n            next: function (value) {\r\n                fulfill(value);\r\n            },\r\n            error: function (err) {\r\n                reject(err);\r\n            }\r\n        });\r\n        return function () { return subscription.unsubscribe(); };\r\n    });\r\n}\n\nfunction flat(subscribable, initial) {\r\n    var is_observable = isObservable(subscribable);\r\n    return readable(undefined, function (set) {\r\n        var inner_unsubscribe = null;\r\n        var outer_unsubscribe = null;\r\n        var _a = (is_observable\r\n            ? deferred(set, initial)\r\n            : {}), _b = _a.fulfill, fulfill = _b === void 0 ? function (value) { return set(value); } : _b, reject = _a.reject;\r\n        function next(value) {\r\n            if (inner_unsubscribe) {\r\n                inner_unsubscribe();\r\n                inner_unsubscribe = null;\r\n            }\r\n            if (isObservable(value))\r\n                value = observe(value);\r\n            if (isStore(value)) {\r\n                inner_unsubscribe = value.subscribe(function (inner) { return fulfill(inner); });\r\n            }\r\n            else {\r\n                fulfill(value);\r\n            }\r\n        }\r\n        function error(error) {\r\n            reject(error);\r\n        }\r\n        if (is_observable) {\r\n            var subscription_1 = subscribable.subscribe({\r\n                next: next,\r\n                error: error\r\n            });\r\n            outer_unsubscribe = function () { return subscription_1.unsubscribe(); };\r\n        }\r\n        else {\r\n            outer_unsubscribe = subscribable.subscribe(next);\r\n        }\r\n        return function () {\r\n            if (inner_unsubscribe)\r\n                inner_unsubscribe();\r\n            outer_unsubscribe();\r\n        };\r\n    });\r\n}\r\nfunction isStore(value) {\r\n    return value && typeof value.subscribe === 'function';\r\n}\n\nexport { flat, observe };\n//# sourceMappingURL=svelte-observable.es.js.map\n","import { __extends } from 'tslib';\nimport ApolloClient__default from 'apollo-client';\nexport * from 'apollo-client';\nimport { ApolloLink, Observable } from 'apollo-link';\nexport * from 'apollo-link';\nimport { InMemoryCache } from 'apollo-cache-inmemory';\nexport * from 'apollo-cache-inmemory';\nimport { HttpLink } from 'apollo-link-http';\nexport { HttpLink } from 'apollo-link-http';\nimport { onError } from 'apollo-link-error';\nexport { default as gql } from 'graphql-tag';\nimport { invariant } from 'ts-invariant';\n\nvar PRESET_CONFIG_KEYS = [\n    'request',\n    'uri',\n    'credentials',\n    'headers',\n    'fetch',\n    'fetchOptions',\n    'clientState',\n    'onError',\n    'cacheRedirects',\n    'cache',\n    'name',\n    'version',\n    'resolvers',\n    'typeDefs',\n    'fragmentMatcher',\n];\nvar DefaultClient = (function (_super) {\n    __extends(DefaultClient, _super);\n    function DefaultClient(config) {\n        if (config === void 0) { config = {}; }\n        var _this = this;\n        if (config) {\n            var diff = Object.keys(config).filter(function (key) { return PRESET_CONFIG_KEYS.indexOf(key) === -1; });\n            if (diff.length > 0) {\n                process.env.NODE_ENV === \"production\" || invariant.warn('ApolloBoost was initialized with unsupported options: ' +\n                    (\"\" + diff.join(' ')));\n            }\n        }\n        var request = config.request, uri = config.uri, credentials = config.credentials, headers = config.headers, fetch = config.fetch, fetchOptions = config.fetchOptions, clientState = config.clientState, cacheRedirects = config.cacheRedirects, errorCallback = config.onError, name = config.name, version = config.version, resolvers = config.resolvers, typeDefs = config.typeDefs, fragmentMatcher = config.fragmentMatcher;\n        var cache = config.cache;\n        process.env.NODE_ENV === \"production\" ? invariant(!cache || !cacheRedirects, 1) : invariant(!cache || !cacheRedirects, 'Incompatible cache configuration. When not providing `cache`, ' +\n            'configure the provided instance with `cacheRedirects` instead.');\n        if (!cache) {\n            cache = cacheRedirects\n                ? new InMemoryCache({ cacheRedirects: cacheRedirects })\n                : new InMemoryCache();\n        }\n        var errorLink = errorCallback\n            ? onError(errorCallback)\n            : onError(function (_a) {\n                var graphQLErrors = _a.graphQLErrors, networkError = _a.networkError;\n                if (graphQLErrors) {\n                    graphQLErrors.forEach(function (_a) {\n                        var message = _a.message, locations = _a.locations, path = _a.path;\n                        return process.env.NODE_ENV === \"production\" || invariant.warn(\"[GraphQL error]: Message: \" + message + \", Location: \" +\n                            (locations + \", Path: \" + path));\n                    });\n                }\n                if (networkError) {\n                    process.env.NODE_ENV === \"production\" || invariant.warn(\"[Network error]: \" + networkError);\n                }\n            });\n        var requestHandler = request\n            ? new ApolloLink(function (operation, forward) {\n                return new Observable(function (observer) {\n                    var handle;\n                    Promise.resolve(operation)\n                        .then(function (oper) { return request(oper); })\n                        .then(function () {\n                        handle = forward(operation).subscribe({\n                            next: observer.next.bind(observer),\n                            error: observer.error.bind(observer),\n                            complete: observer.complete.bind(observer),\n                        });\n                    })\n                        .catch(observer.error.bind(observer));\n                    return function () {\n                        if (handle) {\n                            handle.unsubscribe();\n                        }\n                    };\n                });\n            })\n            : false;\n        var httpLink = new HttpLink({\n            uri: uri || '/graphql',\n            fetch: fetch,\n            fetchOptions: fetchOptions || {},\n            credentials: credentials || 'same-origin',\n            headers: headers || {},\n        });\n        var link = ApolloLink.from([errorLink, requestHandler, httpLink].filter(function (x) { return !!x; }));\n        var activeResolvers = resolvers;\n        var activeTypeDefs = typeDefs;\n        var activeFragmentMatcher = fragmentMatcher;\n        if (clientState) {\n            if (clientState.defaults) {\n                cache.writeData({\n                    data: clientState.defaults,\n                });\n            }\n            activeResolvers = clientState.resolvers;\n            activeTypeDefs = clientState.typeDefs;\n            activeFragmentMatcher = clientState.fragmentMatcher;\n        }\n        _this = _super.call(this, {\n            cache: cache,\n            link: link,\n            name: name,\n            version: version,\n            resolvers: activeResolvers,\n            typeDefs: activeTypeDefs,\n            fragmentMatcher: activeFragmentMatcher,\n        }) || this;\n        return _this;\n    }\n    return DefaultClient;\n}(ApolloClient__default));\n\nexport default DefaultClient;\n//# sourceMappingURL=bundle.esm.js.map\n","import { getContext, setContext, onMount } from 'svelte';\nimport { isEqual } from 'apollo-utilities';\nimport { readable } from 'svelte/store';\nimport { observe } from 'svelte-observable';\n\nvar CLIENT = typeof Symbol !== 'undefined' ? Symbol('client') : '@@client';\r\nfunction getClient() {\r\n    return getContext(CLIENT);\r\n}\r\nfunction setClient(client) {\r\n    setContext(CLIENT, client);\r\n}\n\nvar restoring = typeof WeakSet !== 'undefined' ? new WeakSet() : new Set();\r\nfunction restore(client, query, data) {\r\n    restoring.add(client);\r\n    afterHydrate(function () {\r\n        restoring.delete(client);\r\n    });\r\n    client.writeQuery({ query: query, data: data });\r\n}\r\nfunction afterHydrate(callback) {\r\n    // Attempt to wait for onMount (hydration of current component is complete),\r\n    // but if that fails (e.g. outside of component initialization)\r\n    // wait for next event loop for hydrate to complete\r\n    try {\r\n        onMount(callback);\r\n    }\r\n    catch (_error) {\r\n        setTimeout(callback, 1);\r\n    }\r\n}\n\nfunction query(client, options) {\r\n    var subscribed = false;\r\n    var initial_value;\r\n    // If client is restoring (e.g. from SSR)\r\n    // attempt synchronous readQuery first (to prevent loading in {#await})\r\n    if (restoring.has(client)) {\r\n        try {\r\n            // undefined = skip initial value (not in cache)\r\n            initial_value = client.readQuery(options) || undefined;\r\n            initial_value = { data: initial_value };\r\n        }\r\n        catch (err) {\r\n            // Ignore preload errors\r\n        }\r\n    }\r\n    // Create query and observe,\r\n    // but don't subscribe directly to avoid firing duplicate value if initialized\r\n    var observable_query = client.watchQuery(options);\r\n    var subscribe_to_query = observe(observable_query, initial_value).subscribe;\r\n    // Wrap the query subscription with a readable to prevent duplicate values\r\n    var subscribe = readable(initial_value, function (set) {\r\n        subscribed = true;\r\n        var skip_duplicate = initial_value !== undefined;\r\n        var initialized = false;\r\n        var skipped = false;\r\n        var unsubscribe = subscribe_to_query(function (value) {\r\n            if (skip_duplicate && initialized && !skipped) {\r\n                skipped = true;\r\n            }\r\n            else {\r\n                if (!initialized)\r\n                    initialized = true;\r\n                set(value);\r\n            }\r\n        });\r\n        return unsubscribe;\r\n    }).subscribe;\r\n    return {\r\n        subscribe: subscribe,\r\n        refetch: function (variables) {\r\n            // If variables have not changed and not subscribed, skip refetch\r\n            if (!subscribed && isEqual(variables, observable_query.variables))\r\n                return observable_query.result();\r\n            return observable_query.refetch(variables);\r\n        },\r\n        result: function () { return observable_query.result(); },\r\n        fetchMore: function (options) { return observable_query.fetchMore(options); },\r\n        setOptions: function (options) { return observable_query.setOptions(options); },\r\n        updateQuery: function (map) { return observable_query.updateQuery(map); },\r\n        startPolling: function (interval) { return observable_query.startPolling(interval); },\r\n        stopPolling: function () { return observable_query.stopPolling(); },\r\n        subscribeToMore: function (options) { return observable_query.subscribeToMore(options); }\r\n    };\r\n}\n\nfunction mutate(client, options) {\r\n    return client.mutate(options);\r\n}\n\nfunction subscribe(client, options) {\r\n    var observable = client.subscribe(options);\r\n    return observe(observable);\r\n}\n\nexport { getClient, mutate, query, restore, setClient, subscribe };\n//# sourceMappingURL=svelte-apollo.es.js.map\n","<script>\n  import ApolloClient from \"apollo-boost\";\n  import { gql } from \"apollo-boost\";\n  import { setClient, getClient, mutate, query } from \"svelte-apollo\";\n  import { Router, Link, Route, link } from \"svelte-routing\";\n  let userId = 1;\n\n  export let eventQuery;\n\n  const client = getClient();\n\n let sortedEvents = [];\n let firstFive = [];\n\n const sortEvents = (events) => {\n   sortedEvents = events.sort((a,b) => new Date(b.dateTime) - new Date(a.dateTime));\n   if (sortedEvents.length > 6) {\n     firstFive = sortedEvents.slice(0, 5)\n   } else {\n     firstFive = sortedEvents;\n   }\n }\n\n const convertToReadable = (date) => {\n   let splitDate = date.split('')\n   let formattedDate = splitDate.slice(0,10).join('')\n  let longDate = new Date(formattedDate)\n  return longDate.toString().split('').slice(0, 15).join('')\n } \n\n     const DELETEEVENT = gql`\n    mutation(\n      $eventId: ID!\n    ){\n      deleteEvent(input: {\n      eventId: $eventId\n    }) {\n    status\n  }}\n  `;\n\n  const deleteEvent = (eventId) => {\n    const eventDelete = mutate(client, {\n      mutation: DELETEEVENT,\n      variables: {\n        eventId\n      }\n    })\n    .then(res => {\n      eventQuery.refetch();\n    })\n    .catch(e => {\n      console.log('error:', e)\n    })\n  }\n\n  const displayEventDetails = event => {\n    let selectedCard = document.querySelector(`#event-${event.id}`)\n    selectedCard.classList.toggle('hidden');\n  }\n\n</script>\n\n<section class='card-container'>\n  <h2>Your Upcoming Events</h2>\n  <a href='/all-events' use:link class='view-all-btn'>View All Events</a>\n   {#await $eventQuery}\n    <p>.. loading</p>\n  {:then data}\n\n  <p class='hidden'>{sortEvents(data.data.user.events)}</p>\n\n    {#each firstFive as event, i}\n    <section class='event-card'>\n    <button class='show-details-btn' on:click={displayEventDetails(event)}>Show Event Details</button>\n      <p class='event-title'>{event.title}</p>\n      <p>{convertToReadable(event.dateTime)}</p>\n      <div class='expanded-details hidden' id={`event-${event.id}`}>\n        <p>Notes: {event.notes}</p>\n        <p>${event.income}</p>\n        <p>{event.mileage} miles</p>\n      </div>\n      <button on:click={deleteEvent(event.id)}>Delete Event</button>\n    </section>\n    {/each}\n\n  {:catch e}\n    {e}\n  {/await}\n</section>\n\n<style>\n  .card-container {\n   display: flex;\n   flex-direction: column;\n   align-items: center;\n   color: white;\n   /* overflow: auto;\n   height: 100vh; */\n  }\n\n  h2 {\n    font-size: 2rem;\n  }\n\n  .view-all-btn {\n    color: orange;\n    padding: 5px;\n    font-size: 2rem;\n    text-decoration: none;\n    /* border-left: 2px solid white;\n    border-right: 2px solid white; */\n\n  }\n  .event-card {\n    border: 3px solid yellow;\n    background-color: black;\n    border-radius: 5%;\n    width: 75%;\n    margin: 1rem;\n    color: white;\n    font-size: 1.2rem;\n    padding-bottom: .5rem;\n  }\n  .hidden {\n    display: none;\n  }\n\n  .show-details-btn {\n    background-color: grey;\n    color: white;\n    font-size: 1rem;\n    margin-left: 60%;\n    margin-top: 2%;\n    cursor: pointer;\n    /* width: 20%; */\n  }\n\n  button {\n    cursor: pointer;\n    background-color: orange;\n    border: none;\n  }\n\n</style>\n","<script>\n// imports\n  import ApolloClient from \"apollo-boost\";\n  import { gql } from \"apollo-boost\";\n  import { setClient, getClient, mutate, query } from \"svelte-apollo\";\n  import UpcomingEvents from './UpcomingEvents.svelte'\n// component variables and props\n  let title;\n  let notes;\n  let date;\n  let time;\n  let mileage;\n  let payment;\n  let userId = 1;\n  let errors = {\n    formValid: true,\n    goodPost: true,\n  }\n  let messages = {\n    successfulPost: false\n  }\n// methods\n  const client = getClient();\n   const GETEVENTS = gql`\n      {\n        user(id: ${userId}) {\n          events {\n            title\n            dateTime\n            date\n            id\n            notes\n            income\n            mileage\n          }\n        }\n      }\n    `;\n const eventQuery = query(client, {query: GETEVENTS});\n\n  const ADDEVENT = gql`\n    mutation($title: String!,\n             $userId: ID!,\n             $notes: String!,\n             $date: String!,\n             $time: String!,\n             $payment: Float!\n             $mileage: Float!,\n              ){\n      createEvent(input: {\n        userId: $userId,\n        title: $title,\n        notes: $notes,\n        date: $date,\n        time: $time,\n        mileage: $mileage,\n        income: $payment\n      }) {\n        event {\n           id\n           title\n           notes\n           date\n           time\n           mileage\n           income\n        }\n      }\n}\n  `;\n\n  const addEvent = () => {\n   const eventAdd = mutate(client, {\n      mutation: ADDEVENT,\n      variables: {\n        userId,\n        title,\n        notes,\n        date,\n        time,\n        mileage,\n        payment\n      }\n    })\n      .then(data => {\n        console.log(data)\n        title = '';\n        notes = ''\n        date = null;\n        time = null;\n        mileage = null;\n        payment = null;\n        messages.successfulPost = true;\n        eventQuery.refetch();\n      })\n      .catch(e => {\n        console.error('error:', e);\n        errors.goodPost = false;\n      });\n  }\n\n  const validateForm = () => {\n    if (title && notes && date && time && mileage && payment) {\n      errors.formValid = true;\n      addEvent()\n    } else {\n      errors.formValid = false;\n    }\n  }\n\n</script>\n\n<section>\n  <form on:submit|preventDefault={validateForm}>\n    <h2>Add New Event</h2>\n    {#if !errors.formValid}\n      <p>Please make sure all fields are filled out.</p>\n    {/if}\n     {#if !errors.goodPost}\n      <p>We're sorry, there was an error creating your event. Please try again soon.</p>\n    {/if}\n    <label for='event-title'>Event Title</label>\n      <input bind:value={title} class='event-title' type='text'>\n    <label for='mileage'>Mileage</label>\n      <input bind:value={mileage} type='number' min='0' oninput=\"validity.valid||(value='');\" step='any' >\n    <label for='date'>Date & Time</label>\n      <input bind:value={date} class='date' type='date'>\n      <input bind:value={time} type='time' >\n    <label for='payment'>Payment</label>\n      <input bind:value={payment} placeholder='$' min='0' oninput=\"validity.valid||(value='');\" step='any' class='payment' type='number' >\n    <label for='notes'>Notes</label>\n      <textarea class='notes-input' bind:value={notes} type='text' rows=\"5\" cols=\"33\"></textarea>\n    <button>Create New Event</button>\n  </form>\n  <div>\n    {#if messages.successfulPost}\n      <p class='happy-message'>Event created!</p>\n    {/if}\n    <UpcomingEvents eventQuery={eventQuery}/>\n  </div>\n</section>\n\n\n<style>\n  section {\n    display: flex;\n    height: 100vh;\n  }\n  h2 {\n    font-size: 2rem;\n    color: white;\n  }\n  form {\n    border-right: 3px solid black;\n    width: 50%;\n    display: flex;\n    justify-content: flex-start;\n    align-items: center;\n    flex-direction: column;\n  }\n\n  input,\n  textarea {\n    border: .1rem solid black;\n    width: 60%;\n    height: 3rem;\n    margin-top: 5px;\n  }\n  div {\n    width: 50%;\n  }\n\n  p {\n    color: red;\n    font-size: 2rem;\n  }\n\n  .happy-message {\n    color: yellow;\n    font-size: 2rem;\n  }\n\n  .notes-input {\n    height: 6rem;\n  }\n\n  label {\n    width: 60%;\n    font-size: 1.5rem;\n    color: white;\n\n  }\n\n  button {\n    width: 60%;\n    cursor: pointer;\n    border: none;\n    border-radius: 5%;\n    background-color: yellow;\n    margin-top: 2rem;\n    padding: 1rem;\n    font-size: 1.65rem;\n  }\n</style>\n","<script>\nimport {onMount} from 'svelte';\nimport Chart from 'chart.js';\nexport let totalIncome;\nexport let yearToDateIncome;\nexport let lastYearIncome;\n\nfunction createChart() {\n  \n  var ctx = document.getElementById('myChart');\n  Chart.defaults.global.defaultFontSize = 22;\n  Chart.defaults.global.defaultFontFamily = 'Arial';\n  Chart.defaults.global.defaultFontColor = 'white';\n\n\n  var myChart = new Chart(ctx, {\n      type: 'bar',\n      data: {\n          labels: ['All-Time', 'Year-To-Date', 'Last Year'],\n          datasets: [{\n              label: 'Income Data:',\n              data: [totalIncome, yearToDateIncome, lastYearIncome],\n              backgroundColor: [\n                  'rgba(255, 99, 132, 0.2)',\n                  'rgba(54, 162, 235, 0.2)',\n                  'rgba(255, 206, 86, 0.2)',\n                  'rgba(75, 192, 192, 0.2)',\n                  'rgba(153, 102, 255, 0.2)',\n                  'rgba(255, 159, 64, 0.2)'\n              ],\n              borderColor: [\n                  'rgba(255, 99, 132, 1)',\n                  'rgba(54, 162, 235, 1)',\n                  'rgba(255, 206, 86, 1)',\n                  'rgba(75, 192, 192, 1)',\n                  'rgba(153, 102, 255, 1)',\n                  'rgba(255, 159, 64, 1)'\n              ],\n              borderWidth: 2\n          }]\n      },\n      options: {\n          scales: {\n              yAxes: [{\n                  ticks: {\n                      beginAtZero: true\n                  }\n              }]\n          }\n      }\n  });\n}\n\nonMount(createChart)\n</script>\n\n<section>\n  <canvas id=\"myChart\" ></canvas>\n</section>\n\n<style>\n\n  canvas {\n\n  }\n\n  section {\n    border: 5px solid grey;\n    margin-bottom: 2rem;\n  }\n</style>\n\n\n","<script>\nimport {onMount} from 'svelte';\nimport Chart from 'chart.js';\nexport let totalMileage;\nexport let yearToDateMileage;\nexport let lastYearMileage;\n\nfunction createChart() {\n  \n  var ctx = document.getElementById('myChart');\n  Chart.defaults.global.defaultFontSize = 22;\n  Chart.defaults.global.defaultFontFamily = 'Arial';\n  Chart.defaults.global.defaultFontColor = 'white';\n\n\n  var myChart = new Chart(ctx, {\n      type: 'bar',\n      data: {\n          labels: ['All-Time', 'Year-To-Date', 'Last Year'],\n          datasets: [{\n              label: 'Mileage Data:',\n              data: [totalMileage, yearToDateMileage, lastYearMileage],\n              backgroundColor: [\n                  'rgba(255, 99, 132, 0.2)',\n                  'rgba(54, 162, 235, 0.2)',\n                  'rgba(255, 206, 86, 0.2)',\n                  'rgba(75, 192, 192, 0.2)',\n                  'rgba(153, 102, 255, 0.2)',\n                  'rgba(255, 159, 64, 0.2)'\n              ],\n              borderColor: [\n                  'rgba(255, 99, 132, 1)',\n                  'rgba(54, 162, 235, 1)',\n                  'rgba(255, 206, 86, 1)',\n                  'rgba(75, 192, 192, 1)',\n                  'rgba(153, 102, 255, 1)',\n                  'rgba(255, 159, 64, 1)'\n              ],\n              borderWidth: 2\n          }]\n      },\n      options: {\n          scales: {\n              yAxes: [{\n                  ticks: {\n                      beginAtZero: true\n                  }\n              }]\n          }\n      }\n  });\n}\n\nonMount(createChart)\n</script>\n\n<section>\n  <canvas id=\"myChart\" ></canvas>\n</section>\n\n<style>\n\n  canvas {\n\n  }\n\n  section {\n    border: 5px solid grey;\n    margin-bottom: 2rem;\n  }\n</style>\n\n\n","<script>\n  import ApolloClient from \"apollo-boost\";\n  import { gql } from \"apollo-boost\";\n  import { setClient, getClient, mutate, query } from \"svelte-apollo\";\n  import TotalIncomeChart from './TotalIncomeChart.svelte';\n  import TotalMileageChart from './TotalMileageChart.svelte';\n  import MonthIncomeChart from './MonthIncomeChart.svelte'\n\n  let userId = 1;\n  const client = getClient();\n  const GETALLMILEAGE = gql`\n      {\n        user(id: ${userId}) {\n          events {\n            mileage\n            dateTime\n          }\n        }\n      }\n    `;\n\n  const GETALLINCOME = gql`\n      {\n        user(id: ${userId}) {\n          events {\n            income\n            dateTime\n          }\n        }\n      }\n    `;\n\n\n  const incomeQuery = query(client, {query: GETALLINCOME});\n  const mileageQuery = query(client, {query: GETALLMILEAGE});\n\n\n  let totalData = 0;\n  const getTotalData = (events, type) => {\n    totalData = events.reduce((acc, event) => {\n      return acc + event[type];\n    }, 0);\n    return totalData;\n  };\n\n  const getDataToDate = (events, type) => {\n    let date = new Date();\n    let currentYear = date.getFullYear();\n    let yearBegin = new Date(currentYear, 0, 1).getTime();\n    let eventsToDate = events.filter(event => {\n      let date = new Date(event.dateTime);\n      let milliseconds = date.getTime();\n      return (milliseconds > yearBegin) && (milliseconds < Date.now());\n    });\n    let dataToDate = eventsToDate.reduce((acc, event) => {\n      return acc + event[type];\n    }, 0);\n    return dataToDate;\n  };\n\n  const getPreviousYearData = (events, type) => {\n    let date = new Date();\n    let currentYear = date.getFullYear();\n    let previousYear = currentYear - 1;\n    let prevYearData = events.filter(event => {\n      let eventYear = new Date(event.dateTime).getFullYear();\n      return eventYear === previousYear;\n    });\n    let prevYearTotal = prevYearData.reduce((acc, event) => {\n      return acc + event[type];\n    }, 0);\n    return prevYearTotal;\n  };\n\n</script>\n\n<section class='dashboard-main'>\n  <h1>Dashboard</h1>\n  {#await $incomeQuery}\n  <p>...loading</p>\n  {:then data}\n  <section class='data-cards-section'>\n    <div class='total-income data-card'>\n      <h3>Total Income</h3>\n      <h2>{`$${getTotalData(data.data.user.events, 'income')}`}</h2>\n    </div>\n    <div class='income-to-date data-card'>\n      <h3>Year-to-Date Income</h3>\n      <h2>{`$${getDataToDate(data.data.user.events, 'income')}`}</h2>\n    </div>\n    <div class='previous-year-income data-card'>\n      <h3>Last Year's Income</h3>\n      <h2>{`$${getPreviousYearData(data.data.user.events, 'income')}`}</h2>\n    </div>\n  </section>\n   <section class='income-chart-section'>\n      <TotalIncomeChart totalIncome={getTotalData(data.data.user.events, 'income')}\n             yearToDateIncome={getDataToDate(data.data.user.events, 'income')}\n             lastYearIncome={getPreviousYearData(data.data.user.events, 'income')}\n      />\n      <!-- this component below needs to be finished but it represents a line graph of month to month income -->\n      <!-- <MonthIncomeChart allEvents={data.data.user.events}/> -->\n  </section>\n    {:catch e}\n    {/await}\n    \n  {#await $mileageQuery}\n  <p>...loading</p>\n  {:then data}\n  <section class='data-cards-section'>\n    <div class='total-mileage data-card'>\n      <h3>Total Mileage</h3>\n      <h2>{`${getTotalData(data.data.user.events, 'mileage')} miles`}</h2>\n    </div>\n    <div class='mileage-to-date data-card'>\n      <h3>Year-to-Date Mileage</h3>\n      <h2>{`${getDataToDate(data.data.user.events, 'mileage')} miles`}</h2>\n    </div>\n    <div class='previous-year-mileage data-card'>\n      <h3>Last Year's Mileage</h3>\n      <h2>{`${getPreviousYearData(data.data.user.events, 'mileage')} miles`}</h2>\n    </div>\n  </section>\n   <section class='mileage-chart-section'>\n      <TotalMileageChart totalMileage={getTotalData(data.data.user.events, 'mileage')}\n             yearToDateMileage={getDataToDate(data.data.user.events, 'mileage')}\n             lastYearMileage={getPreviousYearData(data.data.user.events, 'mileage')}\n      />\n  </section>\n    {:catch e}\n    {/await}\n\n</section>\n\n\n\n<style>\n  * {\n    color: white;\n  }\n\n  .income-chart-section {\n    /* height: 30%; */\n    /* border: 5px solid green; */\n  }\n  .dashboard-main {\n    /* height: 100vh; */\n  }\n\n  h1 {\n    font-size: 3rem;\n  }\n  .data-cards-section {\n    display: flex;\n    justify-content: space-around;\n    align-items: center;\n  }\n\n  .data-card {\n    border: 2px solid yellow;\n    padding: 1rem;\n    width: 15%;\n    margin-bottom: 2rem;\n  }\n\n  h3 {\n    font-size: 2rem;\n  }\n\n  h2 {\n    font-size: 1.8rem;\n    border-bottom: 2px solid grey;\n  }\n</style>\n","<script>\n  import ApolloClient from \"apollo-boost\";\n  import { gql } from \"apollo-boost\";\n  import { setClient, getClient, mutate, query } from \"svelte-apollo\";\n  let userId = 1;\n\n  const client = getClient();\n  const GETEVENTS = gql`\n      {\n        user(id: ${userId}) {\n          events {\n            title\n            dateTime\n            date\n            id\n            notes\n            income\n            mileage\n          }\n        }\n      }\n    `;\n const eventQuery = query(client, {query: GETEVENTS});\n\n  let sortedEvents = [];\n  const sortEvents = (events) => {\n   sortedEvents = events.sort((a,b) => new Date(b.dateTime) - new Date(a.dateTime));\n }\n\n  const convertToReadable = (date) => {\n   let splitDate = date.split('')\n   let formattedDate = splitDate.slice(0,10).join('')\n   let longDate = new Date(formattedDate)\n  return longDate.toString().split('').slice(0, 15).join('')\n } \n\n  const DELETEEVENT = gql`\n    mutation(\n      $eventId: ID!\n    ){\n      deleteEvent(input: {\n      eventId: $eventId\n    }) {\n    status\n  }}\n  `;\n\n  const deleteEvent = (eventId) => {\n    const eventDelete = mutate(client, {\n      mutation: DELETEEVENT,\n      variables: {\n        eventId\n      }\n    })\n    .then(res => {\n      eventQuery.refetch();\n    })\n    .catch(e => {\n      console.log('error:', e)\n    })\n  }\n\n   const displayEventDetails = event => {\n    let selectedCard = document.querySelector(`#event-${event.id}`)\n    selectedCard.classList.toggle('hidden');\n  }\n</script>\n\n\n<section>\n  <h1>All Events</h1>\n  {#await $eventQuery}\n    <p>...loading</p>\n  {:then data}\n  <p class='hidden'>{sortEvents(data.data.user.events)}</p>\n  <section class='card-section'>\n  {#each sortedEvents as event, i}\n    <section class='event-card'>\n      <button class='show-details-btn' on:click={displayEventDetails(event)}>Show Event Details</button>\n      <p class='event-title'>{event.title}</p>\n      <p>{convertToReadable(event.dateTime)}</p>\n      <div class='expanded-details hidden' id={`event-${event.id}`}>\n        <p>Notes: {event.notes}</p>\n        <p>${event.income}</p>\n        <p>{event.mileage} miles</p>\n      </div>\n      <button on:click={deleteEvent(event.id)}>Delete Event</button>\n    </section>\n    {/each}\n  </section>\n  {/await}\n</section>\n\n\n<style>\n  .card-section {\n    margin-top: 0;\n    display: flex;\n    flex-direction: row;\n    flex-wrap: wrap;\n   align-items: center;\n   justify-content: center;\n   color: white;\n   height: 100vh;\n\n  }\n\n  h1 {\n    color: white;\n    font-size: 3rem;\n  }\n  .hidden {\n    display: none;\n  }\n\n  .show-details-btn {\n    background-color: grey;\n    color: white;\n    font-size: 1rem;\n    margin-left: 60%;\n    margin-top: 2%;\n    cursor: pointer;\n    /* width: 20%; */\n  }\n  .event-card {\n    display: flex;\n    flex-direction: column;\n    border: 3px solid yellow;\n    background-color: black;\n    border-radius: 5%;\n    /* height: 20%; */\n    margin: 1rem;\n    color: white;\n    font-size: 1.2rem;\n    padding: 1.5rem;\n  }\n  .hidden {\n    display: none;\n  }\n\n  button {\n    cursor: pointer;\n     background-color: orange;\n    border: none;\n  }\n</style>","<script>\n\timport NavBar from './components/NavBar.svelte'\n\timport NewEventForm from './components/NewEventForm.svelte'\n\timport UpcomingEvents from './components/UpcomingEvents.svelte'\n\timport Dashboard from './components/Dashboard.svelte'\n\timport HomeScreen from './components/HomeScreen.svelte'\n\timport AllEvents from './components/AllEvents.svelte'\n\t// export let name;\n\timport { Router, Link, Route } from \"svelte-routing\";\n\texport let url = '';\n\timport ApolloClient from \"apollo-boost\";\n\timport { setClient } from \"svelte-apollo\";\n\n\t// apollo set up\n\n\tconst client = new ApolloClient({\n\t\turi: \"https://ref365-be.herokuapp.com/graphql\",\n    onError: ({ networkError, graphQLErrors }) => {\n      console.log(\"graphQLErrors\", graphQLErrors);\n      console.log(\"networkError\", networkError);\n    }\n\t});\n\n  setClient(client);\n\n</script>\n\n<Router url={url}>\n\t<main>\n\t\t<NavBar />\n\t\t<Route path='/' component={HomeScreen} />\n\t\t<Route path='add-event' component={NewEventForm} />\n\t\t<Route path='dashboard' component={Dashboard} />\n\t\t<Route path='all-events' component={AllEvents} />\n\t</main>\n</Router>\n\n<style>\n  @import url('https://fonts.googleapis.com/css2?family=Do+Hyeon&display=swap');\n  * {\n\t\tfont-family: 'Do Hyeon', sans-serif;\n\t\tbackground-color: black;\n\t}\n\n\tmain {\n\t\ttext-align: center;\n\t\tpadding: 1em;\n\t\tmax-width: 240px;\n\t\tmargin: 0 auto;\n\t}\n\n\t@media (min-width: 640px) {\n\t\tmain {\n\t\t\tmax-width: none;\n\t\t}\n\t}\n\n</style>\n","import App from './App.svelte';\n\nconst app = new App({\n\ttarget: document.body,\n\tprops: {\n\t\tname: 'world'\n\t}\n});\n\nexport default app;"],"names":["noop","assign","tar","src","k","run","fn","blank_object","Object","create","run_all","fns","forEach","is_function","thing","safe_not_equal","a","b","subscribe","store","callbacks","unsub","unsubscribe","component_subscribe","component","callback","$$","on_destroy","push","create_slot","definition","ctx","$$scope","slot_ctx","get_slot_context","slice","get_slot_changes","dirty","lets","undefined","merged","len","Math","max","length","i","exclude_internal_props","props","result","action_destroyer","action_result","destroy","append","target","node","appendChild","insert","anchor","insertBefore","detach","parentNode","removeChild","destroy_each","iterations","detaching","d","element","name","document","createElement","text","data","createTextNode","space","empty","listen","event","handler","options","addEventListener","removeEventListener","attr","attribute","value","removeAttribute","getAttribute","setAttribute","to_number","set_data","set_input_value","input","current_component","set_current_component","get_current_component","Error","onMount","on_mount","setContext","key","context","set","getContext","get","dirty_components","binding_callbacks","render_callbacks","flush_callbacks","resolved_promise","Promise","resolve","update_scheduled","add_render_callback","flushing","seen_callbacks","Set","flush","update","pop","has","add","clear","fragment","before_update","p","after_update","outroing","outros","group_outros","r","c","check_outros","transition_in","block","local","delete","transition_out","o","handle_promise","promise","info","token","type","index","resolved","child_ctx","current","needs_flush","blocks","m","mount","then","error","catch","pending","get_spread_object","spread_props","create_component","mount_component","new_on_destroy","map","filter","destroy_component","make_dirty","fill","init","instance","create_fragment","not_equal","parent_component","prop_values","bound","Map","ready","ret","rest","hydrate","nodes","Array","from","childNodes","children","l","intro","SvelteComponent","[object Object]","this","$destroy","indexOf","splice","subscriber_queue","readable","start","writable","stop","subscribers","new_value","run_queue","s","invalidate","subscriber","LOCATION","ROUTER","getLocation","source","location","state","history","globalHistory","listeners","listener","popstateListener","action","to","replace","Date","now","replaceState","pushState","e","createHistory","Boolean","window","initialPathname","stack","pathname","search","states","entries","_","uri","split","createMemorySource","navigate","paramRe","isSplat","segment","segmentize","stripSlashes","str","rankRoute","route","score","default","path","reduce","isRootSegment","test","isDynamic","SEGMENT_POINTS","pick","routes","match","default_","uriPathname","uriSegments","isRootUri","ranked","sort","rankRoutes","missed","params","routeSegments","routeSegment","uriSegment","decodeURIComponent","join","dynamicMatch","exec","combinePaths","basepath","url","locationContext","routerContext","activeRoute","hasActiveRoute","base","routerBase","stores","initial_value","single","isArray","stores_array","auto","inited","values","cleanup","sync","unsubscribers","derived","registerRoute","$base","_path","matchingRoute","$location","rs","unregisterRoute","bestMatch","$routes","levels","updates","to_null_out","accounted_for","n","routeParams","routeProps","$activeRoute","$$props","link","onClick","currentTarget","host","href","hostMatches","defaultPrevented","button","metaKey","altKey","ctrlKey","shiftKey","shouldNavigate","preventDefault","hasAttribute","extendStatics","setPrototypeOf","__proto__","hasOwnProperty","__extends","__","constructor","prototype","__assign","t","arguments","call","apply","__awaiter","thisArg","_arguments","P","generator","reject","fulfilled","step","next","rejected","done","__generator","body","f","y","g","label","sent","trys","ops","verb","throw","return","Symbol","iterator","v","op","TypeError","__spreadArrays","il","j","jl","nodejsCustomInspectSymbol","for","_typeof","obj","inspect","formatValue","seenValues","JSON","stringify","concat","previouslySeenValues","customInspectFn","object","String","getCustomFn","customValue","array","min","remaining","items","formatArray","keys","tag","toString","getObjectTag","formatObject","formatObjectValue","defineToJSON","classObject","toJSON","Location","startToken","endToken","end","Token","kind","line","column","prev","isNode","maybeNode","QueryDocumentKeys","Name","Document","OperationDefinition","VariableDefinition","Variable","SelectionSet","Field","Argument","FragmentSpread","InlineFragment","FragmentDefinition","IntValue","FloatValue","StringValue","BooleanValue","NullValue","EnumValue","ListValue","ObjectValue","ObjectField","Directive","NamedType","ListType","NonNullType","SchemaDefinition","OperationTypeDefinition","ScalarTypeDefinition","ObjectTypeDefinition","FieldDefinition","InputValueDefinition","InterfaceTypeDefinition","UnionTypeDefinition","EnumTypeDefinition","EnumValueDefinition","InputObjectTypeDefinition","DirectiveDefinition","SchemaExtension","ScalarTypeExtension","ObjectTypeExtension","InterfaceTypeExtension","UnionTypeExtension","EnumTypeExtension","InputObjectTypeExtension","BREAK","freeze","visit","root","visitor","visitorKeys","inArray","edits","parent","ancestors","newRoot","isLeaving","isEdited","clone","_i2","_Object$keys2","editOffset","ii","editKey","editValue","_visitorKeys$node$kin","visitFn","getVisitFn","kindVisitor","kindSpecificVisitor","leave","enter","specificVisitor","specificKindVisitor","_a","proto","InvariantError","_super","message","_this","genericMessage","framesToPop","invariant","condition","wrapConsoleMethod","method","console","warn","processStub","env","process","Function","atLeastWeTried","previousComparisons","equal","check","aTag","bTag","previouslyCompared","aKeys","bKeys","keyCount","size","aIterator","isMap","aKey","aValue","bSet","valueToObjectRepresentation","argObj","variables","isIntValue","isFloatValue","Number","isBooleanValue","isStringValue","isObjectValue","nestedArgObj_1","fields","isVariable","variableValue","isListValue","listValue","nestedArgArrayObj","isEnumValue","isNullValue","NODE_ENV","KNOWN_DIRECTIVES","getStoreKeyName","fieldName","args","directives","filterKeys","queryArgs_1","filteredArgs_1","completeFieldName","stringifiedArgs","opts","cmp","cycles","aobj","bobj","seen","isFinite","out","seenIndex","argumentsObjectFromField","field","argObj_1","resultKeyNameFromField","alias","isField","selection","isInlineFragment","isIdValue","idObject","generated","toIdValue","idConfig","id","typename","getDirectiveInfoFromField","directiveObj_1","directive","shouldInclude","isInclusionDirective","directiveArguments","directiveName","ifArgument","ifValue","every","evaledValue","hasDirectives","names","doc","getDirectiveNames","some","hasClientExports","getFragmentQueryDocument","fragmentName","actualFragmentName","fragments","definitions","operation","selectionSet","selections","sources","_i","checkDocument","operations","getOperationDefinition","getOperationName","x","getFragmentDefinitions","getMainDefinition","queryDoc","fragmentDefinition","createFragmentMap","symTable","getDefaultValues","variableDefinitions","defaultValues","defaultValue","variable","defaultValueObj","filterInPlace","elem","TYPENAME_FIELD","nullIfDocIsEmpty","isEmpty","fragmentDef","getFragmentDefinition","getDirectiveMatcher","dir","removeDirectivesFromDocument","variablesInUse","variablesToRemove","fragmentSpreadsInUse","fragmentSpreadsToRemove","modifiedDoc","_key","remove","arg","getAllFragmentSpreadsFromSelectionSet","allFragments","frag","config","argMatcher","argument","aConfig","getArgumentMatcher","varDef","argConfig","argMatchCount_1","removeArgumentsFromDocument","fs","def","removeFragmentSpreadFromDocument","connectionRemoveConfig","willRemove","buildQueryFromSelectionSet","canUseWeakMap","WeakMap","navigator","product","cloneDeep","cloneDeepHelper","val","copy_1","child","copy_2","getPrototypeOf","isEnv","isTest","tryFunctionOrLogError","graphQLResultHasError","errors","maybeDeepFreeze","deepFreeze","getOwnPropertyNames","prop","isFrozen","mergeDeep","mergeDeepArray","count","pastCopies","shallowCopyForMerge","mergeHelper","isObject","isExtensible","sourceKey","sourceValue","targetValue","_classCallCheck","Constructor","_defineProperties","descriptor","enumerable","configurable","defineProperty","_createClass","protoProps","staticProps","exports","hasSymbols","hasSymbol","getSymbol","observable","SymbolIterator","SymbolObservable","SymbolSpecies","getMethod","getSpecies","ctor","Observable","isObservable","hostReportError","log","setTimeout","enqueue","cleanupSubscription","subscription","_cleanup","closeSubscription","_observer","_queue","_state","notifySubscription","observer","onNotify","queue","flushSubscription","Subscription","subscriptionObserver","SubscriptionObserver","_subscription","_subscriber","complete","_this2","_this3","_this4","C","hasSeed","hasValue","seed","acc","first","_this5","_len","startNext","_this6","subscriptions","outer","inner","completeIfDone","closed","_iteratorNormalCompletion","_didIteratorError","_iteratorError","_step","_iterator","_item","err","_len2","_key2","symbol","require$$0","LinkError","isTerminating","request","fromError","errorValue","createOperation","starting","query","operationName","getKey","passthrough","forward","of","toLink","ApolloLink","links","left","right","leftLink","rightLink","second","firstLink","nextLink","execute","transformedOperation","extensions","transformOperation","OPERATION_FIELDS","validateOperation","NetworkStatus","ponyfill","self","global","module","isNetworkRequestInFlight","networkStatus","$$observable","Observable$1","isNonEmptyArray","FetchType","ApolloError","graphQLErrors","networkError","errorMessage","extraInfo","graphQLError","ObservableQuery","queryManager","_b","shouldSubscribe","onSubscribe","observers","isTornDown","queryId","generateQueryId","opDef","queryName","removeQuery","currentResult","getCurrentResult","lastResult","lastError","loading","storeValue","policy","getCurrentQueryResult","partial","queryStoreValue","queryStore","fetchPolicy","isNetworkFetchPolicy","errorPolicy","updateLastResult","stale","isDifferentFromLastResult","newResult","snapshot","lastResultSnapshot","isEqual","getLastResult","getLastError","resetLastResults","resetQueryStoreErrors","refetch","fetchQuery","fetchMore","fetchMoreOptions","updateQuery","combinedOptions","qid","normal","fetchMoreResult","previousResult","stopQuery","subscribeToMore","startGraphQLSubscription","subscriptionData","previous","onError","setOptions","oldFetchPolicy","pollInterval","startPolling","stopPolling","setVariables","fetchResults","tryFetch","mapFn","getQueryWithPreviousResult","dataStore","markUpdateQueryResult","broadcastQueries","stopPollingQuery","assertNotCacheFirstOrOnly","startPollingQuery","assumeImmutableResults","subObserver","defaultSubscriptionObserverErrorCallback","setUpQuery","tearDownQuery","addObservableQuery","iterateObserversSafely","observeQuery","previousResult_1","query_1","fetchPolicy_1","transform","getLocalState","addExportedVariables","previousVariables","serverQuery","sub","removeObservableQuery","observersWithMethod","obs","obsQuery","MutationStore","getStore","mutationId","initMutation","mutation","markMutationError","markMutationResult","reset","QueryStore","initQuery","previousQuery","isSetVariables","storePreviousVariables","isPoll","poll","isRefetch","metadata","fetchMoreForQueryId","markQueryResult","markQueryError","markQueryResultClient","observableQueryIds","LocalState","cache","client","resolvers","fragmentMatcher","addResolvers","setFragmentMatcher","resolverGroup","setResolvers","getResolvers","runResolvers","remoteResult","onlyRunForcedResolvers","_c","resolveDocument","localResult","getFragmentMatcher","clientQuery","removeClientSetsFromDocument","prepareContext","getCacheKey","dataIdFromObject","buildRootValueFromCache","exportedVariables","shouldForceResolvers","forceResolvers","diff","returnPartialData","optimistic","rootValue","mainDefinition","fragmentMap","definitionOperation","defaultOperationType","execContext","charAt","toUpperCase","resolveSelectionSet","resultsToMerge","typeCondition","resolveField","fieldResult","fragmentResult","all","aliasedFieldName","aliasUsed","defaultResult","resultPromise","resolverType","resolverMap","__typename","resolveSubSelectedArray","item","multiplex","QueryManager","queryDeduplication","onBroadcast","_d","ssrMode","_e","clientAwareness","localState","mutationStore","idCounter","queries","fetchQueryRejectFns","transformCache","inFlightLinkObservables","pollingInfoByQueryId","getCache","_info","stopQueryNoBroadcast","mutate","optimisticResponse","updateQueriesByName","updateQueries","refetchQueries","awaitRefetchQueries","updateWithProxyFn","generateUpdateQueriesInfo","_f","setQuery","getVariables","observableQuery","updater","markMutationInit","storeResult","getObservableFromLink","markMutationComplete","refetchQueryPromises","refetchQuery","queryOptions","fetchType","isNetworkOnly","needToFetch","shouldFetch","requestId","cancel","networkResult","updateQueryWatch","lastRequestId","invalidated","fetchRequest","getQuery","hasForcedResolvers","newData","queryListenerForObserver","invoke","networkStatusChanged","shouldNotifyIfLoading","notifyOnNetworkStatusChange","hasGraphQLErrors","isMissing","errorStatusChanged","diffResult","resultFromStore","transformed","transformDocument","forLink","transformForLink","cacheEntry_1","defaultVars","watchQuery","transformedOptions","watchedQuery","stopQueryInStore","stopQueryInStoreNoBroadcast","addQueryListener","watch","clearStore","resetIds","resetStore","reFetchObservableQueries","includeStandby","observableQueryPromises","startQuery","makeObservable","markSubscriptionResult","observablePromise_1","queryIdOrObservable","foundObserveableQuery","deduplication","inFlightLinkObservables_1","forceFetch","byVariables_1","varJson_1","cleanupSub_1","activeNextCount","completed","asyncMap","errorsFromStore","fqrfId","result_1","newInfo","newContext","checkInFlight","interval","maybeFetch_1","poll_1","clearTimeout","timeout","DataStore","initialCache","ignoreErrors","writeWithErrors","write","dataId","optimistic_1","recordOptimisticTransaction","orig","cacheWrites_1","updateQueries_1","currentQueryResult","nextQueryResult","mutationResult","queryVariables","performTransaction","removeOptimistic","hasSuggestedDevtools","ApolloClient","defaultOptions","resetStoreCallbacks","clearStoreCallbacks","ssrForceFetchDelay","connectToDevTools","typeDefs","clientAwarenessName","clientAwarenessVersion","version","disableNetworkFetches","bind","defaultConnectToDevTools","__APOLLO_CLIENT__","top","__APOLLO_DEVTOOLS_GLOBAL_HOOK__","userAgent","debug","devToolsHookCb","mutations","dataWithOptimisticResults","extract","readQuery","readFragment","writeQuery","writeFragment","writeData","__actionHookForDevTools","cb","__requestRaw","payload","initQueryManager","onResetStore","onClearStore","restore","serializedState","setLocalStateFragmentMatcher","queryFromPojo","selectionSetFromObj","justTypenameQuery","ApolloCache","read","rootId","typenameResult","dataToWrite","currentContext","MISSING_VALUE","Slot","random","context_1","slots","getValue","withValue","saved","noContext","defaultDispose","Cache","dispose","Infinity","newest","oldest","entry","getEntry","older","newer","clean","parentEntrySlot","reusableEmptyArray","emptySetPool","assert","optionalMessage","valueGet","Entry","parents","childValues","dirtyChildren","recomputing","recompute","mightBeDirty","reportDirtyChild","reportCleanChild","rememberParent","maybeReportOrphan","originalChildren","forgetChildren","recomputeNewValue","maybeUnsubscribe","setDirty","maybeSubscribe","reportClean","setClean","reallyRecompute","reportDirty","forgetChild","childValue","removeDirtyChild","dc","reportOrphan","_value","KeyTrie","weakness","lookup","lookupArray","getChildTrie","isObjRef","weak","strong","keyTrie","defaultMakeCacheKey","caches","wrap","originalFunction","pow","disposable","makeCacheKey","haveWarned","shouldWarn","answer","HeuristicFragmentMatcher","ensureReady","canBypassInit","idValue","isRootQuery","hasOwn","DepTrackingCache","depend","toObject","defaultNormalizedCacheFactory","StoreReader","cacheKeyRoot","freezeResults","executeStoreQuery","executeSelectionSet","executeSubSelectedArray","contextValue","variableValues","readQueryFromStore","diffQueryAgainstStore","queryDef","fragmentMatcherFunction","cacheRedirects","execResult","hasMissingFields","missing","tolerable","defaultFragmentMatcher","finalResult","objectsToMerge","handleMissing","executeField","fragmentExecResult","readStoreResult","resultKey","storeKeyName","fieldValue","resolver","storeObj","jsonObject","json","readStoreResolver","combineExecResults","assertSelectionSetForIdValue","execResults","childResult","ObjectCache","WriteError","StoreWriter","writeQueryToStore","writeResultToStore","operationDefinition","writeSelectionSetToStore","processedData","enhancedError","enhanceErrorWithDocument","resultFieldKey","writeFieldToStore","isDefered","isClient","substring","matches","fakeContext","storeObject","storeFieldName","directivesObj","storeKeyNameFromField","generatedId","processArrayValue","valueDataId","isGeneratedId","semanticId","isDataProcessed","escapedId","hadTypename","hasTypename","typenameChanged","mergeWithGenerated","generatedKey","realKey","real","madeChanges","realValue","newRealValue","itemDataId","defaultConfig","_id","addTypename","resultCaching","hasOwn$1","OptimisticCacheLayer","optimisticId","transaction","InMemoryCache","watches","typenameDocumentCache","silenceBroadcast","customResolvers","cacheResolvers","optimisticData","storeWriter","storeReader","maybeBroadcastWatch","broadcastWatches","evict","idToRemove","toReapply","removedCount","layer","layer_1","lastIndexOf","dedentBlockStringValue","rawString","lines","commonIndent","indent","leadingWhitespace","getBlockStringIndentation","isBlank","shift","print","ast","printDocASTReducer","varDefs","_ref","_ref2","_ref3","_ref4","_ref5","_ref6","_ref7","_ref8","_ref9","_ref10","indentation","preferMultipleLines","isSingleLine","hasLeadingSpace","hasTrailingQuote","printAsMultipleLines","printBlockString","_ref11","_ref12","_ref13","_ref14","_ref15","_ref16","_ref17","_ref18","_ref19","addDescription","_ref20","operationTypes","_ref21","_ref22","_ref23","interfaces","_ref24","hasMultilineItems","_ref25","_ref26","_ref27","types","_ref28","_ref29","_ref30","_ref31","repeatable","locations","_ref32","_ref33","_ref34","_ref35","_ref36","_ref37","_ref38","description","maybeArray","_maybeArray$filter$jo","separator","maybeString","isMultiline","string","fallbackHttpConfig","http","includeQuery","includeExtensions","headers","accept","content-type","throwServerError","response","statusCode","status","serializeFetchParameter","serialized","parseError","createHttpLink","linkOptions","fetcher","fetch","useGETForQueries","requestOptions","getOwnPropertySymbols","propertyIsEnumerable","__rest","library","checkFetcher","linkConfig","fetchOptions","credentials","chosenURI","fallbackURI","contextURI","selectURI","clientAwarenessHeaders","name_1","controller","contextHeaders","contextConfig","fallbackConfig","configs","selectHttpOptionsAndBody","signal","AbortController","createSignalIfSupported","_controller","queryParams","addQueryParam","encodeURIComponent","serializedVariables","serializedExtensions","preFragment","fragmentStart","substr","queryParamsPrefix","newURI","rewriteURIForGET","bodyText","parse","abort","HttpLink","errorHandler","retriedSub","retriedResult","ErrorLink","devAssert","SYMBOL_TO_STRING_TAG","toStringTag","position","lineRegexp","printLocation","printSourceLocation","sourceLocation","firstLineColumnOffset","locationOffset","whitespace","lineIndex","lineOffset","lineNum","columnOffset","columnNum","locationStr","locationLine","subLineIndex","floor","subLineColumnNum","subLines","printPrefixedLines","subLine","existingLines","padLen","prefix","_possibleConstructorReturn","_assertThisInitialized","ReferenceError","_wrapNativeSuper","Class","_cache","Wrapper","_construct","_getPrototypeOf","_setPrototypeOf","Parent","_isNativeReflectConstruct","Reflect","construct","sham","Proxy","GraphQLError","_Error","subClass","superClass","_inherits","Derived","Super","NewTarget","positions","originalError","_locations2","_source2","_positions2","_extensions2","_nodes$0$loc","_nodes","_source","loc","_locations","_positions","list","pos","_extensions","originalExtensions","defineProperties","captureStackTrace","output","_error$nodes2","_i4","_error$locations2","printError","syntaxError","Kind","NAME","DOCUMENT","OPERATION_DEFINITION","VARIABLE_DEFINITION","SELECTION_SET","FIELD","ARGUMENT","FRAGMENT_SPREAD","INLINE_FRAGMENT","FRAGMENT_DEFINITION","VARIABLE","INT","FLOAT","STRING","BOOLEAN","NULL","ENUM","LIST","OBJECT","OBJECT_FIELD","DIRECTIVE","NAMED_TYPE","LIST_TYPE","NON_NULL_TYPE","SCHEMA_DEFINITION","OPERATION_TYPE_DEFINITION","SCALAR_TYPE_DEFINITION","OBJECT_TYPE_DEFINITION","FIELD_DEFINITION","INPUT_VALUE_DEFINITION","INTERFACE_TYPE_DEFINITION","UNION_TYPE_DEFINITION","ENUM_TYPE_DEFINITION","ENUM_VALUE_DEFINITION","INPUT_OBJECT_TYPE_DEFINITION","DIRECTIVE_DEFINITION","SCHEMA_EXTENSION","SCALAR_TYPE_EXTENSION","OBJECT_TYPE_EXTENSION","INTERFACE_TYPE_EXTENSION","UNION_TYPE_EXTENSION","ENUM_TYPE_EXTENSION","INPUT_OBJECT_TYPE_EXTENSION","Source","DirectiveLocation","QUERY","MUTATION","SUBSCRIPTION","SCHEMA","SCALAR","ARGUMENT_DEFINITION","INTERFACE","UNION","ENUM_VALUE","INPUT_OBJECT","INPUT_FIELD_DEFINITION","TokenKind","SOF","EOF","BANG","DOLLAR","AMP","PAREN_L","PAREN_R","SPREAD","COLON","EQUALS","AT","BRACKET_L","BRACKET_R","BRACE_L","PIPE","BRACE_R","BLOCK_STRING","COMMENT","Lexer","startOfFileToken","lastToken","lineStart","_proto","advance","lookahead","_token$next","readToken","printCharCode","code","isNaN","fromCharCode","lexer","bodyLength","startPosition","charCodeAt","positionAfterWhitespace","col","readComment","readName","firstCode","isFloat","readDigits","isNameStart","readNumber","chunkStart","rawValue","readBlockString","charCode","char2hex","invalidSequence","readString","unexpectedCharacterMessage","Parser","sourceObj","_lexer","_options","parseName","expectToken","parseDocument","many","parseDefinition","peek","parseOperationDefinition","parseFragmentDefinition","parseTypeSystemDefinition","parseTypeSystemExtension","peekDescription","unexpected","parseSelectionSet","parseOperationType","parseVariableDefinitions","parseDirectives","operationToken","optionalMany","parseVariableDefinition","parseVariable","parseTypeReference","expectOptionalToken","parseValueLiteral","parseSelection","parseFragment","parseField","nameOrAlias","parseArguments","isConst","parseConstArgument","parseArgument","hasTypeCondition","expectOptionalKeyword","parseFragmentName","parseNamedType","_this$_options","expectKeyword","experimentalFragmentVariables","parseList","parseObject","parseStringLiteral","any","parseObjectField","parseDirective","keywordToken","parseSchemaDefinition","parseScalarTypeDefinition","parseObjectTypeDefinition","parseInterfaceTypeDefinition","parseUnionTypeDefinition","parseEnumTypeDefinition","parseInputObjectTypeDefinition","parseDirectiveDefinition","parseDescription","parseOperationTypeDefinition","parseImplementsInterfaces","parseFieldsDefinition","_this$_options2","allowLegacySDLImplementsInterfaces","_this$_options3","allowLegacySDLEmptyFields","parseFieldDefinition","parseArgumentDefs","parseInputValueDef","parseUnionMemberTypes","parseEnumValuesDefinition","parseEnumValueDefinition","parseInputFieldsDefinition","parseSchemaExtension","parseScalarTypeExtension","parseObjectTypeExtension","parseInterfaceTypeExtension","parseUnionTypeExtension","parseEnumTypeExtension","parseInputObjectTypeExtension","parseDirectiveLocations","parseDirectiveLocation","_this$_options4","noLocation","getTokenKindDesc","getTokenDesc","atToken","openKind","parseFn","closeKind","isPunctuatorTokenKind","parser","normalize","trim","docCache","fragmentSourceMap","printFragmentWarnings","cacheKey","parsed","stripLoc","removeLocAtThisLevel","docType","valueType","astFragmentMap","processFragments","gql","literals","resetCaches","disableFragmentWarnings","enableExperimentalFragmentVariables","disableExperimentalFragmentVariables","OBSERVABLE","PRESET_CONFIG_KEYS","DefaultClient","clientState","errorCallback","errorLink","requestHandler","handle","oper","httpLink","activeResolvers","activeTypeDefs","activeFragmentMatcher","defaults","ApolloClient__default","observe","initial","initialized","_resolve","_reject","fulfill","deferred","CLIENT","getClient","restoring","WeakSet","subscribed","observable_query","subscribe_to_query","skip_duplicate","skipped","user","events","title","dateTime","notes","income","mileage","eventQuery","sortedEvents","firstFive","DELETEEVENT","date","formattedDate","eventId","res","querySelector","classList","toggle","formValid","goodPost","successfulPost","time","payment","messages","GETEVENTS","ADDEVENT","addEvent","userId","totalIncome","yearToDateIncome","lastYearIncome","getElementById","Chart","defaultFontSize","defaultFontFamily","defaultFontColor","labels","datasets","backgroundColor","borderColor","borderWidth","scales","yAxes","ticks","beginAtZero","totalMileage","yearToDateMileage","lastYearMileage","GETALLMILEAGE","incomeQuery","mileageQuery","totalData","currentYear","getFullYear","yearBegin","getTime","milliseconds","previousYear","HomeScreen","NewEventForm","Dashboard","AllEvents","setClient"],"mappings":"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"}